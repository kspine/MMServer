<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="src_2_se_race_query_mgr_8cpp" kind="file">
    <compoundname>SeRaceQueryMgr.cpp</compoundname>
    <includes refid="src_2_se_race_query_mgr_8h" local="yes">SeRaceQueryMgr.h</includes>
    <includes refid="_match_server_2src_2_se_race_mgr_8h" local="yes">SeRaceMgr.h</includes>
    <includes refid="src_2_match_server_8h" local="yes">MatchServer.h</includes>
    <incdepgraph>
      <node id="38905">
        <label>list</label>
      </node>
      <node id="38899">
        <label>locale</label>
      </node>
      <node id="39025">
        <label>AchievementTask_table.hpp</label>
        <link refid="_achievement_task__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39035">
        <label>SeHttpProcess.inl</label>
        <link refid="_match_server_2src_2_se_http_process_8inl"/>
      </node>
      <node id="38940">
        <label>SePtl_MS_To_WS.h</label>
        <link refid="_se_ptl___m_s___to___w_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38939">
        <label>SePtl_WS_To_MS.h</label>
        <link refid="_se_ptl___w_s___to___m_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="39034">
        <label>SeHttpSend.inl</label>
        <link refid="_match_server_2src_2_se_http_send_8inl"/>
      </node>
      <node id="38996">
        <label>MGClientExport.h</label>
        <link refid="_m_g_client_export_8h"/>
      </node>
      <node id="38989">
        <label>EffectSwitch_table.hpp</label>
        <link refid="_effect_switch__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38964">
        <label>Racehelp_table.hpp</label>
        <link refid="_racehelp__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38909">
        <label>queue</label>
      </node>
      <node id="38903">
        <label>limits</label>
      </node>
      <node id="38950">
        <label>SeTownMgr.h</label>
        <link refid="_match_server_2src_2_se_town_mgr_8h"/>
        <childnode refid="38951" relation="include">
        </childnode>
      </node>
      <node id="38919">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="39022">
        <label>KillBounty_table.hpp</label>
        <link refid="_kill_bounty__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38952">
        <label>SeRaceSvrMgr.h</label>
        <link refid="src_2_se_race_svr_mgr_8h"/>
        <childnode refid="38953" relation="include">
        </childnode>
      </node>
      <node id="38920">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38921" relation="include">
        </childnode>
        <childnode refid="38891" relation="include">
        </childnode>
      </node>
      <node id="38886">
        <label>windows.h</label>
      </node>
      <node id="38977">
        <label>Pet_table.hpp</label>
        <link refid="_pet__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39036">
        <label>SeTMProcess.inl</label>
        <link refid="_se_t_m_process_8inl"/>
      </node>
      <node id="38891">
        <label>assert.h</label>
      </node>
      <node id="39017">
        <label>FreeHeroes_table.hpp</label>
        <link refid="_free_heroes__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39031">
        <label>SeMTSend.inl</label>
        <link refid="_se_m_t_send_8inl"/>
      </node>
      <node id="38941">
        <label>SePtl_BLS_To_MS.h</label>
        <link refid="_se_ptl___b_l_s___to___m_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
      </node>
      <node id="39028">
        <label>SeMatchMgr.h</label>
        <link refid="src_2_se_match_mgr_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38919" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
        <childnode refid="38951" relation="include">
        </childnode>
        <childnode refid="38920" relation="include">
        </childnode>
        <childnode refid="38922" relation="include">
        </childnode>
        <childnode refid="39029" relation="include">
        </childnode>
      </node>
      <node id="38986">
        <label>RandomName_table.hpp</label>
        <link refid="_random_name__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38943">
        <label>SeDBDefine.h</label>
        <link refid="_se_d_b_define_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38927">
        <label>SeTimer.h</label>
        <link refid="_se_timer_8h"/>
      </node>
      <node id="39004">
        <label>MapShopRes_table.hpp</label>
        <link refid="_map_shop_res__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38980">
        <label>chance_table.hpp</label>
        <link refid="_chance__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38889">
        <label>stdlib.h</label>
      </node>
      <node id="38921">
        <label>EsLock.h</label>
      </node>
      <node id="38956">
        <label>Unit_table.hpp</label>
        <link refid="_unit__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38931">
        <label>MatchServer.h</label>
        <link refid="src_2_match_server_8h"/>
        <childnode refid="38932" relation="include">
        </childnode>
        <childnode refid="38933" relation="include">
        </childnode>
        <childnode refid="38934" relation="include">
        </childnode>
        <childnode refid="38946" relation="include">
        </childnode>
        <childnode refid="38948" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
        <childnode refid="38949" relation="include">
        </childnode>
        <childnode refid="38920" relation="include">
        </childnode>
        <childnode refid="38950" relation="include">
        </childnode>
        <childnode refid="38952" relation="include">
        </childnode>
        <childnode refid="38922" relation="include">
        </childnode>
        <childnode refid="38883" relation="include">
        </childnode>
        <childnode refid="38954" relation="include">
        </childnode>
        <childnode refid="39026" relation="include">
        </childnode>
        <childnode refid="39027" relation="include">
        </childnode>
        <childnode refid="38919" relation="include">
        </childnode>
        <childnode refid="39028" relation="include">
        </childnode>
        <childnode refid="39031" relation="include">
        </childnode>
        <childnode refid="39032" relation="include">
        </childnode>
        <childnode refid="39033" relation="include">
        </childnode>
        <childnode refid="39034" relation="include">
        </childnode>
        <childnode refid="39035" relation="include">
        </childnode>
        <childnode refid="39036" relation="include">
        </childnode>
        <childnode refid="39037" relation="include">
        </childnode>
        <childnode refid="39038" relation="include">
        </childnode>
        <childnode refid="39039" relation="include">
        </childnode>
        <childnode refid="39040" relation="include">
        </childnode>
        <childnode refid="39041" relation="include">
        </childnode>
        <childnode refid="39042" relation="include">
        </childnode>
        <childnode refid="39043" relation="include">
        </childnode>
      </node>
      <node id="38922">
        <label>SeRaceMgrDef.h</label>
        <link refid="_match_server_2src_2_se_race_mgr_def_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="39037">
        <label>SeRMProcess.inl</label>
        <link refid="_se_r_m_process_8inl"/>
      </node>
      <node id="38971">
        <label>RenJiCustomData_table.hpp</label>
        <link refid="_ren_ji_custom_data__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38979">
        <label>Dress_table.hpp</label>
        <link refid="_dress__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38893">
        <label>cmath</label>
      </node>
      <node id="39002">
        <label>AvatarEffect_table.hpp</label>
        <link refid="_avatar_effect__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39007">
        <label>MapMisc_table.hpp</label>
        <link refid="_map_misc__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39011">
        <label>UpgradeCost_table.hpp</label>
        <link refid="_upgrade_cost__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39024">
        <label>VideoTag_table.hpp</label>
        <link refid="_video_tag__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38969">
        <label>RenJiActions_table.hpp</label>
        <link refid="_ren_ji_actions__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38930">
        <label>SeTableResBase.h</label>
        <link refid="_se_table_res_base_8h"/>
        <childnode refid="38904" relation="include">
        </childnode>
      </node>
      <node id="38902">
        <label>string</label>
      </node>
      <node id="38938">
        <label>SePtl_HS_To_HS.h</label>
        <link refid="_se_ptl___h_s___to___h_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="39013">
        <label>AppendSkill_table.hpp</label>
        <link refid="_append_skill__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38906">
        <label>map</label>
      </node>
      <node id="38946">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="38947" relation="include">
        </childnode>
        <childnode refid="38895" relation="include">
        </childnode>
        <childnode refid="38921" relation="include">
        </childnode>
      </node>
      <node id="38953">
        <label>SeRaceSvrMgrDef.h</label>
        <link refid="src_2_se_race_svr_mgr_def_8h"/>
        <childnode refid="38934" relation="include">
        </childnode>
      </node>
      <node id="38883">
        <label>SeRaceQueryMgrDef.h</label>
        <link refid="src_2_se_race_query_mgr_def_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38912" relation="include">
        </childnode>
        <childnode refid="38922" relation="include">
        </childnode>
      </node>
      <node id="38888">
        <label>conio.h</label>
      </node>
      <node id="38970">
        <label>RenJiConditions_table.hpp</label>
        <link refid="_ren_ji_conditions__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38918">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="38945">
        <label>SePtl_MS_To_NS.h</label>
        <link refid="_se_ptl___m_s___to___n_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38944">
        <label>SePtl_NS_To_MS.h</label>
        <link refid="_se_ptl___n_s___to___m_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="39012">
        <label>Decompose_table.hpp</label>
        <link refid="_decompose__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38966">
        <label>ItemExchange_table.hpp</label>
        <link refid="_item_exchange__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38998">
        <label>HeroInfo_table.hpp</label>
        <link refid="_hero_info__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38887">
        <label>direct.h</label>
      </node>
      <node id="38995">
        <label>GlobalTableMgr.h</label>
        <link refid="_global_table_mgr_8h"/>
        <childnode refid="38996" relation="include">
        </childnode>
        <childnode refid="38929" relation="include">
        </childnode>
        <childnode refid="38957" relation="include">
        </childnode>
        <childnode refid="38961" relation="include">
        </childnode>
        <childnode refid="38956" relation="include">
        </childnode>
        <childnode refid="38959" relation="include">
        </childnode>
        <childnode refid="38991" relation="include">
        </childnode>
        <childnode refid="38992" relation="include">
        </childnode>
        <childnode refid="38994" relation="include">
        </childnode>
        <childnode refid="38997" relation="include">
        </childnode>
        <childnode refid="38998" relation="include">
        </childnode>
        <childnode refid="38999" relation="include">
        </childnode>
        <childnode refid="39000" relation="include">
        </childnode>
        <childnode refid="39001" relation="include">
        </childnode>
        <childnode refid="39002" relation="include">
        </childnode>
        <childnode refid="38958" relation="include">
        </childnode>
        <childnode refid="39003" relation="include">
        </childnode>
        <childnode refid="38984" relation="include">
        </childnode>
        <childnode refid="39004" relation="include">
        </childnode>
        <childnode refid="39005" relation="include">
        </childnode>
        <childnode refid="39006" relation="include">
        </childnode>
        <childnode refid="38993" relation="include">
        </childnode>
        <childnode refid="39007" relation="include">
        </childnode>
        <childnode refid="39008" relation="include">
        </childnode>
        <childnode refid="38963" relation="include">
        </childnode>
        <childnode refid="39009" relation="include">
        </childnode>
        <childnode refid="39010" relation="include">
        </childnode>
        <childnode refid="39011" relation="include">
        </childnode>
        <childnode refid="39012" relation="include">
        </childnode>
        <childnode refid="39013" relation="include">
        </childnode>
        <childnode refid="38967" relation="include">
        </childnode>
        <childnode refid="38965" relation="include">
        </childnode>
        <childnode refid="39014" relation="include">
        </childnode>
        <childnode refid="39015" relation="include">
        </childnode>
        <childnode refid="39016" relation="include">
        </childnode>
        <childnode refid="39017" relation="include">
        </childnode>
        <childnode refid="38980" relation="include">
        </childnode>
        <childnode refid="39018" relation="include">
        </childnode>
      </node>
      <node id="38993">
        <label>BattleTips_table.hpp</label>
        <link refid="_battle_tips__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38975">
        <label>TaskInfo_table.hpp</label>
        <link refid="_task_info__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39016">
        <label>Propaganda_table.hpp</label>
        <link refid="_propaganda__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39008">
        <label>MapsInfo_table.hpp</label>
        <link refid="_maps_info__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38900">
        <label>fstream</label>
      </node>
      <node id="38934">
        <label>MatchServerDef.h</label>
        <link refid="src_2_match_server_def_8h"/>
        <childnode refid="38913" relation="include">
        </childnode>
        <childnode refid="38920" relation="include">
        </childnode>
        <childnode refid="38924" relation="include">
        </childnode>
        <childnode refid="38912" relation="include">
        </childnode>
        <childnode refid="38935" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
        <childnode refid="38928" relation="include">
        </childnode>
        <childnode refid="38936" relation="include">
        </childnode>
        <childnode refid="38925" relation="include">
        </childnode>
        <childnode refid="38937" relation="include">
        </childnode>
        <childnode refid="38938" relation="include">
        </childnode>
        <childnode refid="38939" relation="include">
        </childnode>
        <childnode refid="38940" relation="include">
        </childnode>
        <childnode refid="38941" relation="include">
        </childnode>
        <childnode refid="38942" relation="include">
        </childnode>
        <childnode refid="38944" relation="include">
        </childnode>
        <childnode refid="38945" relation="include">
        </childnode>
      </node>
      <node id="38914">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38913" relation="include">
        </childnode>
        <childnode refid="38915" relation="include">
        </childnode>
        <childnode refid="38916" relation="include">
        </childnode>
        <childnode refid="38897" relation="include">
        </childnode>
        <childnode refid="38917" relation="include">
        </childnode>
      </node>
      <node id="38948">
        <label>SeRandNum.h</label>
        <link refid="_se_rand_num_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
      </node>
      <node id="38885">
        <label>winsock2.h</label>
      </node>
      <node id="38990">
        <label>SearchChoice_table.hpp</label>
        <link refid="_search_choice__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39014">
        <label>AcSystem_table.hpp</label>
        <link refid="_ac_system__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38965">
        <label>ModelRes_table.hpp</label>
        <link refid="_model_res__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38881">
        <label>MatchServer/src/SeRaceQueryMgr.cpp</label>
        <link refid="src/SeRaceQueryMgr.cpp"/>
        <childnode refid="38882" relation="include">
        </childnode>
        <childnode refid="38926" relation="include">
        </childnode>
        <childnode refid="38931" relation="include">
        </childnode>
      </node>
      <node id="38963">
        <label>TownItem_table.hpp</label>
        <link refid="_town_item__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38949">
        <label>SeServerMainDef.h</label>
        <link refid="_se_server_main_def_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
      </node>
      <node id="38916">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="38896" relation="include">
        </childnode>
      </node>
      <node id="39041">
        <label>SeBLMProcess.inl</label>
        <link refid="_se_b_l_m_process_8inl"/>
      </node>
      <node id="38882">
        <label>SeRaceQueryMgr.h</label>
        <link refid="src_2_se_race_query_mgr_8h"/>
        <childnode refid="38883" relation="include">
        </childnode>
        <childnode refid="38925" relation="include">
        </childnode>
      </node>
      <node id="39023">
        <label>CreepTowerGrowth_table.hpp</label>
        <link refid="_creep_tower_growth__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38955">
        <label>Addtional_table.hpp</label>
        <link refid="_addtional__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38937">
        <label>SePtl_MS_To_RS.h</label>
        <link refid="_se_ptl___m_s___to___r_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38925">
        <label>SePtl_RS_To_MS.h</label>
        <link refid="_se_ptl___r_s___to___m_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38923">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="38913" relation="include">
        </childnode>
        <childnode refid="38924" relation="include">
        </childnode>
        <childnode refid="38914" relation="include">
        </childnode>
      </node>
      <node id="39021">
        <label>AttackArmorRatio_table.hpp</label>
        <link refid="_attack_armor_ratio__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38957">
        <label>Skill_table.hpp</label>
        <link refid="_skill__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38896">
        <label>string.h</label>
      </node>
      <node id="39006">
        <label>Level_table.hpp</label>
        <link refid="_level__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38932">
        <label>SeConfig.h</label>
        <link refid="_se_config_8h"/>
        <childnode refid="38913" relation="include">
        </childnode>
      </node>
      <node id="38894">
        <label>ctime</label>
      </node>
      <node id="38984">
        <label>Voice_table.hpp</label>
        <link refid="_voice__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38954">
        <label>TableMgr.h</label>
        <link refid="_table_mgr_8h"/>
        <childnode refid="38955" relation="include">
        </childnode>
        <childnode refid="38956" relation="include">
        </childnode>
        <childnode refid="38957" relation="include">
        </childnode>
        <childnode refid="38958" relation="include">
        </childnode>
        <childnode refid="38929" relation="include">
        </childnode>
        <childnode refid="38959" relation="include">
        </childnode>
        <childnode refid="38960" relation="include">
        </childnode>
        <childnode refid="38961" relation="include">
        </childnode>
        <childnode refid="38962" relation="include">
        </childnode>
        <childnode refid="38963" relation="include">
        </childnode>
        <childnode refid="38964" relation="include">
        </childnode>
        <childnode refid="38965" relation="include">
        </childnode>
        <childnode refid="38966" relation="include">
        </childnode>
        <childnode refid="38967" relation="include">
        </childnode>
        <childnode refid="38968" relation="include">
        </childnode>
        <childnode refid="38969" relation="include">
        </childnode>
        <childnode refid="38970" relation="include">
        </childnode>
        <childnode refid="38971" relation="include">
        </childnode>
        <childnode refid="38972" relation="include">
        </childnode>
        <childnode refid="38973" relation="include">
        </childnode>
        <childnode refid="38974" relation="include">
        </childnode>
        <childnode refid="38975" relation="include">
        </childnode>
        <childnode refid="38976" relation="include">
        </childnode>
        <childnode refid="38977" relation="include">
        </childnode>
        <childnode refid="38978" relation="include">
        </childnode>
        <childnode refid="38979" relation="include">
        </childnode>
        <childnode refid="38980" relation="include">
        </childnode>
        <childnode refid="38981" relation="include">
        </childnode>
        <childnode refid="38982" relation="include">
        </childnode>
        <childnode refid="38983" relation="include">
        </childnode>
        <childnode refid="38984" relation="include">
        </childnode>
        <childnode refid="38985" relation="include">
        </childnode>
        <childnode refid="38986" relation="include">
        </childnode>
        <childnode refid="38987" relation="include">
        </childnode>
        <childnode refid="38988" relation="include">
        </childnode>
        <childnode refid="38904" relation="include">
        </childnode>
        <childnode refid="38989" relation="include">
        </childnode>
        <childnode refid="38990" relation="include">
        </childnode>
        <childnode refid="38991" relation="include">
        </childnode>
        <childnode refid="38992" relation="include">
        </childnode>
        <childnode refid="38993" relation="include">
        </childnode>
        <childnode refid="38994" relation="include">
        </childnode>
        <childnode refid="38995" relation="include">
        </childnode>
        <childnode refid="39003" relation="include">
        </childnode>
        <childnode refid="38997" relation="include">
        </childnode>
        <childnode refid="38998" relation="include">
        </childnode>
        <childnode refid="39000" relation="include">
        </childnode>
        <childnode refid="39019" relation="include">
        </childnode>
        <childnode refid="39002" relation="include">
        </childnode>
        <childnode refid="39001" relation="include">
        </childnode>
        <childnode refid="39020" relation="include">
        </childnode>
        <childnode refid="38999" relation="include">
        </childnode>
        <childnode refid="39004" relation="include">
        </childnode>
        <childnode refid="39006" relation="include">
        </childnode>
        <childnode refid="39021" relation="include">
        </childnode>
        <childnode refid="39005" relation="include">
        </childnode>
        <childnode refid="39022" relation="include">
        </childnode>
        <childnode refid="39023" relation="include">
        </childnode>
        <childnode refid="39009" relation="include">
        </childnode>
        <childnode refid="39013" relation="include">
        </childnode>
        <childnode refid="39024" relation="include">
        </childnode>
        <childnode refid="39014" relation="include">
        </childnode>
        <childnode refid="39015" relation="include">
        </childnode>
        <childnode refid="39016" relation="include">
        </childnode>
        <childnode refid="39017" relation="include">
        </childnode>
        <childnode refid="39025" relation="include">
        </childnode>
      </node>
      <node id="38924">
        <label>TeNetMgr.h</label>
      </node>
      <node id="38904">
        <label>vector</label>
      </node>
      <node id="38987">
        <label>TableMgrDef.h</label>
        <link refid="_table_mgr_def_8h"/>
        <childnode refid="38904" relation="include">
        </childnode>
        <childnode refid="38907" relation="include">
        </childnode>
      </node>
      <node id="39030">
        <label>MobaApi.hpp</label>
        <link refid="_moba_api_8hpp"/>
      </node>
      <node id="38958">
        <label>Buffer_table.hpp</label>
        <link refid="_buffer__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38929">
        <label>MapInfo_table.hpp</label>
        <link refid="_map_info__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39032">
        <label>SeMRSend.inl</label>
        <link refid="_se_m_r_send_8inl"/>
      </node>
      <node id="39000">
        <label>Avatar_table.hpp</label>
        <link refid="_avatar__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38910">
        <label>new</label>
      </node>
      <node id="39033">
        <label>SeMatchOther.inl</label>
        <link refid="src_2_se_match_other_8inl"/>
      </node>
      <node id="39026">
        <label>SeResMgr.h</label>
        <link refid="_match_server_2src_2_se_res_mgr_8h"/>
        <childnode refid="38954" relation="include">
        </childnode>
        <childnode refid="38934" relation="include">
        </childnode>
      </node>
      <node id="38912">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38913" relation="include">
        </childnode>
        <childnode refid="38914" relation="include">
        </childnode>
        <childnode refid="38918" relation="include">
        </childnode>
        <childnode refid="38919" relation="include">
        </childnode>
        <childnode refid="38920" relation="include">
        </childnode>
      </node>
      <node id="38913">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
      </node>
      <node id="38951">
        <label>SeTownMgrDef.h</label>
        <link refid="_match_server_2src_2_se_town_mgr_def_8h"/>
        <childnode refid="38934" relation="include">
        </childnode>
      </node>
      <node id="38901">
        <label>sstream</label>
      </node>
      <node id="38991">
        <label>ItemCompose_table.hpp</label>
        <link refid="_item_compose__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38917">
        <label>EsString.h</label>
      </node>
      <node id="38973">
        <label>Indexoffer_table.hpp</label>
        <link refid="_indexoffer__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39027">
        <label>SeVirtConnMgr.h</label>
        <link refid="_se_virt_conn_mgr_8h"/>
        <childnode refid="38913" relation="include">
        </childnode>
        <childnode refid="38924" relation="include">
        </childnode>
        <childnode refid="38912" relation="include">
        </childnode>
        <childnode refid="38927" relation="include">
        </childnode>
      </node>
      <node id="38967">
        <label>Rack_table.hpp</label>
        <link refid="_rack__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38884">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="38885" relation="include">
        </childnode>
        <childnode refid="38886" relation="include">
        </childnode>
        <childnode refid="38887" relation="include">
        </childnode>
        <childnode refid="38888" relation="include">
        </childnode>
        <childnode refid="38889" relation="include">
        </childnode>
        <childnode refid="38890" relation="include">
        </childnode>
        <childnode refid="38891" relation="include">
        </childnode>
        <childnode refid="38892" relation="include">
        </childnode>
        <childnode refid="38893" relation="include">
        </childnode>
        <childnode refid="38894" relation="include">
        </childnode>
        <childnode refid="38895" relation="include">
        </childnode>
        <childnode refid="38896" relation="include">
        </childnode>
        <childnode refid="38897" relation="include">
        </childnode>
        <childnode refid="38898" relation="include">
        </childnode>
        <childnode refid="38899" relation="include">
        </childnode>
        <childnode refid="38900" relation="include">
        </childnode>
        <childnode refid="38901" relation="include">
        </childnode>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38903" relation="include">
        </childnode>
        <childnode refid="38904" relation="include">
        </childnode>
        <childnode refid="38905" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38907" relation="include">
        </childnode>
        <childnode refid="38908" relation="include">
        </childnode>
        <childnode refid="38909" relation="include">
        </childnode>
        <childnode refid="38910" relation="include">
        </childnode>
        <childnode refid="38911" relation="include">
        </childnode>
      </node>
      <node id="38947">
        <label>time.h</label>
      </node>
      <node id="38890">
        <label>math.h</label>
      </node>
      <node id="38992">
        <label>PresetShop_table.hpp</label>
        <link refid="_preset_shop__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38981">
        <label>Language_table.hpp</label>
        <link refid="_language__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38935">
        <label>SeSynMgr.h</label>
        <link refid="_se_syn_mgr_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
      </node>
      <node id="38897">
        <label>EsType.h</label>
      </node>
      <node id="39010">
        <label>AppendCost_table.hpp</label>
        <link refid="_append_cost__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38972">
        <label>RaceText_table.hpp</label>
        <link refid="_race_text__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38892">
        <label>cctype</label>
      </node>
      <node id="38915">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="39042">
        <label>SeMNSend.inl</label>
        <link refid="_se_m_n_send_8inl"/>
      </node>
      <node id="38974">
        <label>UnitHeadArea_table.hpp</label>
        <link refid="_unit_head_area__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39015">
        <label>RankStage_table.hpp</label>
        <link refid="_rank_stage__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39029">
        <label>utils/Clock.hpp</label>
        <link refid="_clock_8hpp"/>
        <childnode refid="38921" relation="include">
        </childnode>
        <childnode refid="38947" relation="include">
        </childnode>
        <childnode refid="39030" relation="include">
        </childnode>
      </node>
      <node id="39018">
        <label>MissionInfo_table.hpp</label>
        <link refid="_mission_info__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39005">
        <label>ChoiceItem_table.hpp</label>
        <link refid="_choice_item__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39001">
        <label>AvatarModel_table.hpp</label>
        <link refid="_avatar_model__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38907">
        <label>unordered_map</label>
      </node>
      <node id="38994">
        <label>Shop_table.hpp</label>
        <link refid="_shop__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38911">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="38982">
        <label>StarWheel_table.hpp</label>
        <link refid="_star_wheel__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38960">
        <label>Racedrop_table.hpp</label>
        <link refid="_racedrop__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39038">
        <label>SeMWSend.inl</label>
        <link refid="_se_m_w_send_8inl"/>
      </node>
      <node id="39019">
        <label>AvatarAnimation_table.hpp</label>
        <link refid="_avatar_animation__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38933">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="38884" relation="include">
        </childnode>
        <childnode refid="38914" relation="include">
        </childnode>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38936">
        <label>SePtl_MS_To_TS.h</label>
        <link refid="_se_ptl___m_s___to___t_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38928">
        <label>SePtl_TS_To_MS.h</label>
        <link refid="_se_ptl___t_s___to___m_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
      </node>
      <node id="38968">
        <label>RenJi_table.hpp</label>
        <link refid="_ren_ji__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38976">
        <label>TaskRecom_table.hpp</label>
        <link refid="_task_recom__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38959">
        <label>Item_table.hpp</label>
        <link refid="_item__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38908" relation="include">
        </childnode>
        <childnode refid="38904" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39020">
        <label>AvatarShop_table.hpp</label>
        <link refid="_avatar_shop__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38983">
        <label>LeagueRank_table.hpp</label>
        <link refid="_league_rank__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38978">
        <label>Horse_table.hpp</label>
        <link refid="_horse__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39040">
        <label>SeMBLSend.inl</label>
        <link refid="_se_m_b_l_send_8inl"/>
      </node>
      <node id="38999">
        <label>Achievement_table.hpp</label>
        <link refid="_achievement__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38908">
        <label>set</label>
      </node>
      <node id="38985">
        <label>TableLoader.h</label>
        <link refid="_table_loader_8h"/>
      </node>
      <node id="39003">
        <label>SkillTips_table.hpp</label>
        <link refid="_skill_tips__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38908" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38898">
        <label>algorithm</label>
      </node>
      <node id="39043">
        <label>SeNMProcess.inl</label>
        <link refid="_se_n_m_process_8inl"/>
      </node>
      <node id="38988">
        <label>AddtionalFunction.h</label>
        <link refid="_addtional_function_8h"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38955" relation="include">
        </childnode>
      </node>
      <node id="39039">
        <label>SeWMProcess.inl</label>
        <link refid="_se_w_m_process_8inl"/>
      </node>
      <node id="38961">
        <label>SelHero_table.hpp</label>
        <link refid="_sel_hero__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38895">
        <label>stdio.h</label>
      </node>
      <node id="38962">
        <label>AI_table.hpp</label>
        <link refid="_a_i__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38926">
        <label>SeRaceMgr.h</label>
        <link refid="_match_server_2src_2_se_race_mgr_8h"/>
        <childnode refid="38922" relation="include">
        </childnode>
        <childnode refid="38927" relation="include">
        </childnode>
        <childnode refid="38928" relation="include">
        </childnode>
        <childnode refid="38925" relation="include">
        </childnode>
        <childnode refid="38929" relation="include">
        </childnode>
      </node>
      <node id="38997">
        <label>SystemPrompt_table.hpp</label>
        <link refid="_system_prompt__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="39009">
        <label>Strengthen_table.hpp</label>
        <link refid="_strengthen__table_8hpp"/>
        <childnode refid="38902" relation="include">
        </childnode>
        <childnode refid="38906" relation="include">
        </childnode>
        <childnode refid="38930" relation="include">
        </childnode>
      </node>
      <node id="38942">
        <label>SePtl_MS_To_BLS.h</label>
        <link refid="_se_ptl___m_s___to___b_l_s_8h"/>
        <childnode refid="38912" relation="include">
        </childnode>
        <childnode refid="38923" relation="include">
        </childnode>
        <childnode refid="38943" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" prot="public" static="no" mutable="no">
        <type><ref refid="class_se_race_query_mgr" kindref="compound">SeRaceQueryMgr</ref></type>
        <definition>SeRaceQueryMgr g_kRaceQueryMgr</definition>
        <argsstring></argsstring>
        <name>g_kRaceQueryMgr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/src/SeRaceQueryMgr.cpp" line="5" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/src/SeRaceQueryMgr.cpp" bodystart="5" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="src_2_se_race_query_mgr_8h" kindref="compound">SeRaceQueryMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_match_server_2src_2_se_race_mgr_8h" kindref="compound">SeRaceMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="src_2_match_server_8h" kindref="compound">MatchServer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" refkind="member"><highlight class="normal"><ref refid="class_se_race_query_mgr" kindref="compound">SeRaceQueryMgr</ref><sp/><ref refid="_src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" kindref="member">g_kRaceQueryMgr</ref>;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"><ref refid="class_se_race_query_mgr_1a3bc5bd5d740a9cb98e615f7caa49c7f7" kindref="member">SeRaceQueryMgr::SeRaceQueryMgr</ref>()</highlight></codeline>
<codeline lineno="8"><highlight class="normal">{</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="10"><highlight class="normal">}</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"><ref refid="class_se_race_query_mgr_1a8e7edfef6626eae38c03569c56b8de7e" kindref="member">SeRaceQueryMgr::~SeRaceQueryMgr</ref>()</highlight></codeline>
<codeline lineno="13"><highlight class="normal">{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="15"><highlight class="normal">}</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a63e3f94ccc505ab85b43345a87e16a8d" kindref="member">SeRaceQueryMgr::Initialize</ref>()</highlight></codeline>
<codeline lineno="18"><highlight class="normal">{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.reserve(<ref refid="_src_2_se_race_query_mgr_def_8h_1acc46def32b4d0a5c9ee325a2bf787750" kindref="member">SSD_MAX_MATCH_ROOM_NUM</ref>);</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/><ref refid="_src_2_se_race_query_mgr_def_8h_1acc46def32b4d0a5c9ee325a2bf787750" kindref="member">SSD_MAX_MATCH_ROOM_NUM</ref>;++i)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom)</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a50b6bc75753700e8aec584991f29eeb7" kindref="member">iIndex</ref><sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1aabf7d7d108b98201a41301592e9250ec" kindref="member">m_apkRoom</ref>[i]<sp/>=<sp/>pkRoom;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a6b8f0985979a23614bb2f452e098dbcb" kindref="member">m_kVNoCreateRoomPtr</ref>.push_back(pkRoom);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="34"><highlight class="normal">}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a9a4b86a687d574f8a6e361b50e5d5d97" kindref="member">SeRaceQueryMgr::Update</ref>(DWord<sp/>dwServerTime)</highlight></codeline>
<codeline lineno="37"><highlight class="normal">{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a24f0d59c98e1e9d3a4fce15206be11a7" kindref="member">UpdateMD5VRoom</ref>(dwServerTime);</highlight></codeline>
<codeline lineno="39"><highlight class="normal">}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1aa71ef7e408c490b4fb0c892b20b58a32" kindref="member">SeRaceQueryMgr::Finalize</ref>()</highlight></codeline>
<codeline lineno="42"><highlight class="normal">{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/><ref refid="_src_2_se_race_query_mgr_def_8h_1acc46def32b4d0a5c9ee325a2bf787750" kindref="member">SSD_MAX_MATCH_ROOM_NUM</ref>;++i)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_define_8h_1abdf73516460d2bbbfdea4a92bcecc080" kindref="member">SAFE_DELETE</ref>(<ref refid="class_se_race_query_mgr_1aabf7d7d108b98201a41301592e9250ec" kindref="member">m_apkRoom</ref>[i]);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="47"><highlight class="normal">}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1ab862bb65fc01300ad62dd8dffb0a4bca" kindref="member">SeRaceQueryMgr::OnCreateRoom</ref>(<ref refid="struct_se_match_race" kindref="compound">SeMatchRace</ref>*<sp/>pkRace,DWord<sp/>dwRaceBeginTime)</highlight></codeline>
<codeline lineno="50"><highlight class="normal">{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_se_race_query_mgr_1a6b8f0985979a23614bb2f452e098dbcb" kindref="member">m_kVNoCreateRoomPtr</ref>.empty())</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>VRoomPtr::iterator<sp/>itr<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a6b8f0985979a23614bb2f452e098dbcb" kindref="member">m_kVNoCreateRoomPtr</ref>.begin();</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/>*itr;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a6b8f0985979a23614bb2f452e098dbcb" kindref="member">m_kVNoCreateRoomPtr</ref>.erase(itr);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a7ea41737450035d3b0a103989c4b8fd5" kindref="member">Clear</ref>();</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>=<sp/>pkRace-&gt;<ref refid="struct_se_match_race_1a8523887086f21641745b808f82cc1828" kindref="member">dwMatchSession</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1abe0912511c859db8bb465b8bf84d3ff5" kindref="member">dwMapID</ref><sp/>=<sp/>pkRace-&gt;<ref refid="struct_se_match_race_1a5c7ab2cd8f14bbfa4bfd87f2bbb624f9" kindref="member">dwMapID</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a868a2e270436de696b4dbb0547e54f46" kindref="member">dwRaceBeginTime</ref><sp/>=<sp/>dwRaceBeginTime;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//const<sp/>SeMatchingInfoRes*<sp/>pkMatchInfo<sp/>=<sp/>g_kShareResMgr.GetMatchingMapInfoByID(pkRoom-&gt;dwMapID);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if(pkMatchInfo)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>pkRoom-&gt;iMaxPlayerNums<sp/>=<sp/>pkMatchInfo-&gt;iLimitPlayer;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.push_back(pkRoom);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a50b6bc75753700e8aec584991f29eeb7" kindref="member">iIndex</ref>;</highlight></codeline>
<codeline lineno="75"><highlight class="normal">}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a2fb929c386139e11b4090b851952e00d" kindref="member">SeRaceQueryMgr::OnDestroyRoom</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,DWord<sp/>dwSession)</highlight></codeline>
<codeline lineno="78"><highlight class="normal">{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom<sp/>||<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>!=<sp/>dwSession)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/>(int)<ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.size();i++)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRaceRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>[i];</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pkRaceRoom<sp/>&amp;&amp;<sp/>pkRaceRoom-&gt;<ref refid="struct_se_room_1a50b6bc75753700e8aec584991f29eeb7" kindref="member">iIndex</ref><sp/>==<sp/>iRoomIndex)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.erase(<ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.begin()<sp/>+<sp/>i);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a7ea41737450035d3b0a103989c4b8fd5" kindref="member">Clear</ref>();</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a99b93998e8a70fc8cc501e7c3f2277e5" kindref="member">OnProcessRemoveIncompleteRace</ref>(dwSession);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a6b8f0985979a23614bb2f452e098dbcb" kindref="member">m_kVNoCreateRoomPtr</ref>.push_back(pkRoom);</highlight></codeline>
<codeline lineno="98"><highlight class="normal">}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1ad90c16ba78f123bdee61b91699dc115f" kindref="member">SeRaceQueryMgr::OnPlayerQueryRoomList</ref>(HSock&amp;<sp/>rkTownSock,DWord<sp/>dwPlayerID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPage,DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iIndex)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref><sp/>kRoomPtr;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iMaxPage<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a55373edcf08a96a16be5fe018d7add18" kindref="member">GetRoomList</ref>(kRoomPtr,iPage,iQueryFlag,dwMapID,iIndex);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(kRoomPtr.empty())</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" kindref="member">g_kMatchServer</ref>.<ref refid="class_match_server_1ae7f1e7cc16a32052412bf0084955b9b3" kindref="member">OnSendTSQueryRoomListRet</ref>(rkTownSock,dwPlayerID,iPage,iMaxPage,kRoomPtr);</highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="comment">//void<sp/>SeRaceQueryMgr::OnPlayerQueryReconRaceInfo(int<sp/>iRoomIndex,HTownSign<sp/>kTownSign,DWord<sp/>dwPlayerID)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>SeRoom*<sp/>pkRoom<sp/>=<sp/>GetRoom(iRoomIndex);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>if(!pkRoom<sp/>||<sp/>pkRoom-&gt;dwSession<sp/>==<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>const<sp/>SeTown*<sp/>pkTown<sp/>=<sp/>g_kTownMgr.GetTown(kTownSign);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>if(pkTown<sp/>&amp;&amp;<sp/>pkTown-&gt;pkConnect)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>//MATCH_SERVER.SendTown_NotifyReconRaceExtendInfo(pkTown-&gt;pkConnect-&gt;kSock,dwPlayerID,pkRoom);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="comment">//Seat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a4ac7ef2b2a7814bb1beb633b5058e783" kindref="member">SeRaceQueryMgr::OnRaceSvrUpdateRoomLoadInfo</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iNum,<ref refid="struct_se_match_room_load_info" kindref="compound">SeMatchRoomLoadInfo</ref>*<sp/>pkLoadInfo)</highlight></codeline>
<codeline lineno="129"><highlight class="normal">{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom<sp/>||<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/>iNum;i++)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeatIndex<sp/>=<sp/>pkLoadInfo[i].<ref refid="struct_se_match_room_load_info_1a5e51b8cbb96f5e09f27ef25166e03add" kindref="member">iSeat</ref>;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iSeatIndex<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref><sp/>||<sp/>iSeatIndex<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_match_room_player_info" kindref="compound">SeMatchRoomPlayerInfo</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeatIndex];</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pkLoadInfo[i].bEscape)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a6f4dcc10526c80e3a294d6a25bee9e23" kindref="member">bEscape</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4d30fbe56257fc998ebc1346e53be0d8" kindref="member">StrCpy</ref>(rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>),pkLoadInfo[i].<ref refid="struct_se_match_room_load_info_1a8e4579cfa2e221c92f2bb5542528ba99" kindref="member">acName</ref>);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a34befbdb44a69f711812ac52270c1de0" kindref="member">dwHeroTypeID</ref><sp/>=<sp/>pkLoadInfo[i].<ref refid="struct_se_match_room_load_info_1aa6425fe2c03564ba0c58676c2db8874f" kindref="member">dwHeroID</ref>;<sp/></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a9644422a930c68f303174ed106dca4f9" kindref="member">dwSkinTypeID</ref><sp/>=<sp/>pkLoadInfo[i].<ref refid="struct_se_match_room_load_info_1a107c94d3c3b03a80e72682a15e7e62f5" kindref="member">dwSkinTypeID</ref>;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight><highlight class="comment">//Seat</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a619b9fbef8c53b61db7e3272cb157c60" kindref="member">SeRaceQueryMgr::OnRaceSeatUpdateState</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeatIndex,</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bOnLine,<ref refid="namespace_json_1a800fb90eb6ee8d5d62b600c06f87f7d4" kindref="member">UInt</ref><sp/>uiScore,</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcName)</highlight></codeline>
<codeline lineno="163"><highlight class="normal">{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom<sp/>||<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iSeatIndex<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref><sp/>||<sp/>iSeatIndex<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_match_room_player_info" kindref="compound">SeMatchRoomPlayerInfo</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeatIndex];</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bOnLine)</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a6f4dcc10526c80e3a294d6a25bee9e23" kindref="member">bEscape</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4d30fbe56257fc998ebc1346e53be0d8" kindref="member">StrCpy</ref>(rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>),pcName);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref>;i++)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[i].<ref refid="struct_se_match_room_player_info_1a34befbdb44a69f711812ac52270c1de0" kindref="member">dwHeroTypeID</ref><sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>!pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[i].<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref>)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a6f4dcc10526c80e3a294d6a25bee9e23" kindref="member">bEscape</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a6f4dcc10526c80e3a294d6a25bee9e23" kindref="member">bEscape</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>[0]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight><highlight class="comment">//TODO:3seat<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1ac5961a48bb6a89907ba0411ad7b6e6a5" kindref="member">SeRaceQueryMgr::OnRaceSeatUpdateReverse</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeatIndex,</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bReserved)</highlight></codeline>
<codeline lineno="204"><highlight class="normal">{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom<sp/>||<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iSeatIndex<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref><sp/>||<sp/>iSeatIndex<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_match_room_player_info" kindref="compound">SeMatchRoomPlayerInfo</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeatIndex];</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/>bReserved;</highlight></codeline>
<codeline lineno="218"><highlight class="normal">}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight><highlight class="comment">//MSRSMS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a65ecdc877600d45b47726af680c570bf" kindref="member">SeRaceQueryMgr::OnReloadPlayerInfo</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iNum,<ref refid="struct_se_re_load_player_info" kindref="compound">SeReLoadPlayerInfo</ref>*<sp/>pkReloadInfo)</highlight></codeline>
<codeline lineno="222"><highlight class="normal">{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom<sp/>||<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bEscapeRoom<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/>iNum;i++)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_re_load_player_info" kindref="compound">SeReLoadPlayerInfo</ref>&amp;<sp/>rkReLoadPlayerInfo<sp/>=<sp/>pkReloadInfo[i];</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeatIndex<sp/>=<sp/>rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1a87f5db3ba86b4e66e2d6bd328038f896" kindref="member">iSeatIndex</ref>;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1ada26b141d6f4b97cdf64d8082039f573" kindref="member">dwHeroID</ref><sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/>(iSeatIndex<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>iSeatIndex<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref>))</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_match_room_player_info" kindref="compound">SeMatchRoomPlayerInfo</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>pkRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1a87f5db3ba86b4e66e2d6bd328038f896" kindref="member">iSeatIndex</ref>];</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a34befbdb44a69f711812ac52270c1de0" kindref="member">dwHeroTypeID</ref><sp/>=<sp/>rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1ada26b141d6f4b97cdf64d8082039f573" kindref="member">dwHeroID</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/>!rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1ac63634bb0d9a9b8497e8c041b0c360be" kindref="member">bLeaveRace</ref>;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/>rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1ad68d698efdcf0ab18a0c980114763864" kindref="member">bReverse</ref>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a9644422a930c68f303174ed106dca4f9" kindref="member">dwSkinTypeID</ref><sp/>=<sp/>rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1a43208d215817cd543254a3ed6a527015" kindref="member">dwHeroSkin</ref>;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4d30fbe56257fc998ebc1346e53be0d8" kindref="member">StrCpy</ref>(rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1afc7ab408dd1cd92c1801ac36a9d57641" kindref="member">acName</ref>,<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>,rkReLoadPlayerInfo.<ref refid="struct_se_re_load_player_info_1ac095ebf3bbb2fca7eddd35f2a1fdffe9" kindref="member">acName</ref>);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!rkPlayerInfo.<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>&amp;&amp;<sp/>!bEscapeRoom)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bEscapeRoom<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>pkRoom-&gt;<ref refid="struct_se_room_1a6f4dcc10526c80e3a294d6a25bee9e23" kindref="member">bEscape</ref><sp/>=<sp/>bEscapeRoom;</highlight></codeline>
<codeline lineno="251"><highlight class="normal">}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a9cf0341da24ab95acff8d0e657495070" kindref="member">SeRaceQueryMgr::GetRaceRoomNum</ref>()</highlight></codeline>
<codeline lineno="254"><highlight class="normal">{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.size();</highlight></codeline>
<codeline lineno="256"><highlight class="normal">}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a24f0d59c98e1e9d3a4fce15206be11a7" kindref="member">SeRaceQueryMgr::UpdateMD5VRoom</ref>(DWord<sp/>dwServerTime)</highlight></codeline>
<codeline lineno="259"><highlight class="normal">{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DWord<sp/>s_dwServerTime<sp/>=<sp/>dwServerTime;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(dwServerTime<sp/>-<sp/>s_dwServerTime)<sp/>&lt;<sp/>1000)</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>s_dwServerTime<sp/>=<sp/>dwServerTime;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(MMD52VRoom::iterator<sp/>iMapItr<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>.begin();iMapItr<sp/>!=<sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>.end();)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_se_m_d5_find_v_room" kindref="compound">SeMD5FindVRoom</ref>&amp;<sp/>rkMD5FindVRoom<sp/>=<sp/>iMapItr-&gt;second;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(<ref refid="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" kindref="member">g_kMatchServer</ref>.<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()<sp/>-<sp/>rkMD5FindVRoom.<ref refid="struct_se_m_d5_find_v_room_1a747f72f9359bcc0957b5d0d991b5205d" kindref="member">dwTime</ref>)<sp/>&gt;<sp/>5000)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>.erase(iMapItr++);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++iMapItr;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal">}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">SeRaceQueryMgr::GetRoom</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex)</highlight></codeline>
<codeline lineno="282"><highlight class="normal">{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iRoomIndex<sp/>&lt;<sp/>0<sp/>||<sp/>iRoomIndex<sp/>&gt;=<sp/>SSD_MAX_MATCH_ROOM_NUM)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1aabf7d7d108b98201a41301592e9250ec" kindref="member">m_apkRoom</ref>[iRoomIndex];</highlight></codeline>
<codeline lineno="289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a55373edcf08a96a16be5fe018d7add18" kindref="member">SeRaceQueryMgr::GetRoomList</ref>(<ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref>&amp;<sp/>rkVRoomPtr,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPage,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iIndex)</highlight></codeline>
<codeline lineno="292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iPage<sp/>&lt;<sp/>0<sp/>||<sp/>iPage<sp/>&gt;=<sp/>SSD_MAX_MATCH_ROOM_NUM<sp/>/<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa8f3537139898012d9cdd844cd4b97228" kindref="member">SSD_ROOM_PER_PAGE</ref>)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>rkVRoomPtr.clear();</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBeginPos<sp/>=<sp/>iPage<sp/>*<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa8f3537139898012d9cdd844cd4b97228" kindref="member">SSD_ROOM_PER_PAGE</ref>;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEndPos<sp/>=<sp/>(iPage<sp/>+<sp/>1)<sp/>*<sp/>SSD_ROOM_PER_PAGE;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iMaxPage<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iIndex<sp/>&gt;<sp/>0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_match_race" kindref="compound">SeMatchRace</ref>*<sp/>pkRace<sp/>=<sp/><ref refid="_match_server_2_src_2_se_race_mgr_8cpp_1a1f83db99b647792f31ca33007bb173f3" kindref="member">g_kRaceMgr</ref>.<ref refid="class_se_race_mgr_1afc891150076c0efc650aa8989cbe9fd8" kindref="member">GetRace</ref>(iIndex);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRace)</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(pkRace-&gt;<ref refid="struct_se_match_race_1a2b2ba94026424d343fd55b9308b49c38" kindref="member">iRoomIndex</ref>);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pkRoom<sp/>&amp;&amp;<sp/>pkRoom-&gt;<ref refid="struct_se_room_1af1805e148f4224d117c3b3668e3b80a5" kindref="member">dwSession</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkVRoomPtr.push_back(pkRoom);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iMaxPage<sp/>=<sp/>((int)rkVRoomPtr.size()<sp/>+<sp/><sp/>SSD_ROOM_PER_PAGE<sp/>-<sp/>1)<sp/>/<sp/>SSD_ROOM_PER_PAGE;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fixme</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if(iQueryFlag<sp/>!=<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iMaxPage<sp/>=<sp/><ref refid="class_se_race_query_mgr_1ae2b72192e31b8a68b0d9c68f5efce7ca" kindref="member">GetRoomFun</ref>(rkVRoomPtr,iQueryFlag,dwMapID,iBeginPos,iEndPos);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iMaxPage;</highlight></codeline>
<codeline lineno="327"><highlight class="normal">}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1ae2b72192e31b8a68b0d9c68f5efce7ca" kindref="member">SeRaceQueryMgr::GetRoomFun</ref>(<ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref>&amp;<sp/>rkAllRoom,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBeginPos,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEndPos)</highlight></codeline>
<codeline lineno="330"><highlight class="normal">{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>rkAllRoom.clear();</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_te_m_d5" kindref="compound">TeMD5</ref><sp/>kMD5;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iMaxPage<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a67aea10e2f9051a28898fb3e4023f758" kindref="member">GetFindedRoom</ref>(dwMapID,iQueryFlag,iBeginPos,iEndPos,rkAllRoom,kMD5);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iMaxPage<sp/>!=<sp/>-1)</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iMaxPage;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iAllRoomNums<sp/>=<sp/><ref refid="class_se_race_query_mgr_1abf0edf1c78957b521c6e89db3e5d2efb" kindref="member">GetCommonRoom</ref>(rkAllRoom,iQueryFlag,dwMapID,iBeginPos,iEndPos);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!rkAllRoom.empty())</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>MD5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_m_d5_find_v_room" kindref="compound">SeMD5FindVRoom</ref><sp/>kVRoom;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kVRoom.<ref refid="struct_se_m_d5_find_v_room_1a747f72f9359bcc0957b5d0d991b5205d" kindref="member">dwTime</ref><sp/>=<sp/><ref refid="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" kindref="member">g_kMatchServer</ref>.<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kVRoom.<ref refid="struct_se_m_d5_find_v_room_1aeaa8753e11960e39fcb99624b48af8dd" kindref="member">rakRoomPtr</ref><sp/>=<sp/>rkAllRoom;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kVRoom.<ref refid="struct_se_m_d5_find_v_room_1a49719510e798dc0ad981df02d3b05878" kindref="member">iAllRoomNums</ref><sp/>=<sp/>iAllRoomNums;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>[kMD5]<sp/>=<sp/>kVRoom;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>iMaxPage<sp/>=<sp/>(iAllRoomNums<sp/>+<sp/>SSD_ROOM_PER_PAGE<sp/>-<sp/>1)<sp/>/<sp/>SSD_ROOM_PER_PAGE;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iMaxPage;</highlight></codeline>
<codeline lineno="357"><highlight class="normal">}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a67aea10e2f9051a28898fb3e4023f758" kindref="member">SeRaceQueryMgr::GetFindedRoom</ref>(DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBeginPos,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEndPos,<ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref>&amp;<sp/>rkAllRoom,<ref refid="struct_te_m_d5" kindref="compound">TeMD5</ref>&amp;<sp/>rkMD5)</highlight></codeline>
<codeline lineno="360"><highlight class="normal">{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iMaxPage<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>rkMD5<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a061a3fa05c583555a64aa7fe9a22af08" kindref="member">GetFindRoomMD5</ref>(iQueryFlag,dwMapID,iBeginPos,iEndPos);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/>MMD52VRoom::iterator<sp/>itrM<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>.find(rkMD5);</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(itrM<sp/>!=<sp/><ref refid="class_se_race_query_mgr_1a2bf422440855de53c0d67f311e9661e5" kindref="member">m_kMMD52VRoom</ref>.end())</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_se_m_d5_find_v_room" kindref="compound">SeMD5FindVRoom</ref>&amp;<sp/>rkMD5FindVRoom<sp/>=<sp/>itrM-&gt;second;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkAllRoom<sp/>=<sp/>rkMD5FindVRoom.<ref refid="struct_se_m_d5_find_v_room_1aeaa8753e11960e39fcb99624b48af8dd" kindref="member">rakRoomPtr</ref>;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iMaxPage<sp/>=<sp/>(rkMD5FindVRoom.<ref refid="struct_se_m_d5_find_v_room_1a49719510e798dc0ad981df02d3b05878" kindref="member">iAllRoomNums</ref><sp/>+<sp/><sp/>SSD_ROOM_PER_PAGE<sp/>-<sp/>1)<sp/>/<sp/>SSD_ROOM_PER_PAGE;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iMaxPage;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iMaxPage;</highlight></codeline>
<codeline lineno="376"><highlight class="normal">}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><ref refid="struct_te_m_d5" kindref="compound">TeMD5</ref><sp/><ref refid="class_se_race_query_mgr_1a061a3fa05c583555a64aa7fe9a22af08" kindref="member">SeRaceQueryMgr::GetFindRoomMD5</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBeginPos,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEndPos)</highlight></codeline>
<codeline lineno="379"><highlight class="normal">{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//char<sp/>acBuffer[128]<sp/>=<sp/>{0};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//memset(acBuffer,0,sizeof(acBuffer));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//MemCpy(acBuffer,sizeof(acBuffer),&amp;iQueryFlag,sizeof(int));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//MemCpy(acBuffer<sp/>+<sp/>4,sizeof(acBuffer)<sp/>-<sp/>4,&amp;dwMapID,sizeof(DWord));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//MemCpy(acBuffer<sp/>+<sp/>8,sizeof(acBuffer)<sp/>-<sp/>8,&amp;iBeginPos,sizeof(int));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//MemCpy(acBuffer<sp/>+<sp/>12,sizeof(acBuffer)<sp/>-<sp/>12,&amp;iEndPos,sizeof(int));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//return<sp/>GetMD5(acBuffer,128);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fixme</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_te_m_d5" kindref="compound">TeMD5</ref><sp/>s_kGenMD5;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>16;<sp/>++i)</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s_kGenMD5.<ref refid="struct_te_m_d5_1a4a87587ff2453882ccfb8a1fe64b9b94" kindref="member">abyMD5</ref>[i]<sp/>=<sp/>rand()<sp/>%<sp/>128;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s_kGenMD5;</highlight></codeline>
<codeline lineno="397"><highlight class="normal">}</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1abf0edf1c78957b521c6e89db3e5d2efb" kindref="member">SeRaceQueryMgr::GetCommonRoom</ref>(<ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref>&amp;<sp/>rkAllRoom,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,DWord<sp/>dwMapID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBeginPos,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEndPos)</highlight></codeline>
<codeline lineno="400"><highlight class="normal">{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iCurPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_query_mgr_def_8h_1aa6a853a2c50f124e40126d2edf051a8c" kindref="member">VRoomPtr</ref><sp/>akFilterRoom;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iAllRoomNums<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>.size();++i)</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a774413ee8bb7f658ace680ee458e516d" kindref="member">m_kVAllRoomPtr</ref>[i];</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="class_se_race_query_mgr_1af4d6bcf530c772872ef09969c5b7af4d" kindref="member">RoomFilter</ref>(pkRoom,iQueryFlag,dwMapID))</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++iAllRoomNums;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>akFilterRoom.push_back(pkRoom);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;i<sp/>&lt;<sp/>akFilterRoom.size();++i)</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom<sp/>=<sp/>akFilterRoom[i];</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iBeginPos<sp/>!=<sp/>-1<sp/>&amp;&amp;<sp/>iCurPos<sp/>&lt;<sp/>iBeginPos)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iCurPos++;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iEndPos<sp/>==<sp/>-1<sp/>||<sp/>iCurPos<sp/>&lt;<sp/>iEndPos)</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iCurPos++;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rkAllRoom.size()<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa8f3537139898012d9cdd844cd4b97228" kindref="member">SSD_ROOM_PER_PAGE</ref>)</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkAllRoom.push_back(pkRoom);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iAllRoomNums;</highlight></codeline>
<codeline lineno="446"><highlight class="normal">}</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1af4d6bcf530c772872ef09969c5b7af4d" kindref="member">SeRaceQueryMgr::RoomFilter</ref>(<ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pkRoom,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iQueryFlag,DWord<sp/>dwMapID)</highlight></codeline>
<codeline lineno="449"><highlight class="normal">{</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>pkRoom)</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dwMapID<sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>dwMapID<sp/>!=<sp/>pkRoom-&gt;<ref refid="struct_se_room_1abe0912511c859db8bb465b8bf84d3ff5" kindref="member">dwMapID</ref>)</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkRoom-&gt;<ref refid="struct_se_room_1a56a08f2464c77ddfdc7688632a0b19a4" kindref="member">CanShowRace</ref>(<ref refid="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" kindref="member">g_kMatchServer</ref>.<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()))</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if((iQueryFlag<sp/>&amp;<sp/>SQRT_ROOM_ESCAPE)<sp/>==<sp/>SQRT_ROOM_ESCAPE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>if(!pkRoom-&gt;bEscape<sp/>||<sp/>pkRoom-&gt;eMatchType<sp/>==<sp/>SMRT_LADDER)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>false;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="475"><highlight class="normal">}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a90cb8d63163621fcc33561889d167f18" kindref="member">SeRaceQueryMgr::OnProcessAddIncompleteRace</ref>(DWord<sp/>iMapid,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,<sp/>DWord<sp/>dwSession,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeat)</highlight></codeline>
<codeline lineno="478"><highlight class="normal">{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//m_MRoom2InCompleteRace[dwSession].iEscapeNum++;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>[dwSession].iMapID<sp/>=<sp/>iMapid;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>[dwSession].setSeat(iSeat,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>[dwSession].iRoomSession<sp/>=<sp/>dwSession;</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pRoom)</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeat].<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>SeIncompleteRaceBaseInfo<sp/>data;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>data.dwMapID<sp/>=<sp/>pRoom-&gt;dwMapID;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>data.dwRoomID<sp/>=<sp/>dwSession;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>data.emptySeatNum<sp/>=<sp/>m_MRoom2InCompleteRace[dwSession].iEscapeNum;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>sendIncompleteInfo2AllTownServer(&amp;data,<sp/>InterMatch::eMatchIcmpData_Base);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal">}</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a99b93998e8a70fc8cc501e7c3f2277e5" kindref="member">SeRaceQueryMgr::OnProcessRemoveIncompleteRace</ref>(DWord<sp/>dwSession)</highlight></codeline>
<codeline lineno="500"><highlight class="normal">{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRoomInCompleteRaceData::iterator<sp/>_it<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.find(dwSession);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_it<sp/>!=<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.end())</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.erase(_it);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//sendIncompleteInfo2AllTownServer(&amp;dwSession,<sp/>InterMatch::eMatchIcmpData_Del);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal">}</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1a620240381486d6a11ac0bd398f745056" kindref="member">SeRaceQueryMgr::OnProcessUpdateIncompleteRace</ref>(DWord<sp/>dwSession,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeat,</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bSeat)</highlight></codeline>
<codeline lineno="513"><highlight class="normal">{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>MRoomInCompleteRaceData::iterator<sp/>_it<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.find(dwSession);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_it<sp/>==<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.end())</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_in_complete_room_race_data" kindref="compound">SeInCompleteRoomRaceData</ref>&amp;<sp/>rDat=<sp/>_it-&gt;second;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/>rDat.<ref refid="struct_se_in_complete_room_race_data_1aada316c65f3db1bdcc5515e58291a137" kindref="member">setSeat</ref>(iSeat,<sp/>bSeat);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rDat.<ref refid="struct_se_in_complete_room_race_data_1a50b0be3ee020e1a5d8ee3d3e00860a9c" kindref="member">iSeatNums</ref><sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.erase(_it);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="526"><highlight class="normal">}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1af62bd86cd1cbeb11d39ec28adacb1d0b" kindref="member">SeRaceQueryMgr::OnProcessIncmpRaceKDA</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,<sp/>DWord<sp/>dwSession,<ref refid="struct_se_r_m___res_incmp_race_seat_base_info" kindref="compound">SeRM_ResIncmpRaceSeatBaseInfo</ref>*<sp/>pInfo)</highlight></codeline>
<codeline lineno="529"><highlight class="normal">{</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/>MRoomInCompleteRaceData::iterator<sp/>_it<sp/>=<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.find(dwSession);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_it<sp/>==<sp/><ref refid="class_se_race_query_mgr_1a807007a28af95085c0dea2bd71044516" kindref="member">m_MRoomInComRaceData</ref>.end())</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_in_complete_room_race_data" kindref="compound">SeInCompleteRoomRaceData</ref>&amp;<sp/>rDat<sp/>=<sp/>_it-&gt;second;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>rDat.<ref refid="struct_se_in_complete_room_race_data_1a7b9b5137ff37f7b8f21128ef53d07c03" kindref="member">UpdateSeatBaseInfo</ref>(pInfo-&gt;<ref refid="struct_se_r_m___res_incmp_race_seat_base_info_1af9d12745eb28c98695118fe4506f8ff4" kindref="member">oIncmpRaceBaseInfo</ref>);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//sendIncompleteInfo2AllTownServer(pInfo,<sp/>InterMatch::eMatchIcmpData_KDA);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal">}</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1ac0b3806471b04a7d30505abb83515041" kindref="member">SeRaceQueryMgr::OnReconUpdatePlayerInfo</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iRoomIndex,<sp/>DWord<sp/>dwSession,<sp/>DWord<sp/>dwPlayerID,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSeat)</highlight></codeline>
<codeline lineno="542"><highlight class="normal">{</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_room" kindref="compound">SeRoom</ref>*<sp/>pRoom<sp/>=<sp/><ref refid="class_se_race_query_mgr_1aa687d6b61a565c4ba62ec3613b41e2f8" kindref="member">GetRoom</ref>(iRoomIndex);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pRoom)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeat].<ref refid="struct_se_match_room_player_info_1a0a9b334367a8183d8774e570ac25b8e8" kindref="member">bReserved</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRoom-&gt;<ref refid="struct_se_room_1a94ed8a9c7150ea62a3b1bc174a1b0664" kindref="member">akPlayerSeat</ref>[iSeat].<ref refid="struct_se_match_room_player_info_1a76f491911509ff3387ce4c2776abd18a" kindref="member">bIsPlayer</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_race_query_mgr_1a620240381486d6a11ac0bd398f745056" kindref="member">OnProcessUpdateIncompleteRace</ref>(dwSession,<sp/>iSeat,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>m_MRoom2InCompleteRace[dwSession].iEscapeNum--;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>if<sp/>(m_MRoom2InCompleteRace[dwSession].iEscapeNum<sp/>&lt;=<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>OnProcessRemoveIncompleteRace(dwSession);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal">}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_race_query_mgr_1af4ca9abb1eb94fadcdfb63644db2162a" kindref="member">SeRaceQueryMgr::sendIncompleteInfo2AllTownServer</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pData,<sp/><ref refid="namespace_inter_match_1addd7b008cdc82d24c77e48c6249a9bc0" kindref="member">InterMatch::EMatchIncompleteData</ref><sp/>eType)</highlight></codeline>
<codeline lineno="559"><highlight class="normal">{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>static<sp/>const<sp/>MapAllTS&amp;<sp/>rAllTS<sp/>=<sp/>g_kTownMgr.GetAllTS();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>MapAllTS::const_iterator<sp/>_it<sp/>=<sp/>rAllTS.begin();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>while<sp/>(_it<sp/>!=<sp/>rAllTS.end())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>SeTown*<sp/>pTown<sp/>=<sp/>_it-&gt;second;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(eType<sp/>==<sp/>InterMatch::eMatchIcmpData_Base)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_kMatchServer.SendMT_AddIncompleteRace(*((SeIncompleteRaceBaseInfo*)pData),<sp/>&amp;(pTown-&gt;pkConnect-&gt;kSock));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if<sp/>(eType<sp/>==<sp/>InterMatch::eMatchIcmpData_Del)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_kMatchServer.SendMT_RemoveIncompleteRace(*((DWord*)(pData)),<sp/>&amp;(pTown-&gt;pkConnect-&gt;kSock));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>if<sp/>(eType<sp/>==<sp/>InterMatch::eMatchIcmpData_KDA)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SeRM_ResIncmpRaceSeatBaseInfo*<sp/>pInfo<sp/>=<sp/>(SeRM_ResIncmpRaceSeatBaseInfo*)pData;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_kMatchServer.SendMT_ResIncmpRaceSeatBaseInfo(pInfo-&gt;dwRoomID,<sp/>pInfo-&gt;iNum,<sp/>pInfo-&gt;oIncmpRaceBaseInfo,<sp/>&amp;(pTown-&gt;pkConnect-&gt;kSock));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SeLogError(&quot;sendIncompleteInfo2AllTownServer<sp/>eType<sp/>is<sp/>Invalid<sp/>:<sp/>[%d]&quot;,<sp/>eType);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>++_it;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/src/SeRaceQueryMgr.cpp"/>
  </compounddef>
</doxygen>
