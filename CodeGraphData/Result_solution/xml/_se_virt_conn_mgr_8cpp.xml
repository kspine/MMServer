<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_se_virt_conn_mgr_8cpp" kind="file">
    <compoundname>SeVirtConnMgr.cpp</compoundname>
    <includes refid="_se_file_log_8h" local="yes">SeFileLog.h</includes>
    <includes refid="_se_server_tool_8h" local="yes">SeServerTool.h</includes>
    <includes refid="_se_virt_conn_mgr_8h" local="yes">SeVirtConnMgr.h</includes>
    <incdepgraph>
      <node id="143790">
        <label>list</label>
      </node>
      <node id="143784">
        <label>locale</label>
      </node>
      <node id="143794">
        <label>queue</label>
      </node>
      <node id="143788">
        <label>limits</label>
      </node>
      <node id="143804">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="143805">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="143770" relation="include">
        </childnode>
        <childnode refid="143768" relation="include">
        </childnode>
        <childnode refid="143777" relation="include">
        </childnode>
      </node>
      <node id="143772">
        <label>windows.h</label>
      </node>
      <node id="143777">
        <label>assert.h</label>
      </node>
      <node id="143808">
        <label>SeTimer.h</label>
        <link refid="_se_timer_8h"/>
      </node>
      <node id="143775">
        <label>stdlib.h</label>
      </node>
      <node id="143768">
        <label>EsLock.h</label>
      </node>
      <node id="143779">
        <label>cmath</label>
      </node>
      <node id="143787">
        <label>string</label>
      </node>
      <node id="143791">
        <label>map</label>
      </node>
      <node id="143765">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="143766" relation="include">
        </childnode>
        <childnode refid="143767" relation="include">
        </childnode>
        <childnode refid="143768" relation="include">
        </childnode>
      </node>
      <node id="143774">
        <label>conio.h</label>
      </node>
      <node id="143803">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="143773">
        <label>direct.h</label>
      </node>
      <node id="143785">
        <label>fstream</label>
      </node>
      <node id="143797">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="143770" relation="include">
        </childnode>
        <childnode refid="143798" relation="include">
        </childnode>
        <childnode refid="143799" relation="include">
        </childnode>
        <childnode refid="143800" relation="include">
        </childnode>
        <childnode refid="143782" relation="include">
        </childnode>
        <childnode refid="143801" relation="include">
        </childnode>
      </node>
      <node id="143771">
        <label>winsock2.h</label>
      </node>
      <node id="143800">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="143781" relation="include">
        </childnode>
      </node>
      <node id="143781">
        <label>string.h</label>
      </node>
      <node id="143780">
        <label>ctime</label>
      </node>
      <node id="143807">
        <label>TeNetMgr.h</label>
      </node>
      <node id="143789">
        <label>vector</label>
      </node>
      <node id="143764">
        <label>F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp</label>
        <link refid="SeVirtConnMgr.cpp"/>
        <childnode refid="143765" relation="include">
        </childnode>
        <childnode refid="143769" relation="include">
        </childnode>
        <childnode refid="143806" relation="include">
        </childnode>
      </node>
      <node id="143795">
        <label>new</label>
      </node>
      <node id="143802">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="143770" relation="include">
        </childnode>
        <childnode refid="143798" relation="include">
        </childnode>
        <childnode refid="143797" relation="include">
        </childnode>
        <childnode refid="143803" relation="include">
        </childnode>
        <childnode refid="143804" relation="include">
        </childnode>
        <childnode refid="143805" relation="include">
        </childnode>
      </node>
      <node id="143798">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="143770" relation="include">
        </childnode>
      </node>
      <node id="143786">
        <label>sstream</label>
      </node>
      <node id="143801">
        <label>EsString.h</label>
      </node>
      <node id="143806">
        <label>SeVirtConnMgr.h</label>
        <link refid="_se_virt_conn_mgr_8h"/>
        <childnode refid="143798" relation="include">
        </childnode>
        <childnode refid="143807" relation="include">
        </childnode>
        <childnode refid="143802" relation="include">
        </childnode>
        <childnode refid="143808" relation="include">
        </childnode>
      </node>
      <node id="143770">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="143771" relation="include">
        </childnode>
        <childnode refid="143772" relation="include">
        </childnode>
        <childnode refid="143773" relation="include">
        </childnode>
        <childnode refid="143774" relation="include">
        </childnode>
        <childnode refid="143775" relation="include">
        </childnode>
        <childnode refid="143776" relation="include">
        </childnode>
        <childnode refid="143777" relation="include">
        </childnode>
        <childnode refid="143778" relation="include">
        </childnode>
        <childnode refid="143779" relation="include">
        </childnode>
        <childnode refid="143780" relation="include">
        </childnode>
        <childnode refid="143767" relation="include">
        </childnode>
        <childnode refid="143781" relation="include">
        </childnode>
        <childnode refid="143782" relation="include">
        </childnode>
        <childnode refid="143783" relation="include">
        </childnode>
        <childnode refid="143784" relation="include">
        </childnode>
        <childnode refid="143785" relation="include">
        </childnode>
        <childnode refid="143786" relation="include">
        </childnode>
        <childnode refid="143787" relation="include">
        </childnode>
        <childnode refid="143788" relation="include">
        </childnode>
        <childnode refid="143789" relation="include">
        </childnode>
        <childnode refid="143790" relation="include">
        </childnode>
        <childnode refid="143791" relation="include">
        </childnode>
        <childnode refid="143792" relation="include">
        </childnode>
        <childnode refid="143793" relation="include">
        </childnode>
        <childnode refid="143794" relation="include">
        </childnode>
        <childnode refid="143795" relation="include">
        </childnode>
        <childnode refid="143796" relation="include">
        </childnode>
      </node>
      <node id="143766">
        <label>time.h</label>
      </node>
      <node id="143776">
        <label>math.h</label>
      </node>
      <node id="143782">
        <label>EsType.h</label>
      </node>
      <node id="143778">
        <label>cctype</label>
      </node>
      <node id="143799">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="143792">
        <label>unordered_map</label>
      </node>
      <node id="143796">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="143769">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="143770" relation="include">
        </childnode>
        <childnode refid="143797" relation="include">
        </childnode>
        <childnode refid="143802" relation="include">
        </childnode>
      </node>
      <node id="143793">
        <label>set</label>
      </node>
      <node id="143783">
        <label>algorithm</label>
      </node>
      <node id="143767">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" prot="public" static="no">
        <name>CHECK_SERVER_INDEX</name>
        <param><defname>eIndex</defname></param>
        <initializer>if(eIndex &lt; 0 || eIndex &gt;= <ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a08b95c3f94bf176b492b6affdb602a15" kindref="member">SSI_NUM</ref>)  return false;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp" line="5" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp" bodystart="5" bodyend="-1"/>
        <referencedby refid="class_se_virt_conn_mgr_1acdf19894323074172e21b03c1660238b" compoundref="_se_virt_conn_mgr_8cpp" startline="223" endline="238">SeVirtConnMgr::GetClientConnByAreaID</referencedby>
        <referencedby refid="class_se_virt_conn_mgr_1a4ac4e87a3086c8361093ba6296ab3f2c" compoundref="_se_virt_conn_mgr_8cpp" startline="206" endline="221">SeVirtConnMgr::GetClientConnByID</referencedby>
        <referencedby refid="class_se_virt_conn_mgr_1ad71bdf80c770bf13f932d45b0928ee56" compoundref="_se_virt_conn_mgr_8cpp" startline="266" endline="281">SeVirtConnMgr::GetClientConnByIndex</referencedby>
        <referencedby refid="class_se_virt_conn_mgr_1a51ee10bf4c869460a221b78e3d9296d7" compoundref="_se_virt_conn_mgr_8cpp" startline="240" endline="253">SeVirtConnMgr::GetClientConnBySock</referencedby>
        <referencedby refid="class_se_virt_conn_mgr_1a53d31fe08eaa3629a8a268f2d37a05e8" compoundref="_se_virt_conn_mgr_8cpp" startline="175" endline="204">SeVirtConnMgr::OnClientRegister</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" prot="public" static="no" mutable="no">
        <type><ref refid="class_se_virt_conn_mgr" kindref="compound">SeVirtConnMgr</ref></type>
        <definition>SeVirtConnMgr g_kVirtConnMgr</definition>
        <argsstring></argsstring>
        <name>g_kVirtConnMgr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp" line="7" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp" bodystart="7" bodyend="-1"/>
        <referencedby refid="class_global_server_1a0f488564b47400b7f7e4d4c0fae011e5" compoundref="src_2_global_server_8cpp" startline="41" endline="69">GlobalServer::Initialize</referencedby>
        <referencedby refid="class_login_server_1adbe07e256d58df0d94eab77321928505" compoundref="_src_2_login_server_8cpp" startline="246" endline="271">LoginServer::Initialize</referencedby>
        <referencedby refid="class_http_server_1abc911606499e42dbf9450f4331de0a62" compoundref="_http_server_8cpp" startline="55" endline="98">HttpServer::Initialize</referencedby>
        <referencedby refid="class_world_server_1aa1c10ee088e17e4046c812c31eabee41" compoundref="_src_2_world_server_8cpp" startline="332" endline="393">WorldServer::Initialize</referencedby>
        <referencedby refid="class_match_server_1a3f0839420ac96d8b744d28b1e0f779f8" compoundref="_src_2_match_server_8cpp" startline="228" endline="276">MatchServer::Initialize</referencedby>
        <referencedby refid="class_watch_server_1_1_c_watch_server_1a4f20c63ea79d05ad3b6f532d887fb091" compoundref="_watch_server_8cpp" startline="457" endline="530">WatchServer::CWatchServer::InitializeNet</referencedby>
        <referencedby refid="class_nexus_server_1abd5eec22d797e3285935dc1eacd5cd52" compoundref="_nexus_server_8cpp" startline="411" endline="419">NexusServer::InitializeNetEx</referencedby>
        <referencedby refid="class_race_server_1a7e66b0db1cc4963931ab50079fae9d09" compoundref="src_2_race_server_8cpp" startline="975" endline="1019">RaceServer::InitializeNetEx</referencedby>
        <referencedby refid="class_login_server_1a44d75705c4debce144b50dbd0c961b3d" compoundref="_src_2_login_server_8cpp" startline="73" endline="135">LoginServer::LoadConfig</referencedby>
        <referencedby refid="class_http_server_1a66312168a48b7f22f1e56078c9a588c7" compoundref="_http_server_8cpp" startline="276" endline="327">HttpServer::LoadConfig</referencedby>
        <referencedby refid="class_match_server_1a16c0a4c43f480d67e41613066925888a" compoundref="_src_2_match_server_8cpp" startline="77" endline="150">MatchServer::LoadConfig</referencedby>
        <referencedby refid="class_nexus_server_1a692ff80a90c8124c028980a9448ffd83" compoundref="_nexus_server_8cpp" startline="311" endline="375">NexusServer::LoadConfig</referencedby>
        <referencedby refid="class_world_server_1afb9dc70c7da676b263cd148880a6a8d3" compoundref="_src_2_world_server_8cpp" startline="99" endline="230">WorldServer::LoadConfig</referencedby>
        <referencedby refid="class_global_server_1aec57364bffa3037dc2ee400384568b81" compoundref="src_2_global_server_8cpp" startline="540" endline="611">GlobalServer::OnLoginQueryRet</referencedby>
        <referencedby refid="class_global_server_1afda21a52501747d08ec324a149f52d87" compoundref="src_2_global_server_8cpp" startline="133" endline="136">GlobalServer::OnNetAccept</referencedby>
        <referencedby refid="class_login_server_1a4d588c3a9c9835ccc657447c4b34e386" compoundref="_src_2_login_server_8cpp" startline="435" endline="445">LoginServer::OnNetConnected</referencedby>
        <referencedby refid="class_http_server_1a191167d16fa982c95ab32d1b2bf154a7" compoundref="_http_server_8cpp" startline="138" endline="144">HttpServer::OnNetConnected</referencedby>
        <referencedby refid="class_nexus_server_1a73449d17a369e6642f75003610f93d30" compoundref="_nexus_server_8cpp" startline="123" endline="133">NexusServer::OnNetConnected</referencedby>
        <referencedby refid="class_watch_server_1_1_c_watch_server_1a55927a94ad08e5ee5d2ba7d7ef6de2db" compoundref="_watch_server_8cpp" startline="532" endline="590">WatchServer::CWatchServer::OnNetConnected</referencedby>
        <referencedby refid="class_match_server_1a052967673a1e01664998a1dee97a4d86" compoundref="_src_2_match_server_8cpp" startline="391" endline="401">MatchServer::OnNetConnected</referencedby>
        <referencedby refid="class_race_server_1a1cfd0d7b06dc6972eddd99e414101ac8" compoundref="src_2_race_server_8cpp" startline="258" endline="282">RaceServer::OnNetConnected</referencedby>
        <referencedby refid="class_world_server_1af1511dce3a76362f187fe49f3e3bc933" compoundref="_src_2_world_server_8cpp" startline="752" endline="772">WorldServer::OnNetConnected</referencedby>
        <referencedby refid="class_global_server_1a78c7fa08d683d8e0446a1254b55557f6" compoundref="src_2_global_server_8cpp" startline="200" endline="203">GlobalServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_login_server_1a86a30002e806ff2598a7a99f0afbca6d" compoundref="_src_2_login_server_8cpp" startline="522" endline="565">LoginServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_http_server_1a512037f9a67425a544579dff680ea4b1" compoundref="_http_server_8cpp" startline="166" endline="172">HttpServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_nexus_server_1a76c854987531fedf75cca110db6f1e94" compoundref="_nexus_server_8cpp" startline="229" endline="275">NexusServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_watch_server_1_1_c_watch_server_1a16c4aafd626d1586aaaae1a112e8d071" compoundref="_watch_server_8cpp" startline="709" endline="778">WatchServer::CWatchServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_match_server_1a190acd16e2bd6be6bdf82e3159d811dc" compoundref="_src_2_match_server_8cpp" startline="489" endline="522">MatchServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_race_server_1ae340f2c6d93ebee26b390132906d961d" compoundref="src_2_race_server_8cpp" startline="395" endline="463">RaceServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_world_server_1a683b50ed480b702c766f5b629a23498d" compoundref="_src_2_world_server_8cpp" startline="929" endline="989">WorldServer::OnNetDisconnect</referencedby>
        <referencedby refid="class_global_server_1a2958ca2143d3d5db4bda0d765a70752b" compoundref="src_2_global_server_8cpp" startline="138" endline="198">GlobalServer::OnNetRecv</referencedby>
        <referencedby refid="class_global_server_1a84864400e97e5b768587b375217753e6" compoundref="_global_server_2src_2_se_d_b_process_8cpp" startline="49" endline="185">GlobalServer::ProcessDB_AccountQuery</referencedby>
        <referencedby refid="class_global_server_1a03b242257fde22617b857962b45d2f2e" compoundref="_global_server_2src_2_se_http_process_8cpp" startline="44" endline="77">GlobalServer::ProcessHS_DHAccountLoginRet</referencedby>
        <referencedby refid="class_global_server_1a952b9a0bb13dd2d37a644563ef90aa00" compoundref="_global_server_2src_2_se_http_process_8cpp" startline="17" endline="36">GlobalServer::ProcessHS_Register</referencedby>
        <referencedby refid="class_global_server_1a342f1a57819ea63f16c403e3911ff1b0" compoundref="src_2_se_l_g_process_8cpp" startline="146" endline="231">GlobalServer::ProcessLG_PlayerLogin</referencedby>
        <referencedby refid="class_global_server_1a89916052169d2ef50e803a74fbe6c379" compoundref="src_2_se_l_g_process_8cpp" startline="31" endline="74">GlobalServer::ProcessLG_Register</referencedby>
        <referencedby refid="class_global_server_1a9ec490da6fed2d0097e78ed59e9463f6" compoundref="src_2_global_server_8cpp" startline="71" endline="91">GlobalServer::Update</referencedby>
        <referencedby refid="class_login_server_1ab0bb0c829cbb4e6fd08b56746b3673d5" compoundref="_src_2_login_server_8cpp" startline="375" endline="394">LoginServer::Update</referencedby>
        <referencedby refid="class_backend_server_1abdc0d26e6a91c17dcda4c6801cf2ad0c" compoundref="_backend_server_8cpp" startline="39" endline="55">BackendServer::Update</referencedby>
        <referencedby refid="class_http_server_1a16c9f135682bba53fd8753e6dcda2bc9" compoundref="_http_server_8cpp" startline="100" endline="119">HttpServer::Update</referencedby>
        <referencedby refid="class_nexus_server_1a98fecce93860b6bee5a77fb3ea2e2ef6" compoundref="_nexus_server_8cpp" startline="76" endline="92">NexusServer::Update</referencedby>
        <referencedby refid="class_world_server_1ae9253ba0018a943c9ed75a12af533e86" compoundref="_src_2_world_server_8cpp" startline="594" endline="691">WorldServer::Update</referencedby>
        <referencedby refid="class_watch_server_1_1_c_watch_server_1a06346a1715803f6de7f0e5df74fb5cb7" compoundref="_watch_server_8cpp" startline="94" endline="107">WatchServer::CWatchServer::Update</referencedby>
        <referencedby refid="class_match_server_1aa0c969f78b0a7c57be07f1edeea929cf" compoundref="_src_2_match_server_8cpp" startline="293" endline="367">MatchServer::Update</referencedby>
        <referencedby refid="class_race_server_1a648783dd4f150a1505c06ffd0c5a9d2a" compoundref="src_2_race_server_8cpp" startline="134" endline="208">RaceServer::Update</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_file_log_8h" kindref="compound">SeFileLog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_server_tool_8h" kindref="compound">SeServerTool.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_virt_conn_mgr_8h" kindref="compound">SeVirtConnMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CHECK_SERVER_INDEX(eIndex)<sp/>if(eIndex<sp/>&lt;<sp/>0<sp/>||<sp/>eIndex<sp/>&gt;=<sp/>SSI_NUM)<sp/><sp/>return<sp/>false;</highlight></codeline>
<codeline lineno="6"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7" refid="_se_virt_conn_mgr_8h_1aa8e9d5beed961f4e26b9cadd49603980" refkind="member"><highlight class="normal"><ref refid="class_se_virt_conn_mgr" kindref="compound">SeVirtConnMgr</ref><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="class_se_virt_conn_mgr_1aabb6f1da4200a5c59845fafe5f30fe2f" refkind="member"><highlight class="normal"><ref refid="class_se_virt_conn_mgr_1aabb6f1da4200a5c59845fafe5f30fe2f" kindref="member">SeVirtConnMgr::SeVirtConnMgr</ref>()</highlight></codeline>
<codeline lineno="10"><highlight class="normal">{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a3ce0d8de2e574090465a9b64f0fb6bc9" kindref="member">m_kTimer</ref>.<ref refid="class_se_timer_1a2cea8d993fa579799239a793c1640eb5" kindref="member">SetInterValue</ref>(1000);</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a18cdc68f4ff83f0351aad283cb4faf34" kindref="member">m_pkFunReg</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a200d6abf2245b820151e0eed64addcae" kindref="member">m_pkFunHeart</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(<ref refid="class_se_virt_conn_mgr_1a25525ee2617bed5e0ec6a9399f3fe018" kindref="member">m_akServerConn</ref>,<sp/>0,<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a08b95c3f94bf176b492b6affdb602a15" kindref="member">SSI_NUM</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*));</highlight></codeline>
<codeline lineno="17"><highlight class="normal">}</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="class_se_virt_conn_mgr_1a87828f5985779d84af90b8a5f551b51b" refkind="member"><highlight class="normal"><ref refid="class_se_virt_conn_mgr_1a87828f5985779d84af90b8a5f551b51b" kindref="member">SeVirtConnMgr::~SeVirtConnMgr</ref>()</highlight></codeline>
<codeline lineno="20"><highlight class="normal">{</highlight></codeline>
<codeline lineno="21"><highlight class="normal">}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="class_se_virt_conn_mgr_1a6982c2146c5829aa21e4f2bd5487a3d4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a6982c2146c5829aa21e4f2bd5487a3d4" kindref="member">SeVirtConnMgr::Initialize</ref>(TeNetMgr*<sp/>pkNetMgr,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pFunSendReg,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pFunSendHeart)</highlight></codeline>
<codeline lineno="24"><highlight class="normal">{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkNetMgr<sp/>||<sp/>!pFunSendReg<sp/>||<sp/>!pFunSendHeart)</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref><sp/>=<sp/>pkNetMgr;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a18cdc68f4ff83f0351aad283cb4faf34" kindref="member">m_pkFunReg</ref><sp/>=<sp/>(<ref refid="class_se_virt_conn_mgr_1a61f87e13df7a5c94d749e1764083768a" kindref="member">funSendPack</ref>)pFunSendReg;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a200d6abf2245b820151e0eed64addcae" kindref="member">m_pkFunHeart</ref><sp/>=<sp/>(<ref refid="class_se_virt_conn_mgr_1a61f87e13df7a5c94d749e1764083768a" kindref="member">funSendPack</ref>)pFunSendHeart;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="35"><highlight class="normal">}</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="class_se_virt_conn_mgr_1a1a2056beaab510c633febd91090592ee" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a1a2056beaab510c633febd91090592ee" kindref="member">SeVirtConnMgr::Update</ref>(DWord<sp/>dwCurTime)</highlight></codeline>
<codeline lineno="38"><highlight class="normal">{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref>)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a3ce0d8de2e574090465a9b64f0fb6bc9" kindref="member">m_kTimer</ref>.<ref refid="class_se_timer_1a5fb0d6e81f14ba88aa3333ff3b3ddd28" kindref="member">Update</ref>(dwCurTime);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_se_virt_conn_mgr_1a3ce0d8de2e574090465a9b64f0fb6bc9" kindref="member">m_kTimer</ref>.<ref refid="class_se_timer_1ad3c52817ca308cdd73be188d6ab9d65f" kindref="member">IsPassed</ref>())</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ac7cad4ff49c4ebf07d8415ae0e62e28c" kindref="member">UpdateServerConn</ref>(dwCurTime);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a6c570ccb0119187a7b595c243aa0e77b" kindref="member">UpdateClientConn</ref>(dwCurTime);</highlight></codeline>
<codeline lineno="53"><highlight class="normal">}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="class_se_virt_conn_mgr_1ad85b1d2c3b0e3c621211ac43decaf3da" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1ad85b1d2c3b0e3c621211ac43decaf3da" kindref="member">SeVirtConnMgr::Finialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="56"><highlight class="normal">{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal">}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="class_se_virt_conn_mgr_1a42fa65f9815b4e6876a92d0648d7619c" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1a42fa65f9815b4e6876a92d0648d7619c" kindref="member">SeVirtConnMgr::AddServerConn</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex,<sp/><ref refid="struct_se_net_addr" kindref="compound">SeNetAddr</ref>&amp;<sp/>rkAddr,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBufferLen,<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459" kindref="member">SeVirtConnState</ref><sp/>eState)</highlight></codeline>
<codeline lineno="61"><highlight class="normal">{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eIndex<sp/>&lt;<sp/>0<sp/>||<sp/>eIndex<sp/>&gt;=<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a08b95c3f94bf176b492b6affdb602a15" kindref="member">SSI_NUM</ref>)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkAddr.<ref refid="struct_se_net_addr_1a35c27f89f488d9bd23ee1c19f2ae7b8a" kindref="member">IsEmpty</ref>()<sp/>||<sp/>iBufferLen<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref><sp/>=<sp/>eIndex;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref><sp/>=<sp/>rkAddr;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a8a1e9d5f8c625ec2005a7ed3acc86995" kindref="member">iBufferLen</ref><sp/>=<sp/>iBufferLen;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/>eState;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a25525ee2617bed5e0ec6a9399f3fe018" kindref="member">m_akServerConn</ref>[pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>]<sp/>=<sp/>pkConn;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pkConn;</highlight></codeline>
<codeline lineno="81"><highlight class="normal">}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83" refid="class_se_virt_conn_mgr_1adca74d2f39a17051600b0ea23d600b74" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1adca74d2f39a17051600b0ea23d600b74" kindref="member">SeVirtConnMgr::OnServerConnected</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn)</highlight></codeline>
<codeline lineno="84"><highlight class="normal">{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn<sp/>||<sp/>!pkConn-&gt;<ref refid="struct_se_virt_conn_1a5cc5f76c8a60f902e609d980308ed0d0" kindref="member">HasValidIndex</ref>())</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkSvrConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a25525ee2617bed5e0ec6a9399f3fe018" kindref="member">m_akServerConn</ref>[pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>];</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkSvrConn<sp/>||<sp/>pkSvrConn<sp/>!=<sp/>pkConn)</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref><sp/>=<sp/>rkSock;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a9f83edd36767ac2c28d471a29f16d210" kindref="member">SVCS_CAN_CONNECT</ref>;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_net_addr" kindref="compound">SeNetAddr</ref>&amp;<sp/>rkAddr<sp/>=<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!rkSock.IsInvalid())</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Connect<sp/>to<sp/>%s<sp/>successfully:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/>rkAddr.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>rkAddr.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Connect<sp/>to<sp/>%s<sp/>failed:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/>rkAddr.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>rkAddr.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal">}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="class_se_virt_conn_mgr_1a63500bd2371897e90065d32e0e16d086" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a63500bd2371897e90065d32e0e16d086" kindref="member">SeVirtConnMgr::AddClientConn</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcIP,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPort)</highlight></codeline>
<codeline lineno="111"><highlight class="normal">{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock.IsInvalid()<sp/>||<sp/>!pcIP<sp/>||<sp/>iPort<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref><sp/>=<sp/>rkSock;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459af2fd418c27e38c5887061982c04bebe5" kindref="member">SVCS_NULL</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pcIP);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref><sp/>=<sp/>iPort;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>[pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>]<sp/>=<sp/>pkConn;</highlight></codeline>
<codeline lineno="124"><highlight class="normal">}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="class_se_virt_conn_mgr_1ad75abfada4de2eb3107aca79b1c99642" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1ad75abfada4de2eb3107aca79b1c99642" kindref="member">SeVirtConnMgr::OnServerDisconnect</ref>(<ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn)</highlight></codeline>
<codeline lineno="127"><highlight class="normal">{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn)</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a9f83edd36767ac2c28d471a29f16d210" kindref="member">SVCS_CAN_CONNECT</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Disconnect<sp/>from<sp/>%s<sp/>:<sp/>[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="139"><highlight class="normal">}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141" refid="class_se_virt_conn_mgr_1aa4e7eaccafa14a4a55c97f4857da9ee9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1aa4e7eaccafa14a4a55c97f4857da9ee9" kindref="member">SeVirtConnMgr::OnClientDisconnect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock)</highlight></codeline>
<codeline lineno="142"><highlight class="normal">{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock.IsInvalid())</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>MSock2Conn::iterator<sp/>itrAll<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itrAll<sp/>==<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.end())</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkClientConn<sp/>=<sp/>itrAll-&gt;second;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex<sp/>=<sp/>pkClientConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eIndex<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>eIndex<sp/>&lt;<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a08b95c3f94bf176b492b6affdb602a15" kindref="member">SSI_NUM</ref>)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMCliConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[eIndex];</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MSock2Conn::iterator<sp/>itrClient<sp/>=<sp/>rkMCliConn.find(pkClientConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itrClient<sp/>!=<sp/>rkMCliConn.end())</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkMCliConn.erase(itrClient);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;%d<sp/>disconnect:[%s:%d]<sp/>id[%s]<sp/>area[%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkClientConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkClientConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkClientConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkClientConn-&gt;<ref refid="struct_se_virt_conn_1a42dd262e2d620d236a87738f864c517d" kindref="member">dwServerID</ref>),</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkClientConn-&gt;<ref refid="struct_se_virt_conn_1accce5905eca3877d6286e3ad10d87b95" kindref="member">dwAreaID</ref>);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.erase(itrAll);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>pkClientConn;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>pkClientConn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="173"><highlight class="normal">}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175" refid="class_se_virt_conn_mgr_1a53d31fe08eaa3629a8a268f2d37a05e8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a53d31fe08eaa3629a8a268f2d37a05e8" kindref="member">SeVirtConnMgr::OnClientRegister</ref>(<ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn,<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex,<sp/>DWord<sp/>dwServerID,<sp/>DWord<sp/>dwAreaID)</highlight></codeline>
<codeline lineno="176"><highlight class="normal">{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" kindref="member">CHECK_SERVER_INDEX</ref>(eIndex);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn)</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>MSock2Conn::iterator<sp/>itr<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.find(pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>==<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.end())</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn<sp/>!=<sp/>itr-&gt;second)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref><sp/>=<sp/>eIndex;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a42dd262e2d620d236a87738f864c517d" kindref="member">dwServerID</ref><sp/>=<sp/>dwServerID;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1accce5905eca3877d6286e3ad10d87b95" kindref="member">dwAreaID</ref><sp/>=<sp/>dwAreaID;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a1e34c360626a791e16a13af7a6bd44fe" kindref="member">SVCS_REGISTERED</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMapConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>];</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>rkMapConn[pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>]<sp/>=<sp/>pkConn;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="204"><highlight class="normal">}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="class_se_virt_conn_mgr_1a4ac4e87a3086c8361093ba6296ab3f2c" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1a4ac4e87a3086c8361093ba6296ab3f2c" kindref="member">SeVirtConnMgr::GetClientConnByID</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex,<sp/>DWord<sp/>dwServerID)</highlight></codeline>
<codeline lineno="207"><highlight class="normal">{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" kindref="member">CHECK_SERVER_INDEX</ref>(eIndex);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[eIndex];</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MSock2Conn::iterator<sp/>itr<sp/>=<sp/>rkMConn.begin();<sp/>itr<sp/>!=<sp/>rkMConn.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn<sp/>&amp;&amp;<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a42dd262e2d620d236a87738f864c517d" kindref="member">dwServerID</ref><sp/>==<sp/>dwServerID)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pkConn;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="221"><highlight class="normal">}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223" refid="class_se_virt_conn_mgr_1acdf19894323074172e21b03c1660238b" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1acdf19894323074172e21b03c1660238b" kindref="member">SeVirtConnMgr::GetClientConnByAreaID</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex,<sp/>DWord<sp/>dwAreaID)</highlight></codeline>
<codeline lineno="224"><highlight class="normal">{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" kindref="member">CHECK_SERVER_INDEX</ref>(eIndex);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[eIndex];</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MSock2Conn::iterator<sp/>itr<sp/>=<sp/>rkMConn.begin();<sp/>itr<sp/>!=<sp/>rkMConn.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn<sp/>&amp;&amp;<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1accce5905eca3877d6286e3ad10d87b95" kindref="member">dwAreaID</ref><sp/>==<sp/>dwAreaID)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pkConn;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="class_se_virt_conn_mgr_1a51ee10bf4c869460a221b78e3d9296d7" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1a51ee10bf4c869460a221b78e3d9296d7" kindref="member">SeVirtConnMgr::GetClientConnBySock</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock)</highlight></codeline>
<codeline lineno="241"><highlight class="normal">{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" kindref="member">CHECK_SERVER_INDEX</ref>(eIndex);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[eIndex];</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>MSock2Conn::iterator<sp/>itr<sp/>=<sp/>rkMConn.find(rkSock);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>!=<sp/>rkMConn.end())</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="class_se_virt_conn_mgr_1a809747184a045b11d036e72a15c408d8" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1a51ee10bf4c869460a221b78e3d9296d7" kindref="member">SeVirtConnMgr::GetClientConnBySock</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock)</highlight></codeline>
<codeline lineno="256"><highlight class="normal">{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>MSock2Conn::iterator<sp/>itr<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>!=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.end())</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="264"><highlight class="normal">}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266" refid="class_se_virt_conn_mgr_1ad71bdf80c770bf13f932d45b0928ee56" refkind="member"><highlight class="normal"><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/><ref refid="class_se_virt_conn_mgr_1ad71bdf80c770bf13f932d45b0928ee56" kindref="member">SeVirtConnMgr::GetClientConnByIndex</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9" kindref="member">SeServerIdx</ref><sp/>eIndex)</highlight></codeline>
<codeline lineno="267"><highlight class="normal">{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1a31ebc57bbf60700969b3b75bdbe37441" kindref="member">CHECK_SERVER_INDEX</ref>(eIndex);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8h_1ac9d8a258d7df8cea8f84e864aee4932f" kindref="member">MSock2Conn</ref>&amp;<sp/>rkMConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a2c5aeac83aeb9d6c754bb891db8405f9" kindref="member">m_akClientConn</ref>[eIndex];</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MSock2Conn::iterator<sp/>itr<sp/>=<sp/>rkMConn.begin();<sp/>itr<sp/>!=<sp/>rkMConn.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn<sp/>&amp;&amp;<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>==<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a1e34c360626a791e16a13af7a6bd44fe" kindref="member">SVCS_REGISTERED</ref>)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pkConn;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="281"><highlight class="normal">}</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283" refid="class_se_virt_conn_mgr_1ac7cad4ff49c4ebf07d8415ae0e62e28c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1ac7cad4ff49c4ebf07d8415ae0e62e28c" kindref="member">SeVirtConnMgr::UpdateServerConn</ref>(DWord<sp/>dwCurTime)</highlight></codeline>
<codeline lineno="284"><highlight class="normal">{</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a08b95c3f94bf176b492b6affdb602a15" kindref="member">SSI_NUM</ref>;<sp/>++i)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a25525ee2617bed5e0ec6a9399f3fe018" kindref="member">m_akServerConn</ref>[i];</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>.IsInvalid()<sp/><sp/>)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1aba3fad771b2a79357eb8d265c01eac5b" kindref="member">Connect</ref>(pkConn);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a1e34c360626a791e16a13af7a6bd44fe" kindref="member">SVCS_REGISTERED</ref>)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ac47385e06ce5d30905da06ba538230ad" kindref="member">Register</ref>(dwCurTime,<sp/>pkConn);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a74fabe37acfaf60cf51ad9574389b653" kindref="member">HeartBeat</ref>(dwCurTime,<sp/>pkConn);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310" refid="class_se_virt_conn_mgr_1a6c570ccb0119187a7b595c243aa0e77b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a6c570ccb0119187a7b595c243aa0e77b" kindref="member">SeVirtConnMgr::UpdateClientConn</ref>(DWord<sp/>dwCurTime)</highlight></codeline>
<codeline lineno="311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MSock2Conn::iterator<sp/>itr<sp/>=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.begin();<sp/>itr<sp/>!=<sp/><ref refid="class_se_virt_conn_mgr_1a631e2f8ac02e854b0673363524c38b1e" kindref="member">m_kMAllClientConn</ref>.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/>dwCheckTime<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a1e34c360626a791e16a13af7a6bd44fe" kindref="member">SVCS_REGISTERED</ref>)</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwCheckTime<sp/>=<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref>;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwCheckTime<sp/>=<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a5d5f05afd1fb01e667d072755cba8b2f" kindref="member">dwLastRecvTime</ref>;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>dwCurTime<sp/>-<sp/>dwCheckTime;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dwCheckTime<sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>(iDTime<sp/>&gt;=<sp/>20*1000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Client<sp/>%s<sp/>Connect<sp/>OverTime<sp/>Disconnect<sp/>state[%d]<sp/>addr[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref>,<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref>-&gt;Disconnect(pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340" refid="class_se_virt_conn_mgr_1aba3fad771b2a79357eb8d265c01eac5b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1aba3fad771b2a79357eb8d265c01eac5b" kindref="member">SeVirtConnMgr::Connect</ref>(<ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn)</highlight></codeline>
<codeline lineno="341"><highlight class="normal">{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>if<sp/>(!pkConn<sp/>||<sp/>pkConn-&gt;eState<sp/>==<sp/>SVCS_NULL)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459abaa4901d03fd72c9d45f20ce55e1639f" kindref="member">SVCS_CONNECTING</ref>)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_se_net_addr" kindref="compound">SeNetAddr</ref>&amp;<sp/>rkAddr<sp/>=<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref>-&gt;Connect(rkAddr.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>rkAddr.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/>5000,<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a8a1e9d5f8c625ec2005a7ed3acc86995" kindref="member">iBufferLen</ref>))</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459abaa4901d03fd72c9d45f20ce55e1639f" kindref="member">SVCS_CONNECTING</ref>;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Connect<sp/>to<sp/>%s<sp/>failed:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/>rkAddr.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>rkAddr.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal">}</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361" refid="class_se_virt_conn_mgr_1ac47385e06ce5d30905da06ba538230ad" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1ac47385e06ce5d30905da06ba538230ad" kindref="member">SeVirtConnMgr::Register</ref>(DWord<sp/>dwCurTime,<sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn)</highlight></codeline>
<codeline lineno="362"><highlight class="normal">{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn<sp/>||<sp/>!<ref refid="class_se_virt_conn_mgr_1a18cdc68f4ff83f0351aad283cb4faf34" kindref="member">m_pkFunReg</ref>)</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(dwCurTime<sp/>-<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref>);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>==<sp/>0<sp/>||<sp/>iDTime<sp/>&gt;<sp/>5000)</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Register<sp/>to<sp/>%s<sp/>failed&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>));</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_se_virt_conn_mgr_1a18cdc68f4ff83f0351aad283cb4faf34" kindref="member">m_pkFunReg</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>))</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Send<sp/>register<sp/>to<sp/>%s<sp/>failed&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>));</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>=<sp/>dwCurTime;</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="383"><highlight class="normal">}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385" refid="class_se_virt_conn_mgr_1a74fabe37acfaf60cf51ad9574389b653" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_se_virt_conn_mgr_1a74fabe37acfaf60cf51ad9574389b653" kindref="member">SeVirtConnMgr::HeartBeat</ref>(DWord<sp/>dwCurTime,<sp/><ref refid="struct_se_virt_conn" kindref="compound">SeVirtConn</ref>*<sp/>pkConn)</highlight></codeline>
<codeline lineno="386"><highlight class="normal">{</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkConn<sp/>||<sp/>!<ref refid="class_se_virt_conn_mgr_1a200d6abf2245b820151e0eed64addcae" kindref="member">m_pkFunHeart</ref>)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>dwCurTime<sp/>-<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref>;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>==<sp/>0<sp/>||<sp/>(iDTime<sp/>&gt;=<sp/>5000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1a200d6abf2245b820151e0eed64addcae" kindref="member">m_pkFunHeart</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a9875cec7690b50b17bc2fb927d5c252f" kindref="member">dwStateTime</ref><sp/>=<sp/>dwCurTime;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dwCurTime<sp/>-<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a5d5f05afd1fb01e667d072755cba8b2f" kindref="member">dwLastRecvTime</ref><sp/>&gt;=<sp/>2000*1000)</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_se_virt_conn_mgr_1ae81b577072b946ef45202a85a83b9eb0" kindref="member">m_pkNetMgr</ref>-&gt;Disconnect(pkConn-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Heartbeat<sp/>Timeout<sp/>Disconnect<sp/>%s<sp/>[%u]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_server_tool_8cpp_1a4d452970e4bf219a5058ab2ad8b0e2c4" kindref="member">GetServerNameByIndex</ref>(pkConn-&gt;<ref refid="struct_se_virt_conn_1a40b26e62b433113fadaa391c2c11397a" kindref="member">eIndex</ref>),<sp/></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwCurTime<sp/>-<sp/>pkConn-&gt;<ref refid="struct_se_virt_conn_1a5d5f05afd1fb01e667d072755cba8b2f" kindref="member">dwLastRecvTime</ref>);</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Share/ServerBase/SeVirtConnMgr.cpp"/>
  </compounddef>
</doxygen>
