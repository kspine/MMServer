<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="src_2_match_prepare_mgr_8h" kind="file">
    <compoundname>MatchPrepareMgr.h</compoundname>
    <includes local="yes">EsType.h</includes>
    <includes local="no">map</includes>
    <includes local="no">list</includes>
    <includes refid="_se_mem_pool_8h" local="yes">SeMemPool.h</includes>
    <includes refid="_clock_8hpp" local="yes">utils/Clock.hpp</includes>
    <includes local="yes">TeNetMgr.h</includes>
    <includes refid="_se_ptl_comm_define_8h" local="yes">SePtlCommDefine.h</includes>
    <includes refid="_se_ptl___b_l_s___to___m_s_8h" local="yes">SePtl_BLS_To_MS.h</includes>
    <includedby refid="src_2_match_prepare_mgr_8cpp" local="yes">MatchServer/src/MatchPrepareMgr.cpp</includedby>
    <includedby refid="src_2_match_server_8cpp" local="yes">MatchServer/src/MatchServer.cpp</includedby>
    <includedby refid="src_2_se_b_l_m_process_8cpp" local="yes">MatchServer/src/SeBLMProcess.cpp</includedby>
    <includedby refid="src_2_se_t_m_process_8cpp" local="yes">MatchServer/src/SeTMProcess.cpp</includedby>
    <incdepgraph>
      <node id="31573">
        <label>list</label>
      </node>
      <node id="31589">
        <label>locale</label>
      </node>
      <node id="31570">
        <label>MatchServer/src/MatchPrepareMgr.h</label>
        <link refid="src/MatchPrepareMgr.h"/>
        <childnode refid="31571" relation="include">
        </childnode>
        <childnode refid="31572" relation="include">
        </childnode>
        <childnode refid="31573" relation="include">
        </childnode>
        <childnode refid="31574" relation="include">
        </childnode>
        <childnode refid="31601" relation="include">
        </childnode>
        <childnode refid="31604" relation="include">
        </childnode>
        <childnode refid="31605" relation="include">
        </childnode>
        <childnode refid="31606" relation="include">
        </childnode>
      </node>
      <node id="31597">
        <label>queue</label>
      </node>
      <node id="31593">
        <label>limits</label>
      </node>
      <node id="31605">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="31574">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="31575" relation="include">
        </childnode>
        <childnode refid="31600" relation="include">
        </childnode>
        <childnode refid="31582" relation="include">
        </childnode>
      </node>
      <node id="31577">
        <label>windows.h</label>
      </node>
      <node id="31582">
        <label>assert.h</label>
      </node>
      <node id="31606">
        <label>SePtl_BLS_To_MS.h</label>
        <link refid="_se_ptl___b_l_s___to___m_s_8h"/>
        <childnode refid="31607" relation="include">
        </childnode>
        <childnode refid="31614" relation="include">
        </childnode>
      </node>
      <node id="31580">
        <label>stdlib.h</label>
      </node>
      <node id="31600">
        <label>EsLock.h</label>
      </node>
      <node id="31584">
        <label>cmath</label>
      </node>
      <node id="31592">
        <label>string</label>
      </node>
      <node id="31572">
        <label>map</label>
      </node>
      <node id="31579">
        <label>conio.h</label>
      </node>
      <node id="31613">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="31578">
        <label>direct.h</label>
      </node>
      <node id="31590">
        <label>fstream</label>
      </node>
      <node id="31609">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="31575" relation="include">
        </childnode>
        <childnode refid="31608" relation="include">
        </childnode>
        <childnode refid="31610" relation="include">
        </childnode>
        <childnode refid="31611" relation="include">
        </childnode>
        <childnode refid="31571" relation="include">
        </childnode>
        <childnode refid="31612" relation="include">
        </childnode>
      </node>
      <node id="31576">
        <label>winsock2.h</label>
      </node>
      <node id="31611">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="31587" relation="include">
        </childnode>
      </node>
      <node id="31614">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="31608" relation="include">
        </childnode>
        <childnode refid="31604" relation="include">
        </childnode>
        <childnode refid="31609" relation="include">
        </childnode>
      </node>
      <node id="31587">
        <label>string.h</label>
      </node>
      <node id="31585">
        <label>ctime</label>
      </node>
      <node id="31604">
        <label>TeNetMgr.h</label>
      </node>
      <node id="31594">
        <label>vector</label>
      </node>
      <node id="31603">
        <label>MobaApi.hpp</label>
        <link refid="_moba_api_8hpp"/>
      </node>
      <node id="31598">
        <label>new</label>
      </node>
      <node id="31607">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="31575" relation="include">
        </childnode>
        <childnode refid="31608" relation="include">
        </childnode>
        <childnode refid="31609" relation="include">
        </childnode>
        <childnode refid="31613" relation="include">
        </childnode>
        <childnode refid="31605" relation="include">
        </childnode>
        <childnode refid="31574" relation="include">
        </childnode>
      </node>
      <node id="31608">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="31575" relation="include">
        </childnode>
      </node>
      <node id="31591">
        <label>sstream</label>
      </node>
      <node id="31612">
        <label>EsString.h</label>
      </node>
      <node id="31575">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="31576" relation="include">
        </childnode>
        <childnode refid="31577" relation="include">
        </childnode>
        <childnode refid="31578" relation="include">
        </childnode>
        <childnode refid="31579" relation="include">
        </childnode>
        <childnode refid="31580" relation="include">
        </childnode>
        <childnode refid="31581" relation="include">
        </childnode>
        <childnode refid="31582" relation="include">
        </childnode>
        <childnode refid="31583" relation="include">
        </childnode>
        <childnode refid="31584" relation="include">
        </childnode>
        <childnode refid="31585" relation="include">
        </childnode>
        <childnode refid="31586" relation="include">
        </childnode>
        <childnode refid="31587" relation="include">
        </childnode>
        <childnode refid="31571" relation="include">
        </childnode>
        <childnode refid="31588" relation="include">
        </childnode>
        <childnode refid="31589" relation="include">
        </childnode>
        <childnode refid="31590" relation="include">
        </childnode>
        <childnode refid="31591" relation="include">
        </childnode>
        <childnode refid="31592" relation="include">
        </childnode>
        <childnode refid="31593" relation="include">
        </childnode>
        <childnode refid="31594" relation="include">
        </childnode>
        <childnode refid="31573" relation="include">
        </childnode>
        <childnode refid="31572" relation="include">
        </childnode>
        <childnode refid="31595" relation="include">
        </childnode>
        <childnode refid="31596" relation="include">
        </childnode>
        <childnode refid="31597" relation="include">
        </childnode>
        <childnode refid="31598" relation="include">
        </childnode>
        <childnode refid="31599" relation="include">
        </childnode>
      </node>
      <node id="31602">
        <label>time.h</label>
      </node>
      <node id="31581">
        <label>math.h</label>
      </node>
      <node id="31571">
        <label>EsType.h</label>
      </node>
      <node id="31583">
        <label>cctype</label>
      </node>
      <node id="31610">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="31601">
        <label>utils/Clock.hpp</label>
        <link refid="_clock_8hpp"/>
        <childnode refid="31600" relation="include">
        </childnode>
        <childnode refid="31602" relation="include">
        </childnode>
        <childnode refid="31603" relation="include">
        </childnode>
      </node>
      <node id="31595">
        <label>unordered_map</label>
      </node>
      <node id="31599">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="31596">
        <label>set</label>
      </node>
      <node id="31588">
        <label>algorithm</label>
      </node>
      <node id="31586">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="31615">
        <label>MatchServer/src/MatchPrepareMgr.h</label>
        <link refid="src/MatchPrepareMgr.h"/>
        <childnode refid="31616" relation="include">
        </childnode>
        <childnode refid="31617" relation="include">
        </childnode>
        <childnode refid="31618" relation="include">
        </childnode>
        <childnode refid="31619" relation="include">
        </childnode>
      </node>
      <node id="31618">
        <label>MatchServer/src/SeBLMProcess.cpp</label>
        <link refid="src_2_se_b_l_m_process_8cpp"/>
      </node>
      <node id="31616">
        <label>MatchServer/src/MatchPrepareMgr.cpp</label>
        <link refid="src_2_match_prepare_mgr_8cpp"/>
      </node>
      <node id="31619">
        <label>MatchServer/src/SeTMProcess.cpp</label>
        <link refid="src_2_se_t_m_process_8cpp"/>
      </node>
      <node id="31617">
        <label>MatchServer/src/MatchServer.cpp</label>
        <link refid="src_2_match_server_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="class_match_prepare_mgr" prot="public">MatchPrepareMgr</innerclass>
    <innerclass refid="struct_match_prepare_mgr_1_1_prepare_item" prot="private">MatchPrepareMgr::PrepareItem</innerclass>
      <sectiondef kind="var">
      <memberdef kind="variable" id="src_2_match_prepare_mgr_8h_1adca41b75adf36daaa5cbcbae8765bf6f" prot="public" static="no" mutable="no">
        <type><ref refid="class_match_prepare_mgr" kindref="compound">MatchPrepareMgr</ref></type>
        <definition>MatchPrepareMgr g_kMatchPrepareMgr</definition>
        <argsstring></argsstring>
        <name>g_kMatchPrepareMgr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/src/MatchPrepareMgr.h" line="45" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchPrepareMgr.cpp" bodystart="6" bodyend="-1"/>
        <referencedby refid="class_match_server_1aae50f102daea8c2591dfa0797d518087" compoundref="_src_2_se_b_l_m_process_8cpp" startline="27" endline="30">MatchServer::ProcessBLM_GetPlayerMatchValueRet</referencedby>
        <referencedby refid="class_match_server_1ab3aae3a0d1f893c8514777cf5f82cc26" compoundref="_src_2_se_t_m_process_8cpp" startline="158" endline="169">MatchServer::ProcessTM_PlayerLeave</referencedby>
        <referencedby refid="class_match_server_1a33ac246c51b6486619d1f106024aaf29" compoundref="_src_2_se_t_m_process_8cpp" startline="320" endline="338">MatchServer::ProcessTM_PlayerMatchReq</referencedby>
        <referencedby refid="class_match_server_1aa0c969f78b0a7c57be07f1edeea929cf" compoundref="_src_2_match_server_8cpp" startline="293" endline="367">MatchServer::Update</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;EsType.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;list&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_mem_pool_8h" kindref="compound">SeMemPool.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_clock_8hpp" kindref="compound">utils/Clock.hpp</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;TeNetMgr.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_ptl_comm_define_8h" kindref="compound">SePtlCommDefine.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_ptl___b_l_s___to___m_s_8h" kindref="compound">SePtl_BLS_To_MS.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//在开始匹配之前，预先收集匹配数据管理器</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_match_prepare_mgr" kindref="compound">MatchPrepareMgr</ref></highlight></codeline>
<codeline lineno="13"><highlight class="normal">{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_prepare_mgr_1a99b7a6ae2a68e4e85f3af39c927ceb27" kindref="member">MatchPrepareMgr</ref>();</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_prepare_mgr_1a775d3c6968dd9813095ef4843d36a820" kindref="member">~MatchPrepareMgr</ref>();</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//收集玩家数据,如果有玩家正在被收集，返回false</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_ptl_comm_define_8h_1a89b73f1dc810e11801b5b7f3ecde8abd" kindref="member">MatchReqResult</ref><sp/><ref refid="class_match_prepare_mgr_1a97e2b71c8c339641e488f93f7d2e5959" kindref="member">collectData</ref>(DWord<sp/>dwMapID,DWord<sp/>dwPlayerID,</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num,<sp/>DWord<sp/>*<sp/>players,Byte<sp/>bySeats,</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock<sp/>&amp;<sp/>townSock);</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_prepare_mgr_1acb9775ed6f51b7cbbc876c65c9908f88" kindref="member">onDataResult</ref>(<ref refid="struct_se_b_l_m___get_player_match_value_ret" kindref="compound">SeBLM_GetPlayerMatchValueRet</ref><sp/>*pkData);</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_prepare_mgr_1a214f9df4c7cc2209d74be6e1ef5ec445" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_prepare_mgr_1ad0171f6ed832766ea8462cb3299b4de0" kindref="member">OnPlayerLeave</ref>(DWord<sp/>dwPlayerID);</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">PrepareItem</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_mem_pool_8h_1a9908f50e3b057d73d5a38db0bc47f5ac" kindref="member">DECLARE_POOL</ref>(PrepareItem)</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1ad9cac45710069c2dda4e3cca472d1bf3" kindref="member">dwPlayreID</ref>;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::list&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1aded802ed69854d57ebe05441680cd9f0" kindref="member">players</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::multimap&lt;moba::<ref refid="namespacemoba_1a2ea02b3d6b0984234e33fb9fe56fbdc5" kindref="member">TimeType</ref>,<sp/>PrepareItem<sp/>*&gt;::iterator<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1af2f26a1da85dccd3cd59af74b82fb2d1" kindref="member">itTime</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HSock<sp/><sp/><sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1ad07cb222c3b290ab26bd1ae715d7f69f" kindref="member">townSock</ref>;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/><sp/><sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1a2af3ad484fe30a0b9150a4966628af29" kindref="member">dwMapID</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Byte<sp/><sp/><sp/><sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1aded365874bc71b0977a694ff79aa5ff2" kindref="member">bySeats</ref>;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::list&lt;<ref refid="struct_match_value_stru" kindref="compound">MatchValueStru</ref>&gt;<sp/><sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1afce312dd30371a9010d17a5f16174414" kindref="member">matchValues</ref>;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::list&lt;<ref refid="struct_h_town_sign" kindref="compound">HTownSign</ref>&gt;<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item_1a80f966732a856b29976fc951ee76523c" kindref="member">towns</ref>;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_prepare_mgr_1abb623163223a3c61399fafabc03eaa7a" kindref="member">clearItem</ref>(PrepareItem<sp/>*<sp/>item);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_match_prepare_mgr_1aacf3e8b17e528456d128e413035c8ca8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>typedef<sp/>std::map&lt;DWord,<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item" kindref="compound">PrepareItem</ref><sp/>*&gt;<sp/><ref refid="class_match_prepare_mgr_1aacf3e8b17e528456d128e413035c8ca8" kindref="member">PLAYERMAP</ref>;</highlight></codeline>
<codeline lineno="40" refid="class_match_prepare_mgr_1ab02136879403d8762ffaafdf464d9e88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>typedef<sp/>std::multimap&lt;moba::TimeType,<sp/><ref refid="struct_match_prepare_mgr_1_1_prepare_item" kindref="compound">PrepareItem</ref><sp/>*&gt;<sp/><ref refid="class_match_prepare_mgr_1ab02136879403d8762ffaafdf464d9e88" kindref="member">TIMEMAP</ref>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>PLAYERMAP<sp/><ref refid="class_match_prepare_mgr_1aeb7040e14cbea1709d53e4c0f7ab572b" kindref="member">m_players</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>TIMEMAP<sp/><ref refid="class_match_prepare_mgr_1a93bcb02bf844c3c68c4bcd7d918cd49d" kindref="member">m_timeMap</ref>;</highlight></codeline>
<codeline lineno="43"><highlight class="normal">};</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal">extern<sp/><ref refid="class_match_prepare_mgr" kindref="compound">MatchPrepareMgr</ref><sp/><ref refid="_src_2_match_prepare_mgr_8h_1adca41b75adf36daaa5cbcbae8765bf6f" kindref="member">g_kMatchPrepareMgr</ref>;</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/src/MatchPrepareMgr.h"/>
  </compounddef>
</doxygen>
