<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_src_2_se_c_t_process_8cpp" kind="file">
    <compoundname>SeCTProcess.cpp</compoundname>
    <includes refid="_src_2_town_server_8h" local="yes">TownServer.h</includes>
    <includes refid="_se_c_t_process_8inc" local="yes">SeCTProcess.inc</includes>
    <includes refid="_se_t_w_send_8inl" local="yes">SeTWSend.inl</includes>
    <incdepgraph>
      <node id="60732">
        <label>SeCommStream.h</label>
        <link refid="_se_comm_stream_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60715" relation="include">
        </childnode>
      </node>
      <node id="60702">
        <label>list</label>
      </node>
      <node id="60696">
        <label>locale</label>
      </node>
      <node id="60706">
        <label>queue</label>
      </node>
      <node id="60700">
        <label>limits</label>
      </node>
      <node id="60715">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="60713">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60714" relation="include">
        </childnode>
        <childnode refid="60688" relation="include">
        </childnode>
      </node>
      <node id="60683">
        <label>windows.h</label>
      </node>
      <node id="60688">
        <label>assert.h</label>
      </node>
      <node id="60752">
        <label>SeRaceCmd.h</label>
        <link refid="_se_race_cmd_8h"/>
        <childnode refid="60712" relation="include">
        </childnode>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60764">
        <label>SeWCMSTProcess.inl</label>
        <link refid="_se_w_c_m_s_t_process_8inl"/>
      </node>
      <node id="60737">
        <label>SeDBDefine.h</label>
        <link refid="_se_d_b_define_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60686">
        <label>stdlib.h</label>
      </node>
      <node id="60714">
        <label>EsLock.h</label>
      </node>
      <node id="60765">
        <label>SeTWCMSSend.inl</label>
        <link refid="_se_t_w_c_m_s_send_8inl"/>
      </node>
      <node id="60690">
        <label>cmath</label>
      </node>
      <node id="60699">
        <label>string</label>
      </node>
      <node id="60703">
        <label>map</label>
      </node>
      <node id="60741">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="60742" relation="include">
        </childnode>
        <childnode refid="60692" relation="include">
        </childnode>
        <childnode refid="60714" relation="include">
        </childnode>
      </node>
      <node id="60685">
        <label>conio.h</label>
      </node>
      <node id="60767">
        <label>SeNTProcess.inl</label>
        <link refid="_se_n_t_process_8inl"/>
      </node>
      <node id="60722">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="60684">
        <label>direct.h</label>
      </node>
      <node id="60725">
        <label>SePtl_TS_To_CL.h</label>
        <link refid="_se_ptl___t_s___to___c_l_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60715" relation="include">
        </childnode>
      </node>
      <node id="60697">
        <label>fstream</label>
      </node>
      <node id="60717">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60710" relation="include">
        </childnode>
        <childnode refid="60718" relation="include">
        </childnode>
        <childnode refid="60712" relation="include">
        </childnode>
        <childnode refid="60694" relation="include">
        </childnode>
        <childnode refid="60719" relation="include">
        </childnode>
      </node>
      <node id="60682">
        <label>winsock2.h</label>
      </node>
      <node id="60746">
        <label>SeDBStream.h</label>
        <link refid="_se_d_b_stream_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60737" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60747" relation="include">
        </childnode>
      </node>
      <node id="60745">
        <label>SePlayerDef.h</label>
        <link refid="_town_server_2_src_2_se_player_def_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60737" relation="include">
        </childnode>
        <childnode refid="60724" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
        <childnode refid="60740" relation="include">
        </childnode>
        <childnode refid="60713" relation="include">
        </childnode>
      </node>
      <node id="60754">
        <label>SeServerMainDef.h</label>
        <link refid="_se_server_main_def_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
      </node>
      <node id="60712">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="60693" relation="include">
        </childnode>
      </node>
      <node id="60679">
        <label>TownServer/Src/SeCTProcess.cpp</label>
        <link refid="Src/SeCTProcess.cpp"/>
        <childnode refid="60680" relation="include">
        </childnode>
        <childnode refid="60770" relation="include">
        </childnode>
        <childnode refid="60755" relation="include">
        </childnode>
      </node>
      <node id="60716">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="60710" relation="include">
        </childnode>
        <childnode refid="60711" relation="include">
        </childnode>
        <childnode refid="60717" relation="include">
        </childnode>
      </node>
      <node id="60755">
        <label>SeTWSend.inl</label>
        <link refid="_se_t_w_send_8inl"/>
      </node>
      <node id="60693">
        <label>string.h</label>
      </node>
      <node id="60748">
        <label>SePlayer.inl</label>
        <link refid="_town_server_2_src_2_se_player_8inl"/>
      </node>
      <node id="60729">
        <label>SePtl_WCMS_To_TS.h</label>
        <link refid="_se_ptl___w_c_m_s___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60728">
        <label>SePtl_TCP_AND_TOWN.h</label>
        <link refid="_se_ptl___t_c_p___a_n_d___t_o_w_n_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60747">
        <label>SeDBVariant.h</label>
        <link refid="_se_d_b_variant_8h"/>
        <childnode refid="60694" relation="include">
        </childnode>
        <childnode refid="60737" relation="include">
        </childnode>
      </node>
      <node id="60739">
        <label>SeConfig.h</label>
        <link refid="_se_config_8h"/>
        <childnode refid="60710" relation="include">
        </childnode>
      </node>
      <node id="60691">
        <label>ctime</label>
      </node>
      <node id="60723">
        <label>SePtl_TS_To_WS.h</label>
        <link refid="_se_ptl___t_s___to___w_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60720">
        <label>SePtl_WS_To_TS.h</label>
        <link refid="_se_ptl___w_s___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60711">
        <label>TeNetMgr.h</label>
      </node>
      <node id="60756">
        <label>SeTCSend.inl</label>
        <link refid="_se_t_c_send_8inl"/>
      </node>
      <node id="60770">
        <label>SeCTProcess.inc</label>
        <link refid="_se_c_t_process_8inc"/>
      </node>
      <node id="60724">
        <label>SePtl_CL_To_TS.h</label>
        <link refid="_se_ptl___c_l___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60715" relation="include">
        </childnode>
      </node>
      <node id="60761">
        <label>SeCTProcess.inl</label>
        <link refid="_se_c_t_process_8inl"/>
      </node>
      <node id="60701">
        <label>vector</label>
      </node>
      <node id="60749">
        <label>SeRaceMgr.h</label>
        <link refid="_town_server_2_src_2_se_race_mgr_8h"/>
        <childnode refid="60750" relation="include">
        </childnode>
      </node>
      <node id="60707">
        <label>new</label>
      </node>
      <node id="60721">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60710" relation="include">
        </childnode>
        <childnode refid="60717" relation="include">
        </childnode>
        <childnode refid="60722" relation="include">
        </childnode>
        <childnode refid="60715" relation="include">
        </childnode>
        <childnode refid="60713" relation="include">
        </childnode>
      </node>
      <node id="60710">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
      </node>
      <node id="60698">
        <label>sstream</label>
      </node>
      <node id="60757">
        <label>SeTMSend.inl</label>
        <link refid="_se_t_m_send_8inl"/>
      </node>
      <node id="60719">
        <label>EsString.h</label>
      </node>
      <node id="60768">
        <label>SeTBLSend.inl</label>
        <link refid="_se_t_b_l_send_8inl"/>
      </node>
      <node id="60759">
        <label>SeTownOther.inl</label>
        <link refid="_src_2_se_town_other_8inl"/>
      </node>
      <node id="60750">
        <label>SeRaceMgrDef.h</label>
        <link refid="_town_server_2_src_2_se_race_mgr_def_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60751" relation="include">
        </childnode>
        <childnode refid="60712" relation="include">
        </childnode>
        <childnode refid="60724" relation="include">
        </childnode>
        <childnode refid="60713" relation="include">
        </childnode>
        <childnode refid="60744" relation="include">
        </childnode>
      </node>
      <node id="60681">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="60682" relation="include">
        </childnode>
        <childnode refid="60683" relation="include">
        </childnode>
        <childnode refid="60684" relation="include">
        </childnode>
        <childnode refid="60685" relation="include">
        </childnode>
        <childnode refid="60686" relation="include">
        </childnode>
        <childnode refid="60687" relation="include">
        </childnode>
        <childnode refid="60688" relation="include">
        </childnode>
        <childnode refid="60689" relation="include">
        </childnode>
        <childnode refid="60690" relation="include">
        </childnode>
        <childnode refid="60691" relation="include">
        </childnode>
        <childnode refid="60692" relation="include">
        </childnode>
        <childnode refid="60693" relation="include">
        </childnode>
        <childnode refid="60694" relation="include">
        </childnode>
        <childnode refid="60695" relation="include">
        </childnode>
        <childnode refid="60696" relation="include">
        </childnode>
        <childnode refid="60697" relation="include">
        </childnode>
        <childnode refid="60698" relation="include">
        </childnode>
        <childnode refid="60699" relation="include">
        </childnode>
        <childnode refid="60700" relation="include">
        </childnode>
        <childnode refid="60701" relation="include">
        </childnode>
        <childnode refid="60702" relation="include">
        </childnode>
        <childnode refid="60703" relation="include">
        </childnode>
        <childnode refid="60704" relation="include">
        </childnode>
        <childnode refid="60705" relation="include">
        </childnode>
        <childnode refid="60706" relation="include">
        </childnode>
        <childnode refid="60707" relation="include">
        </childnode>
        <childnode refid="60708" relation="include">
        </childnode>
      </node>
      <node id="60742">
        <label>time.h</label>
      </node>
      <node id="60687">
        <label>math.h</label>
      </node>
      <node id="60733">
        <label>SeTCStream.h</label>
        <link refid="_se_t_c_stream_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60725" relation="include">
        </childnode>
        <childnode refid="60732" relation="include">
        </childnode>
      </node>
      <node id="60694">
        <label>EsType.h</label>
      </node>
      <node id="60680">
        <label>TownServer.h</label>
        <link refid="_src_2_town_server_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60709" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
        <childnode refid="60739" relation="include">
        </childnode>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60740" relation="include">
        </childnode>
        <childnode refid="60741" relation="include">
        </childnode>
        <childnode refid="60743" relation="include">
        </childnode>
        <childnode refid="60749" relation="include">
        </childnode>
        <childnode refid="60754" relation="include">
        </childnode>
        <childnode refid="60755" relation="include">
        </childnode>
        <childnode refid="60756" relation="include">
        </childnode>
        <childnode refid="60757" relation="include">
        </childnode>
        <childnode refid="60758" relation="include">
        </childnode>
        <childnode refid="60759" relation="include">
        </childnode>
        <childnode refid="60760" relation="include">
        </childnode>
        <childnode refid="60761" relation="include">
        </childnode>
        <childnode refid="60762" relation="include">
        </childnode>
        <childnode refid="60763" relation="include">
        </childnode>
        <childnode refid="60764" relation="include">
        </childnode>
        <childnode refid="60765" relation="include">
        </childnode>
        <childnode refid="60766" relation="include">
        </childnode>
        <childnode refid="60767" relation="include">
        </childnode>
        <childnode refid="60768" relation="include">
        </childnode>
        <childnode refid="60769" relation="include">
        </childnode>
      </node>
      <node id="60743">
        <label>SePlayerMgr.h</label>
        <link refid="_src_2_se_player_mgr_8h"/>
        <childnode refid="60744" relation="include">
        </childnode>
        <childnode refid="60709" relation="include">
        </childnode>
      </node>
      <node id="60689">
        <label>cctype</label>
      </node>
      <node id="60769">
        <label>SeBLTProcess.inl</label>
        <link refid="_se_b_l_t_process_8inl"/>
      </node>
      <node id="60718">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="60735">
        <label>SePtl_NS_To_TS.h</label>
        <link refid="_se_ptl___n_s___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60734">
        <label>SePtl_TS_To_NS.h</label>
        <link refid="_se_ptl___t_s___to___n_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60704">
        <label>unordered_map</label>
      </node>
      <node id="60708">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="60763">
        <label>SeTCPSvrProc.inl</label>
        <link refid="_src_2_se_t_c_p_svr_proc_8inl"/>
      </node>
      <node id="60731">
        <label>SeCTStream.h</label>
        <link refid="_se_c_t_stream_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60724" relation="include">
        </childnode>
        <childnode refid="60732" relation="include">
        </childnode>
      </node>
      <node id="60740">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60717" relation="include">
        </childnode>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60727">
        <label>SePtl_MS_To_TS.h</label>
        <link refid="_se_ptl___m_s___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60726">
        <label>SePtl_TS_To_MS.h</label>
        <link refid="_se_ptl___t_s___to___m_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60730">
        <label>SePtl_TS_To_WCMS.h</label>
        <link refid="_se_ptl___t_s___to___w_c_m_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
      </node>
      <node id="60760">
        <label>SeWTProcess.inl</label>
        <link refid="_se_w_t_process_8inl"/>
      </node>
      <node id="60705">
        <label>set</label>
      </node>
      <node id="60738">
        <label>SePtl_BLS_To_TS.h</label>
        <link refid="_se_ptl___b_l_s___to___t_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
      </node>
      <node id="60736">
        <label>SePtl_TS_To_BLS.h</label>
        <link refid="_se_ptl___t_s___to___b_l_s_8h"/>
        <childnode refid="60721" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
        <childnode refid="60737" relation="include">
        </childnode>
      </node>
      <node id="60762">
        <label>SeMTProcess.inl</label>
        <link refid="_se_m_t_process_8inl"/>
      </node>
      <node id="60766">
        <label>SeTNSend.inl</label>
        <link refid="_se_t_n_send_8inl"/>
      </node>
      <node id="60695">
        <label>algorithm</label>
      </node>
      <node id="60709">
        <label>TownServerDef.h</label>
        <link refid="_src_2_town_server_def_8h"/>
        <childnode refid="60710" relation="include">
        </childnode>
        <childnode refid="60711" relation="include">
        </childnode>
        <childnode refid="60712" relation="include">
        </childnode>
        <childnode refid="60713" relation="include">
        </childnode>
        <childnode refid="60715" relation="include">
        </childnode>
        <childnode refid="60716" relation="include">
        </childnode>
        <childnode refid="60720" relation="include">
        </childnode>
        <childnode refid="60723" relation="include">
        </childnode>
        <childnode refid="60724" relation="include">
        </childnode>
        <childnode refid="60725" relation="include">
        </childnode>
        <childnode refid="60726" relation="include">
        </childnode>
        <childnode refid="60727" relation="include">
        </childnode>
        <childnode refid="60728" relation="include">
        </childnode>
        <childnode refid="60729" relation="include">
        </childnode>
        <childnode refid="60730" relation="include">
        </childnode>
        <childnode refid="60731" relation="include">
        </childnode>
        <childnode refid="60733" relation="include">
        </childnode>
        <childnode refid="60734" relation="include">
        </childnode>
        <childnode refid="60735" relation="include">
        </childnode>
        <childnode refid="60736" relation="include">
        </childnode>
        <childnode refid="60738" relation="include">
        </childnode>
      </node>
      <node id="60692">
        <label>stdio.h</label>
      </node>
      <node id="60758">
        <label>SeTCPSvrSend.inl</label>
        <link refid="_src_2_se_t_c_p_svr_send_8inl"/>
      </node>
      <node id="60751">
        <label>SeRaceRecord.h</label>
        <link refid="_se_race_record_8h"/>
        <childnode refid="60681" relation="include">
        </childnode>
        <childnode refid="60752" relation="include">
        </childnode>
        <childnode refid="60753" relation="include">
        </childnode>
      </node>
      <node id="60753">
        <label>SeCommon.h</label>
        <link refid="_se_common_8h"/>
        <childnode refid="60699" relation="include">
        </childnode>
      </node>
      <node id="60744">
        <label>SePlayer.h</label>
        <link refid="_town_server_2_src_2_se_player_8h"/>
        <childnode refid="60745" relation="include">
        </childnode>
        <childnode refid="60746" relation="include">
        </childnode>
        <childnode refid="60748" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_src_2_se_c_t_process_8cpp_1a24cd3c37a165a8c4626d9e78df4574ff" prot="public" static="no">
        <name>SERVER</name>
        <initializer><ref refid="class_town_server" kindref="compound">TownServer</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" line="3" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" bodystart="3" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_src_2_se_c_t_process_8cpp_1a1d4a1ca6f195d12928219e47c7447722" prot="public" static="no">
        <name>GET_CUR_CONNECT</name>
        <param><defname>pkTcpUser</defname></param>
        <initializer><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>* pkTcpUser = (<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" line="8" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" bodystart="8" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" prot="public" static="no">
        <name>GET_CUR_CONN_AND_PLAYER</name>
        <param><defname>pkTcpUser</defname></param>
        <param><defname>pkPlayer</defname></param>
        <initializer><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>* pkTcpUser = (<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;\
	if(!pkTcpUser) return;\
	<ref refid="class_se_player" kindref="compound">SePlayer</ref>* pkPlayer = g_kPlayerMgr.GetPlayerByID(pkTcpUser-&gt;dwPlayerID);\
	if(!pkPlayer) return;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" line="9" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp" bodystart="9" bodyend="-1"/>
        <referencedby refid="class_town_server_1af357a5c6df89ced6b90e2f9075231907" compoundref="_src_2_se_c_t_process_8cpp" startline="937" endline="942">TownServer::ProcessCT_AchieveInfoReq</referencedby>
        <referencedby refid="class_town_server_1a770a736ba9234112512674d67863f972" compoundref="_src_2_se_c_t_process_8cpp" startline="575" endline="586">TownServer::ProcessCT_BuyShopItem</referencedby>
        <referencedby refid="class_town_server_1a74a4286d7e392d1e63e59547c71271d4" compoundref="_src_2_se_c_t_process_8cpp" startline="867" endline="872">TownServer::ProcessCT_ClearItemNewFlag</referencedby>
        <referencedby refid="class_town_server_1acb2696f8f2bc37fe11655ff2711317e0" compoundref="_src_2_se_c_t_process_8cpp" startline="387" endline="398">TownServer::ProcessCT_CreateRoom</referencedby>
        <referencedby refid="class_town_server_1a4f01e4c863b91b185ad0c2305666b228" compoundref="_src_2_se_c_t_process_8cpp" startline="551" endline="557">TownServer::ProcessCT_DelelteItem</referencedby>
        <referencedby refid="class_town_server_1a9759352f992a35791fd5931e768509cd" compoundref="_src_2_se_c_t_process_8cpp" startline="338" endline="345">TownServer::ProcessCT_DelReconInfo</referencedby>
        <referencedby refid="class_town_server_1ae4d83f0ec3eb4e32fcb82c40566cbfd1" compoundref="_src_2_se_c_t_process_8cpp" startline="883" endline="889">TownServer::ProcessCT_FriendLadderInfoReq</referencedby>
        <referencedby refid="class_town_server_1adf4e66d32a3ef7da4697aa860bf585c2" compoundref="_src_2_se_c_t_process_8cpp" startline="601" endline="611">TownServer::ProcessCT_GetItemGM</referencedby>
        <referencedby refid="class_town_server_1ad33624dc7ebbc961cf951cf1e9a55438" compoundref="_src_2_se_c_t_process_8cpp" startline="320" endline="327">TownServer::ProcessCT_GetTaskReward</referencedby>
        <referencedby refid="class_town_server_1af0dd054c7970732ef8ef1418bbbe85cd" compoundref="_src_2_se_c_t_process_8cpp" startline="543" endline="549">TownServer::ProcessCT_GMAddItem</referencedby>
        <referencedby refid="class_town_server_1a2f658134ec2a3516b6af00d9c76b4c6e" compoundref="_src_2_se_c_t_process_8cpp" startline="824" endline="830">TownServer::ProcessCT_GMSetDiamond</referencedby>
        <referencedby refid="class_town_server_1a13c002eb8a5d4b60a094214ca85cfaaa" compoundref="_src_2_se_c_t_process_8cpp" startline="816" endline="822">TownServer::ProcessCT_GMSetGold</referencedby>
        <referencedby refid="class_town_server_1ad6b5072e3b31c265618b3d9b945485e4" compoundref="_src_2_se_c_t_process_8cpp" startline="930" endline="935">TownServer::ProcessCT_LadderDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1a7148c32ae188986c47d883e832019b12" compoundref="_src_2_se_c_t_process_8cpp" startline="875" endline="881">TownServer::ProcessCT_LadderRankQueryReq</referencedby>
        <referencedby refid="class_town_server_1a98391d25124e9cf47069a2e7a8b852ef" compoundref="_src_2_se_c_t_process_8cpp" startline="802" endline="814">TownServer::ProcessCT_LeaderDismissTeamReq</referencedby>
        <referencedby refid="class_town_server_1a53957f6f22231d74eeaaeb2e21da2d8f" compoundref="_src_2_se_c_t_process_8cpp" startline="789" endline="801">TownServer::ProcessCT_LeaderKickMemberReq</referencedby>
        <referencedby refid="class_town_server_1a0d8a22a61e37b0f733ca3bf6a724f6a1" compoundref="_src_2_se_c_t_process_8cpp" startline="367" endline="374">TownServer::ProcessCT_MapTaskOpr</referencedby>
        <referencedby refid="class_town_server_1a2354ca153375fe7d9bc19cec280f263b" compoundref="_src_2_se_c_t_process_8cpp" startline="642" endline="652">TownServer::ProcessCT_MatchConfirm</referencedby>
        <referencedby refid="class_town_server_1aa18e4a909466772734b4d07d29b88352" compoundref="_src_2_se_c_t_process_8cpp" startline="832" endline="844">TownServer::ProcessCT_NexusFriendCleanRefuseNoticeReq</referencedby>
        <referencedby refid="class_town_server_1aca21fb5460f9a29f8c7fa333bd9c1c80" compoundref="_src_2_se_c_t_process_8cpp" startline="655" endline="667">TownServer::ProcessCT_NexusFriendDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1a288d2014efccd62303d20066afabc675" compoundref="_src_2_se_c_t_process_8cpp" startline="669" endline="682">TownServer::ProcessCT_NexusUserActionReq</referencedby>
        <referencedby refid="class_town_server_1a7df4e089e936c13c88f7353323e2cd38" compoundref="_src_2_se_c_t_process_8cpp" startline="717" endline="720">TownServer::ProcessCT_NexusUserPromotionDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1af8666aeaa38390bc35b09cb02c1bf150" compoundref="_src_2_se_c_t_process_8cpp" startline="684" endline="687">TownServer::ProcessCT_NexusUserPromotionReq</referencedby>
        <referencedby refid="class_town_server_1aa41fcbffc8fea01ae6681135b155d520" compoundref="_src_2_se_c_t_process_8cpp" startline="860" endline="865">TownServer::ProcessCT_OpenRandBox</referencedby>
        <referencedby refid="class_town_server_1ac1cc77f8e2157478a8699119606ce98c" compoundref="_src_2_se_c_t_process_8cpp" startline="630" endline="640">TownServer::ProcessCT_PlayerMatchCancel</referencedby>
        <referencedby refid="class_town_server_1a303b95f913e4d40f214af1fb4715c620" compoundref="_src_2_se_c_t_process_8cpp" startline="613" endline="628">TownServer::ProcessCT_PlayerMatchReq</referencedby>
        <referencedby refid="class_town_server_1aed8bc0c52844b912a069edc24254f169" compoundref="_src_2_se_c_t_process_8cpp" startline="351" endline="358">TownServer::ProcessCT_PlayerRename</referencedby>
        <referencedby refid="class_town_server_1a86376087c66c993a3b0a27022a73bffe" compoundref="_src_2_se_c_t_process_8cpp" startline="559" endline="565">TownServer::ProcessCT_PutOnEquip</referencedby>
        <referencedby refid="class_town_server_1a7f9eade62d120b290582a9b9c5b4bf66" compoundref="_src_2_se_c_t_process_8cpp" startline="376" endline="383">TownServer::ProcessCT_QueryNearestRaceInfo</referencedby>
        <referencedby refid="class_town_server_1a1377ba37827bdf289657af17efaa8541" compoundref="_src_2_se_c_t_process_8cpp" startline="329" endline="336">TownServer::ProcessCT_QueryRaceBetInfo</referencedby>
        <referencedby refid="class_town_server_1aa6ddb65bcbb86ff55879d33d44ee4141" compoundref="_src_2_se_c_t_process_8cpp" startline="399" endline="404">TownServer::ProcessCT_QueryRoomList</referencedby>
        <referencedby refid="class_town_server_1a1e19f70edafc94a24b84e66e5cc733de" compoundref="_src_2_se_c_t_process_8cpp" startline="513" endline="524">TownServer::ProcessCT_RaceDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1adaf7a391a4bf02fdd491df0c4a26aa23" compoundref="_src_2_se_c_t_process_8cpp" startline="526" endline="532">TownServer::ProcessCT_ReqItemCiTiaoChange</referencedby>
        <referencedby refid="class_town_server_1a42bf6d9c308555616001820e2f3a2677" compoundref="_src_2_se_c_t_process_8cpp" startline="535" endline="541">TownServer::ProcessCT_ReqItemDepart</referencedby>
        <referencedby refid="class_town_server_1aae1c6c1736a11d4aac877957a5d579e0" compoundref="_src_2_se_c_t_process_8cpp" startline="505" endline="511">TownServer::ProcessCT_ReqItemStrenth</referencedby>
        <referencedby refid="class_town_server_1a29a36489bc544698e0c489307b320e09" compoundref="_src_2_se_c_t_process_8cpp" startline="481" endline="491">TownServer::ProcessCT_ReqView</referencedby>
        <referencedby refid="class_town_server_1acbe440b12f549f04a277cac70f582db8" compoundref="_src_2_se_c_t_process_8cpp" startline="493" endline="503">TownServer::ProcessCT_ReqViewList</referencedby>
        <referencedby refid="class_town_server_1a396bd5c6db92c4726e5c2f9fec141d86" compoundref="_src_2_se_c_t_process_8cpp" startline="446" endline="456">TownServer::ProcessCT_RoomInvite</referencedby>
        <referencedby refid="class_town_server_1a27ddbc27da7ee80f287f1936031f4363" compoundref="_src_2_se_c_t_process_8cpp" startline="458" endline="467">TownServer::ProcessCT_RoomInviteRsp</referencedby>
        <referencedby refid="class_town_server_1a2b0ecb3ea39b1b8206f598259e81c911" compoundref="_src_2_se_c_t_process_8cpp" startline="405" endline="410">TownServer::ProcessCT_RoomJoin</referencedby>
        <referencedby refid="class_town_server_1ad10869f8d0b4c84bb39266f1e649334c" compoundref="_src_2_se_c_t_process_8cpp" startline="435" endline="444">TownServer::ProcessCT_RoomKickSomeone</referencedby>
        <referencedby refid="class_town_server_1a2e6a10324f8bd17127fcce9ac682a5bc" compoundref="_src_2_se_c_t_process_8cpp" startline="411" endline="417">TownServer::ProcessCT_RoomLeave</referencedby>
        <referencedby refid="class_town_server_1a2c71214d1296ff6514f905f76a760e5f" compoundref="_src_2_se_c_t_process_8cpp" startline="418" endline="426">TownServer::ProcessCT_RoomStart</referencedby>
        <referencedby refid="class_town_server_1a7192150399b453a6ce83230c5893dafe" compoundref="_src_2_se_c_t_process_8cpp" startline="428" endline="433">TownServer::ProcessCT_RoomSwitchSeat</referencedby>
        <referencedby refid="class_town_server_1a2dc51d8edc5d539b3198a64d18317468" compoundref="_src_2_se_c_t_process_8cpp" startline="703" endline="715">TownServer::ProcessCT_SearchUserArchivesDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1a33b6912a7b7bb87ccb568ee1e21a6f55" compoundref="_src_2_se_c_t_process_8cpp" startline="689" endline="701">TownServer::ProcessCT_SearchUserArchivesInfoReq</referencedby>
        <referencedby refid="class_town_server_1a888b014b8dc9564d000b58da8e8a8ac9" compoundref="_src_2_se_c_t_process_8cpp" startline="898" endline="903">TownServer::ProcessCT_SetActiveAvatarReq</referencedby>
        <referencedby refid="class_town_server_1a14a27648f064f2630f7bc491e965fdea" compoundref="_src_2_se_c_t_process_8cpp" startline="722" endline="734">TownServer::ProcessCT_SeUserRaceArenaDetailInfoReq</referencedby>
        <referencedby refid="class_town_server_1aa9d5f54b1c235e9d4d45d35b49bf746a" compoundref="_src_2_se_c_t_process_8cpp" startline="588" endline="598">TownServer::ProcessCT_ShopItemGM</referencedby>
        <referencedby refid="class_town_server_1abf05bb0ed546cdbdec5b40a7faff8a95" compoundref="_src_2_se_c_t_process_8cpp" startline="567" endline="573">TownServer::ProcessCT_TakeOffEquip</referencedby>
        <referencedby refid="class_town_server_1aee00bc019f4dec6490168db786c940d8" compoundref="_src_2_se_c_t_process_8cpp" startline="302" endline="309">TownServer::ProcessCT_TaskQueryList</referencedby>
        <referencedby refid="class_town_server_1a6e53182815244d8d2b56a71b0c3a56ad" compoundref="_src_2_se_c_t_process_8cpp" startline="311" endline="318">TownServer::ProcessCT_TaskResel</referencedby>
        <referencedby refid="class_town_server_1a18b25298381e6719d68d9bc3aa261ed9" compoundref="_src_2_se_c_t_process_8cpp" startline="917" endline="922">TownServer::ProcessCT_UserAlterAvatarFrameReq</referencedby>
        <referencedby refid="class_town_server_1aa1373ade93cd30719ae3c57fb3188e6d" compoundref="_src_2_se_c_t_process_8cpp" startline="911" endline="916">TownServer::ProcessCT_UserAlterAvatarReq</referencedby>
        <referencedby refid="class_town_server_1a384c195d67b32986109e0dd7b10ee4aa" compoundref="_src_2_se_c_t_process_8cpp" startline="905" endline="910">TownServer::ProcessCT_UserAlterNickNameReq</referencedby>
        <referencedby refid="class_town_server_1a6a7d0475d9cbe13d0bddbd902ef821da" compoundref="_src_2_se_c_t_process_8cpp" startline="750" endline="762">TownServer::ProcessCT_UserConfirmInviteReq</referencedby>
        <referencedby refid="class_town_server_1a9acaf3f55ab286c5e05a83fac0f56a3d" compoundref="_src_2_se_c_t_process_8cpp" startline="736" endline="748">TownServer::ProcessCT_UserInviteReq</referencedby>
        <referencedby refid="class_town_server_1a2a2fbe82864d590e174de74681507191" compoundref="_src_2_se_c_t_process_8cpp" startline="776" endline="788">TownServer::ProcessCT_UserLeaveTeamReq</referencedby>
        <referencedby refid="class_town_server_1a6144cf70e9ad15a988dbfb07082b3e89" compoundref="_src_2_se_c_t_process_8cpp" startline="891" endline="896">TownServer::ProcessCT_UserMapRaceHeroReq</referencedby>
        <referencedby refid="class_town_server_1abb4a380b1b54cc8ec3513bd40282fe93" compoundref="_src_2_se_c_t_process_8cpp" startline="923" endline="928">TownServer::ProcessCT_UserPurchaseAvatarReq</referencedby>
        <referencedby refid="class_town_server_1a448c66447705eaf33d1e5bbe26f46ed0" compoundref="_src_2_se_c_t_process_8cpp" startline="763" endline="775">TownServer::ProcessCT_UserRefuseInviteReq</referencedby>
        <referencedby refid="class_town_server_1a7840d5fa665c441ddd7c76b5a0c3ba8f" compoundref="_src_2_se_c_t_process_8cpp" startline="846" endline="858">TownServer::ProcessCT_UserStatusQueryReq</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_town_server_8h" kindref="compound">TownServer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3" refid="_src_2_se_c_t_process_8cpp_1a24cd3c37a165a8c4626d9e78df4574ff" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SERVER<sp/>TownServer</highlight></codeline>
<codeline lineno="4"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_c_t_process_8inc" kindref="compound">SeCTProcess.inc</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_t_w_send_8inl" kindref="compound">SeTWSend.inl</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>SERVER</highlight></codeline>
<codeline lineno="7"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8" refid="_src_2_se_c_t_process_8cpp_1a1d4a1ca6f195d12928219e47c7447722" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>GET_CUR_CONNECT(pkTcpUser)<sp/>SeTCPUser*<sp/>pkTcpUser<sp/>=<sp/>(SeTCPUser*)pkSender</highlight></codeline>
<codeline lineno="9" refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>GET_CUR_CONN_AND_PLAYER(pkTcpUser,<sp/>pkPlayer)<sp/>\</highlight></codeline>
<codeline lineno="10"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>SeTCPUser*<sp/>pkTcpUser<sp/>=<sp/>(SeTCPUser*)pkSender;\</highlight></codeline>
<codeline lineno="11"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if(!pkTcpUser)<sp/>return;\</highlight></codeline>
<codeline lineno="12"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>SePlayer*<sp/>pkPlayer<sp/>=<sp/>g_kPlayerMgr.GetPlayerByID(pkTcpUser-&gt;dwPlayerID);\</highlight></codeline>
<codeline lineno="13"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if(!pkPlayer)<sp/>return;</highlight></codeline>
<codeline lineno="14"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="class_town_server_1a858ce9a7c6197b96a56cb35e5287b0c8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a858ce9a7c6197b96a56cb35e5287b0c8" kindref="member">TownServer::PreProcessCT</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="16"><highlight class="normal">{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*<sp/>pkCmd<sp/>=<sp/>(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*)pkData;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(;;)</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>==<sp/><ref refid="_se_ptl___c_l___to___t_s_8h_1a6c1e010d37c5868ae4549cbfbdbcb55da14b1d95a2b323c3df45e979188cbd026" kindref="member">CMD_CT_HEARTBEAT</ref>)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::map&lt;DWord,<sp/>std::string&gt;<sp/>&amp;<sp/>nameMap<sp/>=<sp/><ref refid="_se_ptl___c_l___to___t_s_8h_1a75256c669dbbd9f0e0c9de2b31155822" kindref="member">getCTCmdNameMap</ref>();</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::map&lt;DWord,<sp/>std::string&gt;::const_iterator<sp/>it<sp/>=<sp/>nameMap.find(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref>);</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>!=<sp/>nameMap.end())</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1ab19c516672348b15ddabafb0bfb9d0a7" kindref="member">SeLogDebug</ref>(</highlight><highlight class="stringliteral">&quot;RECV<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>it-&gt;second.c_str());</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="34"><highlight class="normal">}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="class_town_server_1a75b0b0033728f35da16780100fd67d4b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a75b0b0033728f35da16780100fd67d4b" kindref="member">TownServer::ProcessCT_PlayerValidate</ref>(<ref refid="struct_se_c_t___player_validate" kindref="compound">SeCT_PlayerValidate</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="37"><highlight class="normal">{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerValidate<sp/>ply[%u]<sp/><sp/>dwMSangoMagic[%u]<sp/><sp/>dwSessionId[%u]<sp/><sp/>dwVersion[%u]<sp/><sp/>dwMaxMailID[%u]<sp/>clientIP[%s]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a1511d3982abb30b4ea7008e33d09b0db" kindref="member">dwMSangoMagic</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a2d0a604779ebff5b2d1013ee72abb74c" kindref="member">dwSessionId</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a2cff202bb770df29f5394287b1607a46" kindref="member">dwVersion</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1ad28025a3c491ccf05f3e43063f7325a2" kindref="member">dwMaxMailID</ref>,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a14b7361477632db864b99f1d2cceee4e" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a1511d3982abb30b4ea7008e33d09b0db" kindref="member">dwMSangoMagic</ref><sp/>!=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa051b38374860159471f6a78f1167a7eb" kindref="member">SSD_MSANGO_MAGIC</ref><sp/>||<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerValidate<sp/>invalid<sp/>param<sp/>:<sp/>MagicNum:[%d],playerID:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a1511d3982abb30b4ea7008e33d09b0db" kindref="member">dwMSangoMagic</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1aab8c01b71d2255c74c4bff8747d67621" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaa56d080abab641c052974b0a39f8bf32" kindref="member">SCS_UNKOWN</ref>)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerValidate<sp/>invalid<sp/>tcpuser[%u]<sp/>state[%d]:<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1aab8c01b71d2255c74c4bff8747d67621" kindref="member">eState</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkFind<sp/>=<sp/><ref refid="class_town_server_1a3c8202f3c8577b4851dc94e09a446228" kindref="member">GetTcpUserByID</ref>(pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkFind)</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerValidate<sp/>fail<sp/>tcpuser[%u]<sp/>repeat:<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkFind-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1aab8c01b71d2255c74c4bff8747d67621" kindref="member">eState</ref><sp/>=<sp/><ref refid="_src_2_town_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea8179af14ad857cfd981de2d2ba9252c9" kindref="member">SCS_WAIT_WS</ref>;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1acd62156edd6be7eda0547940b7c551bc" kindref="member">dwStateTime</ref><sp/>=<sp/><ref refid="class_town_server_1a7d1799846cbc837133f3bdc55608500c" kindref="member">m_dwCurTime</ref>;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref><sp/>=<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a629ba3cb05659eee1e912e69f1900e27" kindref="member">eDeviceOS</ref><sp/>=<sp/>(<ref refid="_se_ptl_comm_define_8h_1ab87ca2cba6acccb9ea116ba93cda1863" kindref="member">SeDeviceOS</ref>)pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a3c2308f80de67b2a4c0aaf8bd1a18dc2" kindref="member">kMobileInfo</ref>.<ref refid="struct_se_mobile_info_1a0ac314dc0b1fc284ebe460da9339df8d" kindref="member">dwDeviceOS</ref>;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dwPlayerIP<sp/>=<sp/><ref refid="_se_tool_8cpp_1a4a8fd834e7cd7e160db5b8a3dcefb21d" kindref="member">GetIPString2DWord</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a14b7361477632db864b99f1d2cceee4e" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_town_server_1a450d345dee83b449e29e0d73fc9f63cb" kindref="member">SendTW_PlayerValidate</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a2d0a604779ebff5b2d1013ee72abb74c" kindref="member">dwSessionId</ref>,<sp/>dwPlayerIP,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1ad28025a3c491ccf05f3e43063f7325a2" kindref="member">dwMaxMailID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1a3c2308f80de67b2a4c0aaf8bd1a18dc2" kindref="member">kMobileInfo</ref>))</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;SendTW_PlayerValidate<sp/>Failed<sp/>PlayerID:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_validate_1acc8378c65bcb65ad7cabd36952a7b50e" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//tset<sp/>search</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>//<sp/>test<sp/>search<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>SeUserArchivesNameInfo<sp/>Info;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>strcpy(Info.acName,<sp/>&quot;test2&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>SendTW_SearchUserArchivesInfoReq(pkTcpUser-&gt;dwPlayerID,<sp/>Info);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>//<sp/>test<sp/>search<sp/>by<sp/>userid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>const<sp/>DWord<sp/>userid<sp/>=<sp/>2959;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>SendTW_SearchUserArchivesDetailInfoReq(pkTcpUser-&gt;dwPlayerID,<sp/>userid);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal">}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="class_town_server_1a4e05d73f5dc0929bdc4d75815e1227e1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a4e05d73f5dc0929bdc4d75815e1227e1" kindref="member">TownServer::ProcessCT_QueryName</ref>(<ref refid="struct_se_c_t___query_name" kindref="compound">SeCT_QueryName</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="91"><highlight class="normal">{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acName[256]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4697a1b0adee30e7c3810134c6cfe519" kindref="member">MemCpy</ref>(acName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acName),<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_name_1a6295336742562e69184f7e00522fbd10" kindref="member">acName</ref>,<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>acName[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acName)<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(acName)<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa5910d15f8f5c21834a975b7009e7de20" kindref="member">SSD_MIN_CHAR_NAME</ref><sp/>||<sp/>strlen(acName)<sp/>&gt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//OnSendShowNoticeWithoutString(SNC_CHAR_NAME_INVALID,<sp/>0,<sp/>pkConnect-&gt;kSock);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_QueryName<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a03dac007f32ebaef1bc40c3c045d95e7" kindref="member">SendTW_QueryName</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>,<sp/>acName);</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="class_town_server_1a1c6ce74739f24fff3d68412ec7fc23b7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a1c6ce74739f24fff3d68412ec7fc23b7" kindref="member">TownServer::ProcessCT_CreateChar</ref>(<ref refid="struct_se_c_t___create_char" kindref="compound">SeCT_CreateChar</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_CreateChar<sp/><sp/>dwCardID[%u]<sp/><sp/>acName[%s]<sp/><sp/>iSex[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1a10cb279e025931bffb3a8e842dc376f3" kindref="member">dwCardID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1a607719f96b4beba26444f1959c29ab54" kindref="member">acName</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1af8f4f2c590d4adb52c35b56b7d1ea89a" kindref="member">iSex</ref>);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1aab8c01b71d2255c74c4bff8747d67621" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_src_2_town_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaff0e9818b2df944cd72eb0c94277fde4" kindref="member">SCS_CREATE_CHAR</ref>)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acName[256]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4697a1b0adee30e7c3810134c6cfe519" kindref="member">MemCpy</ref>(acName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acName),<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1a607719f96b4beba26444f1959c29ab54" kindref="member">acName</ref>,<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>acName[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acName)<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(acName)<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa5910d15f8f5c21834a975b7009e7de20" kindref="member">SSD_MIN_CHAR_NAME</ref><sp/>||<sp/>strlen(acName)<sp/>&gt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a939211f72cbbe0240da876afdf5f7ad0" kindref="member">OnSendShowNoticeWithoutString</ref>(<ref refid="_se_ptl_comm_define_8h_1a9e8a0c48a4141863c0a26f1c12a43877afcd00ed9cc8a9a270dbf278e458e3859" kindref="member">SNC_CHAR_NAME_INVALID</ref>,<sp/>0,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1aab8c01b71d2255c74c4bff8747d67621" kindref="member">eState</ref><sp/>=<sp/><ref refid="_src_2_town_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaef66b6a60d1c5c07d960965ec5f2c526" kindref="member">SCS_CREATEING_CHAR</ref>;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1acd62156edd6be7eda0547940b7c551bc" kindref="member">dwStateTime</ref><sp/>=<sp/><ref refid="class_town_server_1a7d1799846cbc837133f3bdc55608500c" kindref="member">m_dwCurTime</ref>;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_CreateChar<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a9526c4e64640bba852cb91ad021da1b3" kindref="member">SendTW_CreateChar</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>,<sp/>acName,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1af8f4f2c590d4adb52c35b56b7d1ea89a" kindref="member">iSex</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_char_1a10cb279e025931bffb3a8e842dc376f3" kindref="member">dwCardID</ref>);</highlight></codeline>
<codeline lineno="135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="class_town_server_1a6852ef8ff221cb67a69e2f4803008c37" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a6852ef8ff221cb67a69e2f4803008c37" kindref="member">TownServer::ProcessCT_LeaveTown</ref>(<ref refid="struct_se_c_t___leave_town" kindref="compound">SeCT_LeaveTown</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_LeaveTown<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="144"><highlight class="normal">}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146" refid="class_town_server_1a02e236a5f2c9eb4008ff49f9ce46fe79" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a02e236a5f2c9eb4008ff49f9ce46fe79" kindref="member">TownServer::ProcessCT_PlayerGoDirect</ref>(<ref refid="struct_se_c_t___player_go_direct" kindref="compound">SeCT_PlayerGoDirect</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="147"><highlight class="normal">{</highlight></codeline>
<codeline lineno="148"><highlight class="normal">}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150" refid="class_town_server_1ae51c4cab91686eae4dcea8a6bf597e8a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ae51c4cab91686eae4dcea8a6bf597e8a" kindref="member">TownServer::ProcessCT_RaceEndGuanka</ref>(<ref refid="struct_se_c_t___race_end_guanka" kindref="compound">SeCT_RaceEndGuanka</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="151"><highlight class="normal">{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;SeCT_RaceEndGuanka<sp/><sp/>iType[%d]<sp/>dwRaceTime[%u]<sp/>iMapID[%d]<sp/><sp/>bValid[%d]<sp/><sp/>iNums[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aa850020aeba2f2d3d59c90957f04b9b7" kindref="member">iType</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a2215c0ac6cc2f18c048920039e3ccb9c" kindref="member">dwRaceTime</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a944099e8dc792c2d885c5ad4e57c9aa6" kindref="member">iMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a9db5762cc3a973993dcd83a4f6fb299c" kindref="member">bValid</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aff9ad154fc1823e3a6f46b7bd1b7ae64" kindref="member">iNums</ref>);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RaceEndGuanka<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(pkPlayer-&gt;GetPlayerState()<sp/>!=<sp/>SPS_RACING)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aa850020aeba2f2d3d59c90957f04b9b7" kindref="member">iType</ref><sp/>!=<sp/>1)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aff9ad154fc1823e3a6f46b7bd1b7ae64" kindref="member">iNums</ref><sp/>&lt;=<sp/>0<sp/>||<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aff9ad154fc1823e3a6f46b7bd1b7ae64" kindref="member">iNums</ref><sp/>&gt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa4d18e8e3cf1c5fba177f688bde4f0738" kindref="member">SSD_MAX_ROOM_PLAYER</ref>)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RaceEndGuanka<sp/>Param<sp/>Invalid<sp/>:<sp/>PlyNum:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aff9ad154fc1823e3a6f46b7bd1b7ae64" kindref="member">iNums</ref>);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_town_server_def_8h_1aa69e5d85073de4d4920d97e2c7422d78" kindref="member">DISCONNECT_USER</ref>(pkTcpUser);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_race_mgr_8cpp_1a1f83db99b647792f31ca33007bb173f3" kindref="member">g_kRaceMgr</ref>.<ref refid="class_se_race_mgr_1a5d882d77d854ed40157b0f10dba6c283" kindref="member">OnPlayerGuankaEnd</ref>(pkPlayer,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a944099e8dc792c2d885c5ad4e57c9aa6" kindref="member">iMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a2215c0ac6cc2f18c048920039e3ccb9c" kindref="member">dwRaceTime</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a9db5762cc3a973993dcd83a4f6fb299c" kindref="member">bValid</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1aff9ad154fc1823e3a6f46b7bd1b7ae64" kindref="member">iNums</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_c_t___race_end_guanka_1a27e2eeca446d6d684faa14c35be24bf8" kindref="member">akPlayerInfo</ref>[0]);</highlight></codeline>
<codeline lineno="182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184" refid="class_town_server_1a38bc736a7f3ec4aa7a3ac2817e54dd24" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a38bc736a7f3ec4aa7a3ac2817e54dd24" kindref="member">TownServer::ProcessCT_ViewBegin</ref>(<ref refid="struct_se_c_t___view_begin" kindref="compound">SeCT_ViewBegin</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="185"><highlight class="normal">{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ViewBegin<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a170914a9d8de6d2fbdd8b9152dfaf0b4" kindref="member">SendTM_ViewQuery</ref>(pkData-&gt;<ref refid="struct_se_c_t___view_begin_1a8e100bf728629545c9cc368d88d5bdd8" kindref="member">dwRoomSession</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___view_begin_1afc1daae09483a5569845209805428343" kindref="member">dwDstPlayerID</ref>,<sp/><ref refid="class_town_server_1a2260fe99dac49c1843f749554b82fd13" kindref="member">m_kWSData</ref>.<ref refid="struct_se_server_data_1a00d62b0291ec6d527625afc329f5f95b" kindref="member">dwID</ref>,<sp/><ref refid="class_town_server_1ae06c9b74cc25aca9f96f0648378101db" kindref="member">m_kConfig</ref>.<ref refid="struct_se_town_config_1a2c873b58dd6321beb01f53c6ebe07bd5" kindref="member">dwServerID</ref>,<sp/>pkPlayer-&gt;<ref refid="class_se_player_1a0834e11ba6f0e730e99014864f8d25e0" kindref="member">GetID</ref>(),<sp/>0);</highlight></codeline>
<codeline lineno="198"><highlight class="normal">}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200" refid="class_town_server_1a8050f4d17d9e7ea585b62c22b4314ae6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a8050f4d17d9e7ea585b62c22b4314ae6" kindref="member">TownServer::ProcessCT_QueryRaceRoomList</ref>(<ref refid="struct_se_c_t___query_race_room_list" kindref="compound">SeCT_QueryRaceRoomList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="201"><highlight class="normal">{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_QueryRaceRoomList<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a3a4239f7be2e658bedba5eb7abfd6630" kindref="member">SendTM_QueryRaceRoomList</ref>(pkPlayer-&gt;<ref refid="class_se_player_1a0834e11ba6f0e730e99014864f8d25e0" kindref="member">GetID</ref>(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_race_room_list_1a9df6d891ebb35262e0daeb4bf882c976" kindref="member">dwRoomSession</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_race_room_list_1a1c41b32eb876612f908b031f2aa636c5" kindref="member">iPage</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_race_room_list_1a6ecc8b245500fcccd1821f4c6346e671" kindref="member">dwMapID</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal">}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215" refid="class_town_server_1ae8910da279b888e60cad24d0709c2326" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ae8910da279b888e60cad24d0709c2326" kindref="member">TownServer::ProcessCT_ItemExchange</ref>(<ref refid="struct_se_c_t___item_exchange" kindref="compound">SeCT_ItemExchange</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ItemExchange<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a599726c7d1ecaf4685d2f19dff1d7f34" kindref="member">SendTW_ItemExchange</ref>(pkPlayer-&gt;<ref refid="class_se_player_1a0834e11ba6f0e730e99014864f8d25e0" kindref="member">GetID</ref>(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___item_exchange_1aba277ba4e0b4f62496ba9f083fdf6ad9" kindref="member">iTypeID</ref>);</highlight></codeline>
<codeline lineno="228"><highlight class="normal">}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230" refid="class_town_server_1a9486edd70aaca9c895e1c0f24a6a7189" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a9486edd70aaca9c895e1c0f24a6a7189" kindref="member">TownServer::ProcessCT_ReconQuery</ref>(<ref refid="struct_se_c_t___recon_query" kindref="compound">SeCT_ReconQuery</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="231"><highlight class="normal">{</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReconQuery<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fixme</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a628131970260022cfbdef13c67a38d71" kindref="member">SendTM_ReconPLayerName</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___recon_query_1ae1f509837768ca0456de1e08a1a5c567" kindref="member">dwRoomID</ref>,<sp/>pkPlayer-&gt;<ref refid="class_se_player_1a797ffa0696f624ff258d97c8c61bec4a" kindref="member">GetName</ref>());</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ab0f3a9ee2696871a553d617029a4b049" kindref="member">SendTM_ReconQuery</ref>(pkData-&gt;<ref refid="struct_se_c_t___recon_query_1ae1f509837768ca0456de1e08a1a5c567" kindref="member">dwRoomID</ref>,<sp/><ref refid="class_town_server_1a2260fe99dac49c1843f749554b82fd13" kindref="member">m_kWSData</ref>.<ref refid="struct_se_server_data_1a00d62b0291ec6d527625afc329f5f95b" kindref="member">dwID</ref>,<sp/><ref refid="class_town_server_1ae06c9b74cc25aca9f96f0648378101db" kindref="member">m_kConfig</ref>.<ref refid="struct_se_town_config_1a2c873b58dd6321beb01f53c6ebe07bd5" kindref="member">dwServerID</ref>,<sp/>pkPlayer-&gt;<ref refid="class_se_player_1a0834e11ba6f0e730e99014864f8d25e0" kindref="member">GetID</ref>(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___recon_query_1a69cc9d6ebdbe7101e0aea8b3ba94f48c" kindref="member">iSeat</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___recon_query_1aa10d4429c5407d479fcd1e99e3e472b6" kindref="member">iOffset</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___recon_query_1a0324fa838b3ed17e6eb94d61f296f026" kindref="member">dwFrame</ref>);</highlight></codeline>
<codeline lineno="246"><highlight class="normal">}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248" refid="class_town_server_1abd184e9fe06931c449f764425508161f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1abd184e9fe06931c449f764425508161f" kindref="member">TownServer::ProcessCT_ReqIncompleteRaceList</ref>(<ref refid="struct_se_c_t___req_incomplete_race_list" kindref="compound">SeCT_ReqIncompleteRaceList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="249"><highlight class="normal">{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1ab19c516672348b15ddabafb0bfb9d0a7" kindref="member">SeLogDebug</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqIncompleteRaceList<sp/>playerID[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a57db306eebe98529ef0221fd4143796a" kindref="member">SendTM_ReqIncompleteRaceList</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//g_kRaceMgr.OnReqGetIncmpRaceList(*pkPlayer);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//g_kPlayerMgr.OnProcessOpenIncmpRaceList(pkPlayer-&gt;GetID());</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal">}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266" refid="class_town_server_1a05228ec43ea063cae562c869f6842550" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a05228ec43ea063cae562c869f6842550" kindref="member">TownServer::ProcessCT_ReqIncompleteRaceKDA</ref>(<ref refid="struct_se_c_t___req_incomplete_race_k_d_a" kindref="compound">SeCT_ReqIncompleteRaceKDA</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="267"><highlight class="normal">{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1ab19c516672348b15ddabafb0bfb9d0a7" kindref="member">SeLogDebug</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqIncompleteRaceKDA<sp/>playerID[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a770e0423f54cb413a5e9326f7f4c6e87" kindref="member">SendTM_ReqIncompleteRaceKDA</ref>(pkData-&gt;<ref refid="struct_se_c_t___req_incomplete_race_k_d_a_1a428204ee0ee4578ba6e2b9304974bdcd" kindref="member">dwRoomSession</ref>,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="277"><highlight class="normal">}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279" refid="class_town_server_1ad9292e8ba75ebddd619bc0027940d162" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ad9292e8ba75ebddd619bc0027940d162" kindref="member">TownServer::ProcessCT_CloseIncompleteRaceList</ref>(<ref refid="struct_se_c_t___close_incomplete_race_list" kindref="compound">SeCT_CloseIncompleteRaceList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="280"><highlight class="normal">{</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1ab19c516672348b15ddabafb0bfb9d0a7" kindref="member">SeLogDebug</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_CloseIncompleteRaceList<sp/>playerID[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_player" kindref="compound">SePlayer</ref>*<sp/>pkPlayer<sp/>=<sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a70d89637296c1e7cb23151268bd8468e" kindref="member">GetPlayerByID</ref>(pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_player_mgr_8cpp_1abc19838f74a7bdf07c113aab87f5b364" kindref="member">g_kPlayerMgr</ref>.<ref refid="class_se_player_mgr_1a9778a0efc89f4659d50001008e0e175f" kindref="member">OnProcessCloseIncmpRaceList</ref>(pkPlayer-&gt;<ref refid="class_se_player_1a0834e11ba6f0e730e99014864f8d25e0" kindref="member">GetID</ref>());</highlight></codeline>
<codeline lineno="291"><highlight class="normal">}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293" refid="class_town_server_1a10753394400b8e78a8e33959bfb95be7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a10753394400b8e78a8e33959bfb95be7" kindref="member">TownServer::ProcessCT_DelayCheck</ref>(<ref refid="struct_se_c_t___delay_check" kindref="compound">SeCT_DelayCheck</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="294"><highlight class="normal">{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_DelayCheck<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1ac984772dbba350cd8c0f058850c889e1" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a70a0641f3fea7ad28916b94bbc3ef87d" kindref="member">SendTC_DelayCheckRet</ref>(&amp;pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>);</highlight></codeline>
<codeline lineno="300"><highlight class="normal">}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302" refid="class_town_server_1aee00bc019f4dec6490168db786c940d8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aee00bc019f4dec6490168db786c940d8" kindref="member">TownServer::ProcessCT_TaskQueryList</ref>(<ref refid="struct_se_c_t___task_query_list" kindref="compound">SeCT_TaskQueryList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="303"><highlight class="normal">{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_TaskQueryList<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aa6062296804b8f12877849f7c4cd7847" kindref="member">SendTW_TaskQueryList</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="309"><highlight class="normal">}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311" refid="class_town_server_1a6e53182815244d8d2b56a71b0c3a56ad" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a6e53182815244d8d2b56a71b0c3a56ad" kindref="member">TownServer::ProcessCT_TaskResel</ref>(<ref refid="struct_se_c_t___task_resel" kindref="compound">SeCT_TaskResel</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="312"><highlight class="normal">{</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_TaskResel<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ae30b5ccf4edc8bb221498c81d130e669" kindref="member">SendTW_TaskResel</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___task_resel_1a24df10d4f1d1fc05213084dae64e2e67" kindref="member">dwTaskID</ref>);</highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320" refid="class_town_server_1ad33624dc7ebbc961cf951cf1e9a55438" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ad33624dc7ebbc961cf951cf1e9a55438" kindref="member">TownServer::ProcessCT_GetTaskReward</ref>(<ref refid="struct_se_c_t___get_task_reward" kindref="compound">SeCT_GetTaskReward</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_GetTaskReward<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a0cf5fd3b687d9f8f2525773253b20a4e" kindref="member">SendTW_GetTaskReward</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___get_task_reward_1a19032e5c753f9fe2bc8db17501da363d" kindref="member">dwTaskID</ref>);</highlight></codeline>
<codeline lineno="327"><highlight class="normal">}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329" refid="class_town_server_1a1377ba37827bdf289657af17efaa8541" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a1377ba37827bdf289657af17efaa8541" kindref="member">TownServer::ProcessCT_QueryRaceBetInfo</ref>(<ref refid="struct_se_c_t___query_race_bet_info" kindref="compound">SeCT_QueryRaceBetInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="330"><highlight class="normal">{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_QueryRaceBetInfo<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a38c1b754dc39d3a4e9fc62582632c843" kindref="member">SendTM_QueryRaceBetInfo</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="336"><highlight class="normal">}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338" refid="class_town_server_1a9759352f992a35791fd5931e768509cd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a9759352f992a35791fd5931e768509cd" kindref="member">TownServer::ProcessCT_DelReconInfo</ref>(<ref refid="struct_se_c_t___del_recon_info" kindref="compound">SeCT_DelReconInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_DelReconInfo<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a79825837082572ff374235f85b0fffd5" kindref="member">SendTW_DelReconInfo</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="345"><highlight class="normal">}</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347" refid="class_town_server_1ab34fb833b86b9f90189c308edabde25d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ab34fb833b86b9f90189c308edabde25d" kindref="member">TownServer::ProcessCT_MailOpr</ref>(<ref refid="struct_se_c_t___mail_opr" kindref="compound">SeCT_MailOpr</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="348"><highlight class="normal">{</highlight></codeline>
<codeline lineno="349"><highlight class="normal">}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351" refid="class_town_server_1aed8bc0c52844b912a069edc24254f169" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aed8bc0c52844b912a069edc24254f169" kindref="member">TownServer::ProcessCT_PlayerRename</ref>(<ref refid="struct_se_c_t___player_rename" kindref="compound">SeCT_PlayerRename</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="352"><highlight class="normal">{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerRename<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a7b058db6bab3e5c7004bb32f9db87642" kindref="member">SendTW_PlayerRename</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_rename_1a293155145acc1502c90ab4956fdf484f" kindref="member">acName</ref>);</highlight></codeline>
<codeline lineno="358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360" refid="class_town_server_1a70734a7c813305a492d9b36788bf9c19" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a70734a7c813305a492d9b36788bf9c19" kindref="member">TownServer::ProcessCT_HeartBeat</ref>(<ref refid="struct_se_c_t___heart_beat" kindref="compound">SeCT_HeartBeat</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="361"><highlight class="normal">{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*<sp/>pkTcpUser<sp/>=<sp/>(<ref refid="struct_se_t_c_p_user" kindref="compound">SeTCPUser</ref>*)pkSender;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a16353bcbc69adf387e3b0e41772812b3" kindref="member">SendTC_HeartBeat</ref>(&amp;pkTcpUser-&gt;<ref refid="struct_se_t_c_p_user_1a75c36d511497381d0bea1f15a13ce75e" kindref="member">dwClientID</ref>);</highlight></codeline>
<codeline lineno="365"><highlight class="normal">}</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367" refid="class_town_server_1a0d8a22a61e37b0f733ca3bf6a724f6a1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a0d8a22a61e37b0f733ca3bf6a724f6a1" kindref="member">TownServer::ProcessCT_MapTaskOpr</ref>(<ref refid="struct_se_c_t___map_task_opr" kindref="compound">SeCT_MapTaskOpr</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="368"><highlight class="normal">{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_MapTaskOpr<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ab8e154cf0a156210310cc543b6ef15d8" kindref="member">SendTW_MapTaskOpr</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___map_task_opr_1a6aa4770088c852a5296bb8188b347db2" kindref="member">iOprType</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___map_task_opr_1a760d842b0032393e32e9c9da48aa7398" kindref="member">dwParam</ref>);</highlight></codeline>
<codeline lineno="374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376" refid="class_town_server_1a7f9eade62d120b290582a9b9c5b4bf66" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a7f9eade62d120b290582a9b9c5b4bf66" kindref="member">TownServer::ProcessCT_QueryNearestRaceInfo</ref>(<ref refid="struct_se_c_t___query_nearest_race_info" kindref="compound">SeCT_QueryNearestRaceInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="377"><highlight class="normal">{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_QueryNearestRaceInfo<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a27de00076eb7f91ef85aad1043c124a6" kindref="member">SendTW_QueryNearestRaceInfo</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_nearest_race_info_1ae8daa189b0fe67317ed8a48e594e3f9d" kindref="member">dwMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_nearest_race_info_1aa91ec1f2d7acce4341557ccad437d536" kindref="member">dwQueriedID</ref>);</highlight></codeline>
<codeline lineno="383"><highlight class="normal">}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387" refid="class_town_server_1acb2696f8f2bc37fe11655ff2711317e0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1acb2696f8f2bc37fe11655ff2711317e0" kindref="member">TownServer::ProcessCT_CreateRoom</ref>(<ref refid="struct_se_c_t___create_room" kindref="compound">SeCT_CreateRoom</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="388"><highlight class="normal">{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_CreateRoom<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ade162839b853eacc44ceea32592f483d" kindref="member">SendTM_MatchCreateRoom</ref>(pkPlayer-&gt;GetID(),<sp/>pkPlayer-&gt;GetName(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1a2dbde6d19ddf6b691f10990cce243654" kindref="member">dwMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1ad4760f6ed80dd014f2c51e48903810db" kindref="member">dwCamp</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1ade487d0b546d57a92b49a2a2c8e23298" kindref="member">iDifficulty</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1adce275a26c3f15e3f52699775d488a92" kindref="member">bPlayBoss</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1ab1e9611dac8d3f232dac3347406ffddf" kindref="member">bUseRobot</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1a6504ab6b927896832f217e0ce87185c2" kindref="member">dwGameMode</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1a18ceb60efff909b72c764179e6109efb" kindref="member">strRoomName</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___create_room_1ace2742fb0268b89acce338a8f77aee8b" kindref="member">strPass</ref>);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>pkPlayer-&gt;m_bRoomCreater<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//SendTW_QueryNearestRaceInfo(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;dwMapID,<sp/>pkData-&gt;dwQueriedID);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal">}</highlight></codeline>
<codeline lineno="399" refid="class_town_server_1aa6ddb65bcbb86ff55879d33d44ee4141" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aa6ddb65bcbb86ff55879d33d44ee4141" kindref="member">TownServer::ProcessCT_QueryRoomList</ref>(<ref refid="struct_se_c_t___query_room_list" kindref="compound">SeCT_QueryRoomList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="400"><highlight class="normal">{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_QueryRoomList<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a0677b64b08d5d5983196930e2207489a" kindref="member">SendTM_MatchQueryRoomList</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_room_list_1aeb9f13efb3ec5ef4ef23d5e9e2affe6e" kindref="member">iCurPage</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___query_room_list_1ac1571aa5c2c4fdee5d8d17b0ea5781ff" kindref="member">dwMapID</ref>);</highlight></codeline>
<codeline lineno="404"><highlight class="normal">}</highlight></codeline>
<codeline lineno="405" refid="class_town_server_1a2b0ecb3ea39b1b8206f598259e81c911" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2b0ecb3ea39b1b8206f598259e81c911" kindref="member">TownServer::ProcessCT_RoomJoin</ref>(<ref refid="struct_se_c_t___room_join" kindref="compound">SeCT_RoomJoin</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="406"><highlight class="normal">{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomJoin<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a7ea086978f14b40445c87bf1aae9a345" kindref="member">SendTM_MatchRoomJoin</ref>(pkPlayer-&gt;GetID(),<sp/>pkPlayer-&gt;GetName(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_join_1ab862a19f8d31416b5a6128c1669ba921" kindref="member">dwDstRoom</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_join_1a1d6b053a183db1af9a0c3658766e2378" kindref="member">dwCamp</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_join_1a0f5f9c7c42b7485d089c705af8fe3dad" kindref="member">iseat</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_join_1a5ad98577de0c765af25dfca6e544da3a" kindref="member">strPass</ref>);</highlight></codeline>
<codeline lineno="410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="411" refid="class_town_server_1a2e6a10324f8bd17127fcce9ac682a5bc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2e6a10324f8bd17127fcce9ac682a5bc" kindref="member">TownServer::ProcessCT_RoomLeave</ref>(<ref refid="struct_se_c_t___room_leave" kindref="compound">SeCT_RoomLeave</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="412"><highlight class="normal">{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomLeave<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac8c7f427db5bafe1602c383c9a55f43d" kindref="member">SendTM_MatchRoomLeave</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_leave_1ad5b2ac2e55f027d540459f16217c0631" kindref="member">dwDstRoom</ref>);</highlight></codeline>
<codeline lineno="417"><highlight class="normal">}</highlight></codeline>
<codeline lineno="418" refid="class_town_server_1a2c71214d1296ff6514f905f76a760e5f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2c71214d1296ff6514f905f76a760e5f" kindref="member">TownServer::ProcessCT_RoomStart</ref>(<ref refid="struct_se_c_t___room_start" kindref="compound">SeCT_RoomStart</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="419"><highlight class="normal">{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomReady<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkPlayer-&gt;m_bRoomCreater)</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1acb42f95c56e7fb8ba699c63bdd5957a7" kindref="member">SendTM_MatchRoomReady</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_start_1a21a6653a1e755b0d66c1bbcab3066d1f" kindref="member">dwRoomID</ref>);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal">}</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428" refid="class_town_server_1a7192150399b453a6ce83230c5893dafe" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a7192150399b453a6ce83230c5893dafe" kindref="member">TownServer::ProcessCT_RoomSwitchSeat</ref>(<ref refid="struct_se_c_t___room_switch_seat" kindref="compound">SeCT_RoomSwitchSeat</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="429"><highlight class="normal">{</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomSwitchSeat<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a4e7c55479c2f7834ba8ceb9581dc0aca" kindref="member">SendTM_MatchRoomSwitchSeat</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_switch_seat_1a12f46ddc2432f82aa35f4df1969768e1" kindref="member">dwDstRoom</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_switch_seat_1a42e01f058a2d18ddab442ea018737ce4" kindref="member">dwCamp</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_switch_seat_1a3b8c35161bee8e3955badca087caa30e" kindref="member">iseat</ref>);</highlight></codeline>
<codeline lineno="433"><highlight class="normal">}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435" refid="class_town_server_1ad10869f8d0b4c84bb39266f1e649334c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ad10869f8d0b4c84bb39266f1e649334c" kindref="member">TownServer::ProcessCT_RoomKickSomeone</ref>(<ref refid="struct_se_c_t___room_kick_someone" kindref="compound">SeCT_RoomKickSomeone</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="436"><highlight class="normal">{</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomKickSomeone<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkPlayer-&gt;m_bRoomCreater<sp/>&amp;&amp;<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_kick_someone_1ad85c4594b834375b3372e099b27230b1" kindref="member">dwKickedPlayerID</ref><sp/>!=<sp/>pkPlayer-&gt;GetID())</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a9547b29efe08485eddae4efa61543e90" kindref="member">SendTM_MatchRoomKickSomeone</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_kick_someone_1a1994c74f76ba30c92f7c809ff817fc9c" kindref="member">dwRoomID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_kick_someone_1ad85c4594b834375b3372e099b27230b1" kindref="member">dwKickedPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_kick_someone_1a6dcc15666ebaa3197b45e8c9e1e5e655" kindref="member">iseat</ref>);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="444"><highlight class="normal">}</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446" refid="class_town_server_1a396bd5c6db92c4726e5c2f9fec141d86" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a396bd5c6db92c4726e5c2f9fec141d86" kindref="member">TownServer::ProcessCT_RoomInvite</ref>(<ref refid="struct_se_c_t___room_invite" kindref="compound">SeCT_RoomInvite</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="447"><highlight class="normal">{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomKickSomeone<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_c_t___room_invite_1a2460c2043dc943d766125e663b89274f" kindref="member">dwInviteeID</ref><sp/>&amp;&amp;<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_invite_1a2460c2043dc943d766125e663b89274f" kindref="member">dwInviteeID</ref><sp/>!=<sp/>pkPlayer-&gt;GetID())</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NexusServer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aac513a1fc6830e09b956943c6a436361" kindref="member">SendTN_RoomInviteNotifyVerify</ref>(pkData-&gt;<ref refid="struct_se_c_t___room_invite_1a2460c2043dc943d766125e663b89274f" kindref="member">dwInviteeID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_invite_1a5becb595e7348173768cff048da41f09" kindref="member">dwRoomID</ref>,<sp/>pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="456"><highlight class="normal">}</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458" refid="class_town_server_1a27ddbc27da7ee80f287f1936031f4363" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a27ddbc27da7ee80f287f1936031f4363" kindref="member">TownServer::ProcessCT_RoomInviteRsp</ref>(<ref refid="struct_se_c_t___room_invite_rsp" kindref="compound">SeCT_RoomInviteRsp</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="459"><highlight class="normal">{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_RoomInviteRsp<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer-&gt;m_bRoomCreater<sp/>&amp;&amp;<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_invite_rsp_1a5280334b5047824b98c24ffdbfef1f64" kindref="member">option</ref>)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ad93296e31b6ead6dd580573fe7b3ad80" kindref="member">SendTM_MatchRoomInviteRsp</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_invite_rsp_1a7d6649d9a09de6a6dfca6527d878861e" kindref="member">dwRoomID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___room_invite_rsp_1a07c1d807889863bcceb26c92dd669b1f" kindref="member">dwInvitorID</ref>,<sp/>pkPlayer-&gt;GetName());</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal">}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469" refid="class_town_server_1a458d9957966fd1dc415132cb7d25ea91" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a458d9957966fd1dc415132cb7d25ea91" kindref="member">TownServer::ProcessCT_GetRaceHistory</ref>(<ref refid="struct_se_c_t___get_race_history" kindref="compound">SeCT_GetRaceHistory</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="470"><highlight class="normal">{</highlight></codeline>
<codeline lineno="471"><highlight class="normal">}</highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight></codeline>
<codeline lineno="473" refid="class_town_server_1a53312a42deb65339e94500453386fe1b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a53312a42deb65339e94500453386fe1b" kindref="member">TownServer::ProcessCT_ReqAchievement</ref>(<ref refid="struct_se_c_t___req_achievement" kindref="compound">SeCT_ReqAchievement</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="474"><highlight class="normal">{</highlight></codeline>
<codeline lineno="475"><highlight class="normal">}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477" refid="class_town_server_1a2fa8cf54c298507f65c9a49e7f9dbc40" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2fa8cf54c298507f65c9a49e7f9dbc40" kindref="member">TownServer::ProcessCT_ReqAchievementCounts</ref>(<ref refid="struct_se_c_t___req_achievement_counts" kindref="compound">SeCT_ReqAchievementCounts</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="478"><highlight class="normal">{</highlight></codeline>
<codeline lineno="479"><highlight class="normal">}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481" refid="class_town_server_1a29a36489bc544698e0c489307b320e09" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a29a36489bc544698e0c489307b320e09" kindref="member">TownServer::ProcessCT_ReqView</ref>(<ref refid="struct_se_c_t___req_view" kindref="compound">SeCT_ReqView</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="482"><highlight class="normal">{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqView<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqView<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aae95b54e0ed125454a74ed3be43ba85d" kindref="member">SendTWCMS_ReqView</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_view_1a477c712bd4fdeb56e3a7fc8073d89fba" kindref="member">rID</ref>);</highlight></codeline>
<codeline lineno="491"><highlight class="normal">}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493" refid="class_town_server_1acbe440b12f549f04a277cac70f582db8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1acbe440b12f549f04a277cac70f582db8" kindref="member">TownServer::ProcessCT_ReqViewList</ref>(<ref refid="struct_se_c_t___req_view_list" kindref="compound">SeCT_ReqViewList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="494"><highlight class="normal">{</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqViewList<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqView<sp/>ply[%u],reqPage:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_view_list_1a66950e5f0939f81c117a0361bca9c8e1" kindref="member">iPage</ref>);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a437dccc9ac6da81806fa9c74923ce660" kindref="member">SendTWCMS_ReqViewList</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_view_list_1a66950e5f0939f81c117a0361bca9c8e1" kindref="member">iPage</ref>);</highlight></codeline>
<codeline lineno="503"><highlight class="normal">}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505" refid="class_town_server_1aae1c6c1736a11d4aac877957a5d579e0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aae1c6c1736a11d4aac877957a5d579e0" kindref="member">TownServer::ProcessCT_ReqItemStrenth</ref>(<ref refid="struct_se_c_t___req_item_strenth" kindref="compound">SeCT_ReqItemStrenth</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="506"><highlight class="normal">{</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqItemStrenth<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ad01322b9919efcd32044a82daa25e990" kindref="member">SendTBL_ReqItemStrenth</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_strenth_1abb12648f97276305023175a3c8a6721b" kindref="member">wPos</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_strenth_1acc94db867b490dd76baa35c659317081" kindref="member">iNum</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_strenth_1a18f9e50ec2e0dcfd91f0e0e789642250" kindref="member">SrcPosArray</ref>);</highlight></codeline>
<codeline lineno="511"><highlight class="normal">}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513" refid="class_town_server_1a1e19f70edafc94a24b84e66e5cc733de" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><ref refid="class_town_server_1a1e19f70edafc94a24b84e66e5cc733de" kindref="member">TownServer::ProcessCT_RaceDetailInfoReq</ref>(<ref refid="struct_se_c_t___race_detail_info_req" kindref="compound">SeCT_RaceDetailInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="514"><highlight class="normal">{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_watch_race_id_list_req<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_watch_race_id_list_req<sp/>ply[%u],reqPage:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_detail_info_req_1acff765226bfc6078a1f013500d61aed4" kindref="member">page_number</ref>);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1abd1466f55fbfe10f26bc3a79d050326a" kindref="member">SendTWCMS_RaceDetailInfoReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_detail_info_req_1acff765226bfc6078a1f013500d61aed4" kindref="member">page_number</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___race_detail_info_req_1a9953c7e19ecd73a4b0d5cadcfc81d896" kindref="member">page_counts</ref>);</highlight></codeline>
<codeline lineno="524"><highlight class="normal">}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526" refid="class_town_server_1adaf7a391a4bf02fdd491df0c4a26aa23" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1adaf7a391a4bf02fdd491df0c4a26aa23" kindref="member">TownServer::ProcessCT_ReqItemCiTiaoChange</ref>(<ref refid="struct_se_c_t___req_item_ci_tiao_change" kindref="compound">SeCT_ReqItemCiTiaoChange</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="527"><highlight class="normal">{</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqItemCiTiaoChange<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac175e0eba8e947846a91801a854b1cd7" kindref="member">SendTBL_ReqItemCiTiaoChange</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_ci_tiao_change_1af6a3be8f666b156f930c45372dcc316c" kindref="member">wPos</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_ci_tiao_change_1ad3805542f16bdf943c4c08729118a7b5" kindref="member">iIndex</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_ci_tiao_change_1ab5f0243a6bd8c13416cc5e4956bb0af7" kindref="member">BolLock</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_ci_tiao_change_1af061228867f0fe3456f80dcd6965d492" kindref="member">iNum</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_ci_tiao_change_1ab2f75f76edaf2d7a69efd3fef7b85631" kindref="member">SrcPosArray</ref>);</highlight></codeline>
<codeline lineno="532"><highlight class="normal">}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535" refid="class_town_server_1a42bf6d9c308555616001820e2f3a2677" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a42bf6d9c308555616001820e2f3a2677" kindref="member">TownServer::ProcessCT_ReqItemDepart</ref>(<ref refid="struct_se_c_t___req_item_depart" kindref="compound">SeCT_ReqItemDepart</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="536"><highlight class="normal">{</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ReqItemDepart<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ab696e1abb396717632fa72467b39aaee" kindref="member">SendTBL_ReqItemDepart</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___req_item_depart_1a73d218fcde5988b723a51b38e44aea80" kindref="member">wPos</ref>);</highlight></codeline>
<codeline lineno="541"><highlight class="normal">}</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543" refid="class_town_server_1af0dd054c7970732ef8ef1418bbbe85cd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1af0dd054c7970732ef8ef1418bbbe85cd" kindref="member">TownServer::ProcessCT_GMAddItem</ref>(<ref refid="struct_se_c_t___g_m_add_item" kindref="compound">SeCT_GMAddItem</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="544"><highlight class="normal">{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_GMAddItem<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a5da67d0f8f3082b07ddb8ee42b4bb8a4" kindref="member">SendTBL_GMAddItem</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___g_m_add_item_1af99926dcaef4a26cb4c48104b2b96aa0" kindref="member">ItemID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___g_m_add_item_1a50c96b6cc9d6f6d2a7aa332b68f1519a" kindref="member">Num</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___g_m_add_item_1a94fa47bdfe295873fbe3b3221279933a" kindref="member">Level</ref>);</highlight></codeline>
<codeline lineno="549"><highlight class="normal">}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551" refid="class_town_server_1a4f01e4c863b91b185ad0c2305666b228" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a4f01e4c863b91b185ad0c2305666b228" kindref="member">TownServer::ProcessCT_DelelteItem</ref>(<ref refid="struct_se_c_t___delelte_item" kindref="compound">SeCT_DelelteItem</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="552"><highlight class="normal">{</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_DelelteItem<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a206418f463904d62f73211af87455505" kindref="member">SendTBL_DelelteItem</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___delelte_item_1a99c02c9b341181a54aa112f55edf0701" kindref="member">wPos</ref>);</highlight></codeline>
<codeline lineno="557"><highlight class="normal">}</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559" refid="class_town_server_1a86376087c66c993a3b0a27022a73bffe" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a86376087c66c993a3b0a27022a73bffe" kindref="member">TownServer::ProcessCT_PutOnEquip</ref>(<ref refid="struct_se_c_t___put_on_equip" kindref="compound">SeCT_PutOnEquip</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="560"><highlight class="normal">{</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PutOnEquip<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a024ea3bd81fdb8a786dc4791e337c922" kindref="member">SendTBL_PutOnEquip</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___put_on_equip_1a5a4143a08344f1ae2f06a00b74a9c808" kindref="member">wPos</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___put_on_equip_1ada2bcdcc1261fff85996f02e8817daef" kindref="member">PutPos</ref>);</highlight></codeline>
<codeline lineno="565"><highlight class="normal">}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567" refid="class_town_server_1abf05bb0ed546cdbdec5b40a7faff8a95" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1abf05bb0ed546cdbdec5b40a7faff8a95" kindref="member">TownServer::ProcessCT_TakeOffEquip</ref>(<ref refid="struct_se_c_t___take_off_equip" kindref="compound">SeCT_TakeOffEquip</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="568"><highlight class="normal">{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_TakeOffEquip<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a3954b8578db90ec7c59d09d0698a100a" kindref="member">SendTBL_TakeOffEquip</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___take_off_equip_1a70840f548b5938777196fb0df2f5a93d" kindref="member">wPos</ref>);</highlight></codeline>
<codeline lineno="573"><highlight class="normal">}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight></codeline>
<codeline lineno="575" refid="class_town_server_1a770a736ba9234112512674d67863f972" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a770a736ba9234112512674d67863f972" kindref="member">TownServer::ProcessCT_BuyShopItem</ref>(<ref refid="struct_se_c_t___buy_shop_item" kindref="compound">SeCT_BuyShopItem</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="576"><highlight class="normal">{</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_BuyShopItem<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_BuyShopItem<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a9edb5633d2a12bd27d9eae7aef2cc431" kindref="member">SendTW_BuyShopItem</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___buy_shop_item_1a65f5665d97749df8d3949e5936203d63" kindref="member">types</ref>,pkData-&gt;<ref refid="struct_se_c_t___buy_shop_item_1a698c96d5b63913ce7da76bb490318d14" kindref="member">ShopID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___buy_shop_item_1af6d10643a229c71e91b691a86c811b13" kindref="member">Num</ref>);</highlight></codeline>
<codeline lineno="586"><highlight class="normal">}</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="588" refid="class_town_server_1aa9d5f54b1c235e9d4d45d35b49bf746a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aa9d5f54b1c235e9d4d45d35b49bf746a" kindref="member">TownServer::ProcessCT_ShopItemGM</ref>(<ref refid="struct_se_c_t___shop_item_g_m" kindref="compound">SeCT_ShopItemGM</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="589"><highlight class="normal">{</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_ShopItemGM<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a6426bbc23ea71a63d83725751b6031bb" kindref="member">SendTW_ShopItemGM</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___shop_item_g_m_1a16dd613c0af7155b66036c5f09d9a69d" kindref="member">iNum</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___shop_item_g_m_1a29939da3ce1c8e44419c988a2ac103fa" kindref="member">GmItems</ref>);</highlight></codeline>
<codeline lineno="598"><highlight class="normal">}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601" refid="class_town_server_1adf4e66d32a3ef7da4697aa860bf585c2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1adf4e66d32a3ef7da4697aa860bf585c2" kindref="member">TownServer::ProcessCT_GetItemGM</ref>(<ref refid="struct_se_c_t___get_item_g_m" kindref="compound">SeCT_GetItemGM</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="602"><highlight class="normal">{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_GetItemGM<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a4f6ab1e0966dc1300d0c360f5c7e8bcb" kindref="member">SendTW_GetItemGM</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___get_item_g_m_1a55b11991324698e432f7719c24453ef2" kindref="member">ShopID</ref>);</highlight></codeline>
<codeline lineno="611"><highlight class="normal">}</highlight></codeline>
<codeline lineno="612"><highlight class="normal"></highlight></codeline>
<codeline lineno="613" refid="class_town_server_1a303b95f913e4d40f214af1fb4715c620" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a303b95f913e4d40f214af1fb4715c620" kindref="member">TownServer::ProcessCT_PlayerMatchReq</ref>(<ref refid="struct_se_c_t___player_match_req" kindref="compound">SeCT_PlayerMatchReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="614"><highlight class="normal">{</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkPlayer-&gt;m_matchData.dwMapID<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/>dwClientID<sp/>=<sp/>pkPlayer-&gt;GetClientID();</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aa6b1ebbcf05e3d1690194e587670dde9" kindref="member">SendTC_ReqMatchRep</ref>(<ref refid="_se_ptl_comm_define_8h_1a89b73f1dc810e11801b5b7f3ecde8abda90f4d57291d880f4331d92d8fa83bfd5" kindref="member">ReqResultWrongStatus</ref>,&amp;dwClientID);</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>pkPlayer-&gt;m_matchData.dwMapID<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_match_req_1a184585ead434c37dd568101c65fa99f7" kindref="member">MapID</ref>;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/>pkPlayer-&gt;m_matchData.bySeats<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_c_t___player_match_req_1a1de1c923b853f779834ef9d944fe1284" kindref="member">bySeats</ref>;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ab72b909b479e514383d293c529736904" kindref="member">SendTN_MatchTeamMemberReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="628"><highlight class="normal">}</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630" refid="class_town_server_1ac1cc77f8e2157478a8699119606ce98c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ac1cc77f8e2157478a8699119606ce98c" kindref="member">TownServer::ProcessCT_PlayerMatchCancel</ref>(<ref refid="struct_se_c_t___player_match_cancel" kindref="compound">SeCT_PlayerMatchCancel</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="631"><highlight class="normal">{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_PlayerMatchCancel<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a60491888de369292859255c6c2fb69d1" kindref="member">SendTM_PlayerMatchCancel</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="640"><highlight class="normal">}</highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642" refid="class_town_server_1a2354ca153375fe7d9bc19cec280f263b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2354ca153375fe7d9bc19cec280f263b" kindref="member">TownServer::ProcessCT_MatchConfirm</ref>(<ref refid="struct_se_c_t___match_confirm" kindref="compound">SeCT_MatchConfirm</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="643"><highlight class="normal">{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_MatchConfirm<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac899823fee030a5de6e21bf7386df386" kindref="member">SendTM_MatchConfirm</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___match_confirm_1ac1e7826fc32154a862936c6067de253f" kindref="member">WaitID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___match_confirm_1a14da10f528a74bc466bbd0bda4780e41" kindref="member">BoolConfirm</ref>);</highlight></codeline>
<codeline lineno="652"><highlight class="normal">}</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655" refid="class_town_server_1aca21fb5460f9a29f8c7fa333bd9c1c80" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aca21fb5460f9a29f8c7fa333bd9c1c80" kindref="member">TownServer::ProcessCT_NexusFriendDetailInfoReq</ref>(<ref refid="struct_se_c_t___nexus_friend_detail_info_req" kindref="compound">SeCT_NexusFriendDetailInfoReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="656"><highlight class="normal">{</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusFriendDetailInfoReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusFriendDetailInfoReq<sp/>ply[%u],reqPage:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___nexus_friend_detail_info_req_1adb5a384644f4f61b9a9301ffece6dfc7" kindref="member">page_number</ref>);</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a0a6dd54ef11a9996030203a6fd9bfe88" kindref="member">SendTN_NexusFriendDetailInfoReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___nexus_friend_detail_info_req_1adb5a384644f4f61b9a9301ffece6dfc7" kindref="member">page_number</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___nexus_friend_detail_info_req_1a328af42d9ba43a12ee20eff4e2ca6ed8" kindref="member">page_counts</ref>);</highlight></codeline>
<codeline lineno="667"><highlight class="normal">}</highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight></codeline>
<codeline lineno="669" refid="class_town_server_1a288d2014efccd62303d20066afabc675" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a288d2014efccd62303d20066afabc675" kindref="member">TownServer::ProcessCT_NexusUserActionReq</ref>(<ref refid="struct_se_c_t___nexus_user_action_req" kindref="compound">SeCT_NexusUserActionReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="670"><highlight class="normal">{</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusUserActionReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusUserActionReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a50977ea715c09c296af16ab6667e073e" kindref="member">SendTN_NexusUserActionReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>1,<sp/>pkData-&gt;<ref refid="struct_se_c_t___nexus_user_action_req_1a2870425f1f061ec0f5b21732bfbd9218" kindref="member">nexus_user_actions</ref>);</highlight></codeline>
<codeline lineno="682"><highlight class="normal">}</highlight></codeline>
<codeline lineno="683"><highlight class="normal"></highlight></codeline>
<codeline lineno="684" refid="class_town_server_1af8666aeaa38390bc35b09cb02c1bf150" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1af8666aeaa38390bc35b09cb02c1bf150" kindref="member">TownServer::ProcessCT_NexusUserPromotionReq</ref>(<ref refid="struct_se_c_t___nexus_user_promotion_req" kindref="compound">SeCT_NexusUserPromotionReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="685"><highlight class="normal">{</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="687"><highlight class="normal">}</highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689" refid="class_town_server_1a33b6912a7b7bb87ccb568ee1e21a6f55" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a33b6912a7b7bb87ccb568ee1e21a6f55" kindref="member">TownServer::ProcessCT_SearchUserArchivesInfoReq</ref>(<ref refid="struct_se_c_t___search_user_archives_info_req" kindref="compound">SeCT_SearchUserArchivesInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="690"><highlight class="normal">{</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SearchUserArchivesInfoReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="697"><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SearchUserArchivesInfoReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aa673b3c0bff1512079c9d01cff9bdc23" kindref="member">SendTW_SearchUserArchivesInfoReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___search_user_archives_info_req_1abd8dda2eb140bdab6d569e60d3109438" kindref="member">username</ref>);</highlight></codeline>
<codeline lineno="701"><highlight class="normal">}</highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight></codeline>
<codeline lineno="703" refid="class_town_server_1a2dc51d8edc5d539b3198a64d18317468" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2dc51d8edc5d539b3198a64d18317468" kindref="member">TownServer::ProcessCT_SearchUserArchivesDetailInfoReq</ref>(<ref refid="struct_se_c_t___search_user_archives_detail_info_req" kindref="compound">SeCT_SearchUserArchivesDetailInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="704"><highlight class="normal">{</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SearchUserArchivesInfoReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="711"><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SearchUserArchivesInfoReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a91d67c535a5c52101004ba238cca4ea3" kindref="member">SendTW_SearchUserArchivesDetailInfoReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___search_user_archives_detail_info_req_1a869e80edd1674070daca46a884d55309" kindref="member">userid</ref>);</highlight></codeline>
<codeline lineno="715"><highlight class="normal">}</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="717" refid="class_town_server_1a7df4e089e936c13c88f7353323e2cd38" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a7df4e089e936c13c88f7353323e2cd38" kindref="member">TownServer::ProcessCT_NexusUserPromotionDetailInfoReq</ref>(<ref refid="struct_se_c_t___nexus_user_promotion_detail_info_req" kindref="compound">SeCT_NexusUserPromotionDetailInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="718"><highlight class="normal">{</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="720"><highlight class="normal">}</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722" refid="class_town_server_1a14a27648f064f2630f7bc491e965fdea" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a14a27648f064f2630f7bc491e965fdea" kindref="member">TownServer::ProcessCT_SeUserRaceArenaDetailInfoReq</ref>(<ref refid="struct_se_c_t___se_user_race_arena_detail_info_req" kindref="compound">SeCT_SeUserRaceArenaDetailInfoReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="723"><highlight class="normal">{</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SeUserRaceArenaDetailInfoReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_SeUserRaceArenaDetailInfoReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a563f4f74d9c60a663bda4d4fd8571bd1" kindref="member">SendTBL_UserRaceMapDetailReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="734"><highlight class="normal">}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736" refid="class_town_server_1a9acaf3f55ab286c5e05a83fac0f56a3d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a9acaf3f55ab286c5e05a83fac0f56a3d" kindref="member">TownServer::ProcessCT_UserInviteReq</ref>(<ref refid="struct_se_c_t___user_invite_req" kindref="compound">SeCT_UserInviteReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="737"><highlight class="normal">{</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserInviteReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserInviteReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a98320c714883aa4ab64b2debdbe4f5a7" kindref="member">SendTN_UserInviteReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___user_invite_req_1a84879a293bad502062f347dca8637d91" kindref="member">acUserName</ref>,pkData-&gt;<ref refid="struct_se_c_t___user_invite_req_1ab3575c54af2d4dae107a63d1f6a1c6a9" kindref="member">dwGuestID</ref>,pkData-&gt;<ref refid="struct_se_c_t___user_invite_req_1a4632055289ed01150eadd37b4b22ec47" kindref="member">acGuestName</ref>);</highlight></codeline>
<codeline lineno="748"><highlight class="normal">}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750" refid="class_town_server_1a6a7d0475d9cbe13d0bddbd902ef821da" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a6a7d0475d9cbe13d0bddbd902ef821da" kindref="member">TownServer::ProcessCT_UserConfirmInviteReq</ref>(<ref refid="struct_se_c_t___user_confirm_invite_req" kindref="compound">SeCT_UserConfirmInviteReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="751"><highlight class="normal">{</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserConfirmInviteReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserConfirmInviteReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="760"><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a87093ca62b6c2ef1709a68e2288424df" kindref="member">SendTN_UserConfirmInviteReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___user_confirm_invite_req_1a3c2096ebdedf3df063e405f354b41c12" kindref="member">dwTeamID</ref>);</highlight></codeline>
<codeline lineno="762"><highlight class="normal">}</highlight></codeline>
<codeline lineno="763" refid="class_town_server_1a448c66447705eaf33d1e5bbe26f46ed0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a448c66447705eaf33d1e5bbe26f46ed0" kindref="member">TownServer::ProcessCT_UserRefuseInviteReq</ref>(<ref refid="struct_se_c_t___user_refuse_invite_req" kindref="compound">SeCT_UserRefuseInviteReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="764"><highlight class="normal">{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserRefuseInviteReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserRefuseInviteReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a62bf557199357462f24e71fa0fd7b6ed" kindref="member">SendTN_UserRefuseInviteReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___user_refuse_invite_req_1a0aaf29990b05b7c54bb02d03480cc330" kindref="member">dwTeamID</ref>);</highlight></codeline>
<codeline lineno="775"><highlight class="normal">}</highlight></codeline>
<codeline lineno="776" refid="class_town_server_1a2a2fbe82864d590e174de74681507191" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2a2fbe82864d590e174de74681507191" kindref="member">TownServer::ProcessCT_UserLeaveTeamReq</ref>(<ref refid="struct_se_c_t___user_leave_team_req" kindref="compound">SeCT_UserLeaveTeamReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="777"><highlight class="normal">{</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserLeaveTeamReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="784"><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserLeaveTeamReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="786"><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac90f8cbf4c9bc9c78c06445e2ee7dd3b" kindref="member">SendTN_UserLeaveTeamReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___user_leave_team_req_1aacc19b4c44e2edc2e5fedd6d6c7f9eb1" kindref="member">dwTeamID</ref>);</highlight></codeline>
<codeline lineno="788"><highlight class="normal">}</highlight></codeline>
<codeline lineno="789" refid="class_town_server_1a53957f6f22231d74eeaaeb2e21da2d8f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a53957f6f22231d74eeaaeb2e21da2d8f" kindref="member">TownServer::ProcessCT_LeaderKickMemberReq</ref>(<ref refid="struct_se_c_t___leader_kick_member_req" kindref="compound">SeCT_LeaderKickMemberReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="790"><highlight class="normal">{</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_LeaderKickMemberReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_LeaderKickMemberReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aa8b5c78c3091730438c5ab417e17bc0a" kindref="member">SendTN_LeaderKickMemberReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___leader_kick_member_req_1a54a2bd2926db324ad767737ef2e0b0ce" kindref="member">dwTeamID</ref>,pkData-&gt;<ref refid="struct_se_c_t___leader_kick_member_req_1ae572e2832147bfe176ea7f555759333a" kindref="member">dwMemberID</ref>);</highlight></codeline>
<codeline lineno="801"><highlight class="normal">}</highlight></codeline>
<codeline lineno="802" refid="class_town_server_1a98391d25124e9cf47069a2e7a8b852ef" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a98391d25124e9cf47069a2e7a8b852ef" kindref="member">TownServer::ProcessCT_LeaderDismissTeamReq</ref>(<ref refid="struct_se_c_t___leader_dismiss_team_req" kindref="compound">SeCT_LeaderDismissTeamReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="803"><highlight class="normal">{</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_LeaderDismissTeamReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_LeaderDismissTeamReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="812"><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a014d0bc2b9e6c7474fb3a9ea4e2400ba" kindref="member">SendTN_LeaderDismissTeamReq</ref>(pkTcpUser-&gt;dwPlayerID,pkData-&gt;<ref refid="struct_se_c_t___leader_dismiss_team_req_1a87225933f466c524a6acb956f98bc84b" kindref="member">dwTeamID</ref>);</highlight></codeline>
<codeline lineno="814"><highlight class="normal">}</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816" refid="class_town_server_1a13c002eb8a5d4b60a094214ca85cfaaa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a13c002eb8a5d4b60a094214ca85cfaaa" kindref="member">TownServer::ProcessCT_GMSetGold</ref>(<ref refid="struct_se_c_t___g_m_set_gold" kindref="compound">SeCT_GMSetGold</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="817"><highlight class="normal">{</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_GMSetGold<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a973b59e0ca00695ed2080ad2062e9540" kindref="member">SendTBL_GMSetGold</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___g_m_set_gold_1ac03b2be5b8e233eae6b5fca7489a13c0" kindref="member">dwGold</ref>);</highlight></codeline>
<codeline lineno="822"><highlight class="normal">}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"></highlight></codeline>
<codeline lineno="824" refid="class_town_server_1a2f658134ec2a3516b6af00d9c76b4c6e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a2f658134ec2a3516b6af00d9c76b4c6e" kindref="member">TownServer::ProcessCT_GMSetDiamond</ref>(<ref refid="struct_se_c_t___g_m_set_diamond" kindref="compound">SeCT_GMSetDiamond</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="825"><highlight class="normal">{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="827"><highlight class="normal"></highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_GMSetGold<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a88f8cf36172200ffd639e68ec7a2f60d" kindref="member">SendTBL_GMSetDiamond</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___g_m_set_diamond_1a47759224c6a8ac4e5dd9a29e80c08561" kindref="member">dwDiamond</ref>);</highlight></codeline>
<codeline lineno="830"><highlight class="normal">}</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="832" refid="class_town_server_1aa18e4a909466772734b4d07d29b88352" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aa18e4a909466772734b4d07d29b88352" kindref="member">TownServer::ProcessCT_NexusFriendCleanRefuseNoticeReq</ref>(<ref refid="struct_se_c_t___nexus_friend_clean_refuse_notice_req" kindref="compound">SeCT_NexusFriendCleanRefuseNoticeReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="833"><highlight class="normal">{</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusFriendCleanRefuseNoticeReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_NexusFriendCleanRefuseNoticeReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="842"><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1acc7eb97b990ef73336ad5459d84d80b9" kindref="member">SendTN_NexusFriendCleanRefuseNoticeReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___nexus_friend_clean_refuse_notice_req_1aaec61180c641bda35f267c08b059c3e3" kindref="member">guest_id</ref>);</highlight></codeline>
<codeline lineno="844"><highlight class="normal">}</highlight></codeline>
<codeline lineno="845"><highlight class="normal"></highlight></codeline>
<codeline lineno="846" refid="class_town_server_1a7840d5fa665c441ddd7c76b5a0c3ba8f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a7840d5fa665c441ddd7c76b5a0c3ba8f" kindref="member">TownServer::ProcessCT_UserStatusQueryReq</ref>(<ref refid="struct_se_c_t___user_status_query_req" kindref="compound">SeCT_UserStatusQueryReq</ref><sp/>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pkSender)</highlight></codeline>
<codeline lineno="847"><highlight class="normal">{</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkPlayer)</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserStatusQueryReq<sp/>Cannot<sp/>find<sp/>the<sp/>Player:[%d]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessCT_UserStatusQueryReq<sp/>ply[%u]&quot;</highlight><highlight class="normal">,<sp/>pkTcpUser-&gt;dwPlayerID);</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac483cc8005dd1eb5ff0d46aa938f5691" kindref="member">SendTN_UserStatusQueryReq</ref>(pkTcpUser-&gt;dwPlayerID,<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_status_query_req_1a2ac8e6c0fa199ddfa65be4e25173dca8" kindref="member">num</ref>,<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_status_query_req_1a5f92c214658a2579ce63f669cb055154" kindref="member">user_ids</ref>);</highlight></codeline>
<codeline lineno="858"><highlight class="normal">}</highlight></codeline>
<codeline lineno="859"><highlight class="normal"></highlight></codeline>
<codeline lineno="860" refid="class_town_server_1aa41fcbffc8fea01ae6681135b155d520" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aa41fcbffc8fea01ae6681135b155d520" kindref="member">TownServer::ProcessCT_OpenRandBox</ref>(<ref refid="struct_se_c_t___open_rand_box" kindref="compound">SeCT_OpenRandBox</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="861"><highlight class="normal">{</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a4726c2428c333e50a4f291cbf1d53d95" kindref="member">SendTBL_OpenRandBox</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___open_rand_box_1a65610c3849884b3909b862fb605968eb" kindref="member">wPos</ref>);</highlight></codeline>
<codeline lineno="865"><highlight class="normal">}</highlight></codeline>
<codeline lineno="866"><highlight class="normal"></highlight></codeline>
<codeline lineno="867" refid="class_town_server_1a74a4286d7e392d1e63e59547c71271d4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a74a4286d7e392d1e63e59547c71271d4" kindref="member">TownServer::ProcessCT_ClearItemNewFlag</ref>(<ref refid="struct_se_c_t___clear_item_new_flag" kindref="compound">SeCT_ClearItemNewFlag</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="868"><highlight class="normal">{</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="870"><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ad80eb3ed7202ddad97b14d11f6d427d1" kindref="member">SendTBL_ClearItemNewFlag</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___clear_item_new_flag_1a5581af4eecdb764f5b409d95a4b1e675" kindref="member">iNum</ref>,pkData-&gt;<ref refid="struct_se_c_t___clear_item_new_flag_1ae376dd8654a1709cc76fcc6e26a881ee" kindref="member">PosArray</ref>);</highlight></codeline>
<codeline lineno="872"><highlight class="normal">}</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"></highlight></codeline>
<codeline lineno="875" refid="class_town_server_1a7148c32ae188986c47d883e832019b12" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a7148c32ae188986c47d883e832019b12" kindref="member">TownServer::ProcessCT_LadderRankQueryReq</ref>(<ref refid="struct_se_c_t___ladder_rank_query_req" kindref="compound">SeCT_LadderRankQueryReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="876"><highlight class="normal">{</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1aabdcbbf730742b7dfbc439163bf7608a" kindref="member">SendTBL_LadderRankQueryReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="881"><highlight class="normal">}</highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="883" refid="class_town_server_1ae4d83f0ec3eb4e32fcb82c40566cbfd1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ae4d83f0ec3eb4e32fcb82c40566cbfd1" kindref="member">TownServer::ProcessCT_FriendLadderInfoReq</ref>(<ref refid="struct_se_c_t___friend_ladder_info_req" kindref="compound">SeCT_FriendLadderInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="884"><highlight class="normal">{</highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="887"><highlight class="normal"></highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1afaf3f3f96cc375e4056ed0698f6b4fcf" kindref="member">SendTBL_FriendLadderInfoReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___friend_ladder_info_req_1a46f3fecd4064be1d37beadac2d8b59d3" kindref="member">dwFriendID</ref>);</highlight></codeline>
<codeline lineno="889"><highlight class="normal">}</highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891" refid="class_town_server_1a6144cf70e9ad15a988dbfb07082b3e89" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a6144cf70e9ad15a988dbfb07082b3e89" kindref="member">TownServer::ProcessCT_UserMapRaceHeroReq</ref>(<ref refid="struct_se_c_t___user_map_race_hero_req" kindref="compound">SeCT_UserMapRaceHeroReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="892"><highlight class="normal">{</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="894"><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a8f87d2974be8c7c26916b561dbef7444" kindref="member">SendTBL_UserMapRaceHeroReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="896"><highlight class="normal">}</highlight></codeline>
<codeline lineno="897"><highlight class="normal"></highlight></codeline>
<codeline lineno="898" refid="class_town_server_1a888b014b8dc9564d000b58da8e8a8ac9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a888b014b8dc9564d000b58da8e8a8ac9" kindref="member">TownServer::ProcessCT_SetActiveAvatarReq</ref>(<ref refid="struct_se_c_t___set_active_avatar_req" kindref="compound">SeCT_SetActiveAvatarReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="899"><highlight class="normal">{</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="901"><highlight class="normal"></highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a21ec3822ee2e954cc47a922dc33eab87" kindref="member">SendTBL_SetActiveAvatarReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___set_active_avatar_req_1a9fb7a47b375e3f7b4d998bcc43e8372e" kindref="member">bActive</ref>,pkData-&gt;<ref refid="struct_se_c_t___set_active_avatar_req_1aaed4389cf07e2822b60e902916c5ebe3" kindref="member">dwItemID</ref>);</highlight></codeline>
<codeline lineno="903"><highlight class="normal">}</highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905" refid="class_town_server_1a384c195d67b32986109e0dd7b10ee4aa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a384c195d67b32986109e0dd7b10ee4aa" kindref="member">TownServer::ProcessCT_UserAlterNickNameReq</ref>(<ref refid="struct_se_c_t___user_alter_nick_name_req" kindref="compound">SeCT_UserAlterNickNameReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="906"><highlight class="normal">{</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="908"><highlight class="normal"></highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a9bd9745eb829c806b021dd9c49f4e2c6" kindref="member">SendTBL_UserAlterNickNameReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_alter_nick_name_req_1ae8354799b9bcd7dbbeb49b6ee3189df5" kindref="member">acNickName</ref>);</highlight></codeline>
<codeline lineno="910"><highlight class="normal">}</highlight></codeline>
<codeline lineno="911" refid="class_town_server_1aa1373ade93cd30719ae3c57fb3188e6d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1aa1373ade93cd30719ae3c57fb3188e6d" kindref="member">TownServer::ProcessCT_UserAlterAvatarReq</ref>(<ref refid="struct_se_c_t___user_alter_avatar_req" kindref="compound">SeCT_UserAlterAvatarReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="912"><highlight class="normal">{</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="914"><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ae28ac48a36b61d291c1d4df24bd1feb6" kindref="member">SendTBL_UserAlterAvatarReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_alter_avatar_req_1a0a72f24f9faa190974cd162fc45c85b9" kindref="member">dwAvatarID</ref>);</highlight></codeline>
<codeline lineno="916"><highlight class="normal">}</highlight></codeline>
<codeline lineno="917" refid="class_town_server_1a18b25298381e6719d68d9bc3aa261ed9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1a18b25298381e6719d68d9bc3aa261ed9" kindref="member">TownServer::ProcessCT_UserAlterAvatarFrameReq</ref>(<ref refid="struct_se_c_t___user_alter_avatar_frame_req" kindref="compound">SeCT_UserAlterAvatarFrameReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="918"><highlight class="normal">{</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a7df106cc10aecd2b808e43616004f032" kindref="member">SendTBL_UserAlterAvatarFrameReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_alter_avatar_frame_req_1a41688fb49a68dabadea76bf8ea34374a" kindref="member">dwAvatarFrameID</ref>);</highlight></codeline>
<codeline lineno="922"><highlight class="normal">}</highlight></codeline>
<codeline lineno="923" refid="class_town_server_1abb4a380b1b54cc8ec3513bd40282fe93" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1abb4a380b1b54cc8ec3513bd40282fe93" kindref="member">TownServer::ProcessCT_UserPurchaseAvatarReq</ref>(<ref refid="struct_se_c_t___user_purchase_avatar_req" kindref="compound">SeCT_UserPurchaseAvatarReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="924"><highlight class="normal">{</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a52ba8e76716a718cded45e7207adcc84" kindref="member">SendTBL_UserPurchaseAvatarReq</ref>(pkPlayer-&gt;GetID(),<sp/>pkData-&gt;<ref refid="struct_se_c_t___user_purchase_avatar_req_1ac9fe98740915658428aeb701d4df5db2" kindref="member">dwAvatarID</ref>);</highlight></codeline>
<codeline lineno="928"><highlight class="normal">}</highlight></codeline>
<codeline lineno="929"><highlight class="normal"></highlight></codeline>
<codeline lineno="930" refid="class_town_server_1ad6b5072e3b31c265618b3d9b945485e4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1ad6b5072e3b31c265618b3d9b945485e4" kindref="member">TownServer::ProcessCT_LadderDetailInfoReq</ref>(<ref refid="struct_se_c_t___ladder_detail_info_req" kindref="compound">SeCT_LadderDetailInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="931"><highlight class="normal">{</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="933"><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1ac31e5c5cd0c1d41d272298ad89b2ab71" kindref="member">SendTBL_LadderDetailInfoReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="935"><highlight class="normal">}</highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937" refid="class_town_server_1af357a5c6df89ced6b90e2f9075231907" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_town_server_1af357a5c6df89ced6b90e2f9075231907" kindref="member">TownServer::ProcessCT_AchieveInfoReq</ref>(<ref refid="struct_se_c_t___achieve_info_req" kindref="compound">SeCT_AchieveInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="938"><highlight class="normal">{</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_c_t_process_8cpp_1afb38cb5dc41d5875c338af2224a0c560" kindref="member">GET_CUR_CONN_AND_PLAYER</ref>(pkTcpUser,<sp/>pkPlayer);</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_town_server_1a54411491d2ac37807c31ef76a9b83b68" kindref="member">SendTBL_AchieveInfoReq</ref>(pkPlayer-&gt;GetID());</highlight></codeline>
<codeline lineno="942"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/TownServer/Src/SeCTProcess.cpp"/>
  </compounddef>
</doxygen>
