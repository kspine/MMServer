<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_backend_server_8cpp" kind="file">
    <compoundname>BackendServer.cpp</compoundname>
    <includes refid="_backend_server_8h" local="yes">BackendServer.h</includes>
    <includes refid="_backend_statistics_mgr_8h" local="yes">BackendStatisticsMgr.h</includes>
    <incdepgraph>
      <node id="475">
        <label>list</label>
      </node>
      <node id="469">
        <label>locale</label>
      </node>
      <node id="479">
        <label>queue</label>
      </node>
      <node id="473">
        <label>limits</label>
      </node>
      <node id="491">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="492">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
        <childnode refid="493" relation="include">
        </childnode>
        <childnode refid="461" relation="include">
        </childnode>
      </node>
      <node id="456">
        <label>windows.h</label>
      </node>
      <node id="461">
        <label>assert.h</label>
      </node>
      <node id="504">
        <label>SeServerComDef.h</label>
        <link refid="_se_server_com_def_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
        <childnode refid="492" relation="include">
        </childnode>
        <childnode refid="488" relation="include">
        </childnode>
        <childnode refid="491" relation="include">
        </childnode>
      </node>
      <node id="503">
        <label>SePtl_BKS_To_NS.h</label>
        <link refid="_se_ptl___b_k_s___to___n_s_8h"/>
        <childnode refid="485" relation="include">
        </childnode>
      </node>
      <node id="494">
        <label>SeTimer.h</label>
        <link refid="_se_timer_8h"/>
      </node>
      <node id="459">
        <label>stdlib.h</label>
      </node>
      <node id="493">
        <label>EsLock.h</label>
      </node>
      <node id="507">
        <label>LinkUserMgr.h</label>
        <link refid="_link_user_mgr_8h"/>
        <childnode refid="508" relation="include">
        </childnode>
      </node>
      <node id="463">
        <label>cmath</label>
      </node>
      <node id="472">
        <label>string</label>
      </node>
      <node id="476">
        <label>map</label>
      </node>
      <node id="513">
        <label>BackendStatisticsMgr.h</label>
        <link refid="_backend_statistics_mgr_8h"/>
        <childnode refid="507" relation="include">
        </childnode>
      </node>
      <node id="497">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="498" relation="include">
        </childnode>
        <childnode refid="465" relation="include">
        </childnode>
        <childnode refid="493" relation="include">
        </childnode>
      </node>
      <node id="458">
        <label>conio.h</label>
      </node>
      <node id="490">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="457">
        <label>direct.h</label>
      </node>
      <node id="511">
        <label>BackendDBSend.inl</label>
        <link refid="_backend_d_b_send_8inl"/>
      </node>
      <node id="470">
        <label>fstream</label>
      </node>
      <node id="486">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
        <childnode refid="483" relation="include">
        </childnode>
        <childnode refid="487" relation="include">
        </childnode>
        <childnode refid="488" relation="include">
        </childnode>
        <childnode refid="467" relation="include">
        </childnode>
        <childnode refid="489" relation="include">
        </childnode>
      </node>
      <node id="455">
        <label>winsock2.h</label>
      </node>
      <node id="500">
        <label>TeDataBaseMgr.h</label>
      </node>
      <node id="453">
        <label>SeServerMainDef.h</label>
        <link refid="_se_server_main_def_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
      </node>
      <node id="488">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="466" relation="include">
        </childnode>
      </node>
      <node id="501">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="483" relation="include">
        </childnode>
        <childnode refid="484" relation="include">
        </childnode>
        <childnode refid="486" relation="include">
        </childnode>
      </node>
      <node id="512">
        <label>BackendDBProcess.inl</label>
        <link refid="_backend_d_b_process_8inl"/>
      </node>
      <node id="466">
        <label>string.h</label>
      </node>
      <node id="508">
        <label>LinkUser.h</label>
        <link refid="_link_user_8h"/>
        <childnode refid="495" relation="include">
        </childnode>
      </node>
      <node id="496">
        <label>SeConfig.h</label>
        <link refid="_se_config_8h"/>
        <childnode refid="483" relation="include">
        </childnode>
      </node>
      <node id="464">
        <label>ctime</label>
      </node>
      <node id="484">
        <label>TeNetMgr.h</label>
      </node>
      <node id="474">
        <label>vector</label>
      </node>
      <node id="510">
        <label>SeNBKSProcess.inl</label>
        <link refid="_se_n_b_k_s_process_8inl"/>
      </node>
      <node id="480">
        <label>new</label>
      </node>
      <node id="485">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
        <childnode refid="483" relation="include">
        </childnode>
        <childnode refid="486" relation="include">
        </childnode>
        <childnode refid="490" relation="include">
        </childnode>
        <childnode refid="491" relation="include">
        </childnode>
        <childnode refid="492" relation="include">
        </childnode>
      </node>
      <node id="483">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
      </node>
      <node id="471">
        <label>sstream</label>
      </node>
      <node id="489">
        <label>EsString.h</label>
      </node>
      <node id="482">
        <label>SeVirtConnMgr.h</label>
        <link refid="_se_virt_conn_mgr_8h"/>
        <childnode refid="483" relation="include">
        </childnode>
        <childnode refid="484" relation="include">
        </childnode>
        <childnode refid="485" relation="include">
        </childnode>
        <childnode refid="494" relation="include">
        </childnode>
      </node>
      <node id="451">
        <label>BackendServer/Src/BackendServer.cpp</label>
        <link refid="BackendServer.cpp"/>
        <childnode refid="452" relation="include">
        </childnode>
        <childnode refid="513" relation="include">
        </childnode>
      </node>
      <node id="454">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="455" relation="include">
        </childnode>
        <childnode refid="456" relation="include">
        </childnode>
        <childnode refid="457" relation="include">
        </childnode>
        <childnode refid="458" relation="include">
        </childnode>
        <childnode refid="459" relation="include">
        </childnode>
        <childnode refid="460" relation="include">
        </childnode>
        <childnode refid="461" relation="include">
        </childnode>
        <childnode refid="462" relation="include">
        </childnode>
        <childnode refid="463" relation="include">
        </childnode>
        <childnode refid="464" relation="include">
        </childnode>
        <childnode refid="465" relation="include">
        </childnode>
        <childnode refid="466" relation="include">
        </childnode>
        <childnode refid="467" relation="include">
        </childnode>
        <childnode refid="468" relation="include">
        </childnode>
        <childnode refid="469" relation="include">
        </childnode>
        <childnode refid="470" relation="include">
        </childnode>
        <childnode refid="471" relation="include">
        </childnode>
        <childnode refid="472" relation="include">
        </childnode>
        <childnode refid="473" relation="include">
        </childnode>
        <childnode refid="474" relation="include">
        </childnode>
        <childnode refid="475" relation="include">
        </childnode>
        <childnode refid="476" relation="include">
        </childnode>
        <childnode refid="477" relation="include">
        </childnode>
        <childnode refid="478" relation="include">
        </childnode>
        <childnode refid="479" relation="include">
        </childnode>
        <childnode refid="480" relation="include">
        </childnode>
        <childnode refid="481" relation="include">
        </childnode>
      </node>
      <node id="498">
        <label>time.h</label>
      </node>
      <node id="460">
        <label>math.h</label>
      </node>
      <node id="467">
        <label>EsType.h</label>
      </node>
      <node id="462">
        <label>cctype</label>
      </node>
      <node id="487">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="505">
        <label>SeNexusMgr.h</label>
        <link refid="_se_nexus_mgr_8h"/>
        <childnode refid="506" relation="include">
        </childnode>
      </node>
      <node id="477">
        <label>unordered_map</label>
      </node>
      <node id="481">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="506">
        <label>SeNexus.h</label>
        <link refid="_se_nexus_8h"/>
        <childnode refid="495" relation="include">
        </childnode>
      </node>
      <node id="452">
        <label>BackendServer.h</label>
        <link refid="_backend_server_8h"/>
        <childnode refid="453" relation="include">
        </childnode>
        <childnode refid="482" relation="include">
        </childnode>
        <childnode refid="495" relation="include">
        </childnode>
        <childnode refid="505" relation="include">
        </childnode>
        <childnode refid="507" relation="include">
        </childnode>
        <childnode refid="509" relation="include">
        </childnode>
        <childnode refid="510" relation="include">
        </childnode>
        <childnode refid="511" relation="include">
        </childnode>
        <childnode refid="512" relation="include">
        </childnode>
      </node>
      <node id="499">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="454" relation="include">
        </childnode>
        <childnode refid="486" relation="include">
        </childnode>
        <childnode refid="485" relation="include">
        </childnode>
      </node>
      <node id="495">
        <label>BackendServerDef.h</label>
        <link refid="_backend_server_def_8h"/>
        <childnode refid="496" relation="include">
        </childnode>
        <childnode refid="497" relation="include">
        </childnode>
        <childnode refid="492" relation="include">
        </childnode>
        <childnode refid="483" relation="include">
        </childnode>
        <childnode refid="499" relation="include">
        </childnode>
        <childnode refid="484" relation="include">
        </childnode>
        <childnode refid="500" relation="include">
        </childnode>
        <childnode refid="501" relation="include">
        </childnode>
        <childnode refid="502" relation="include">
        </childnode>
        <childnode refid="503" relation="include">
        </childnode>
        <childnode refid="504" relation="include">
        </childnode>
      </node>
      <node id="502">
        <label>SePtl_NS_To_BKS.h</label>
        <link refid="_se_ptl___n_s___to___b_k_s_8h"/>
        <childnode refid="485" relation="include">
        </childnode>
      </node>
      <node id="478">
        <label>set</label>
      </node>
      <node id="468">
        <label>algorithm</label>
      </node>
      <node id="465">
        <label>stdio.h</label>
      </node>
      <node id="509">
        <label>SeBKSNSend.inl</label>
        <link refid="_se_b_k_s_n_send_8inl"/>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_backend_server_8cpp_1ab6869fc5a6bcabec38e50c855a8e4ac9" prot="public" static="no" mutable="no">
        <type><ref refid="class_backend_server" kindref="compound">BackendServer</ref></type>
        <definition>BackendServer g_kBackendServer</definition>
        <argsstring></argsstring>
        <name>g_kBackendServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/BackendServer/Src/BackendServer.cpp" line="4" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/BackendServer/Src/BackendServer.cpp" bodystart="4" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_backend_server_8cpp_1abfdb7acb765c257c2fc366b2d08fe985" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>IMPLEMENT_POOL</definition>
        <argsstring>(SeConnect, 32, 16)</argsstring>
        <name>IMPLEMENT_POOL</name>
        <param>
          <type><ref refid="struct_se_connect" kindref="compound">SeConnect</ref></type>
        </param>
        <param>
          <type>32</type>
        </param>
        <param>
          <type>16</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/BackendServer/Src/BackendServer.cpp" line="6" column="1"/>
      </memberdef>
      <memberdef kind="function" id="_backend_server_8cpp_1a0845ecb4aaccf919e823c0c4e14849f3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>IMPLEMENT_POOL1</definition>
        <argsstring>(SeDBQuery, SeQueryType, 256, 256)</argsstring>
        <name>IMPLEMENT_POOL1</name>
        <param>
          <type><ref refid="struct_se_d_b_query" kindref="compound">SeDBQuery</ref></type>
        </param>
        <param>
          <type><ref refid="_src_2_d_b_server_def_8h_1aa7b9fd5ab21ba090d0a4f10c2e866608" kindref="member">SeQueryType</ref></type>
        </param>
        <param>
          <type>256</type>
        </param>
        <param>
          <type>256</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/BackendServer/Src/BackendServer.cpp" line="7" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_backend_server_8h" kindref="compound">BackendServer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_backend_statistics_mgr_8h" kindref="compound">BackendStatisticsMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="_backend_server_8h_1ab6869fc5a6bcabec38e50c855a8e4ac9" refkind="member"><highlight class="normal"><ref refid="class_backend_server" kindref="compound">BackendServer</ref><sp/><ref refid="_backend_server_8cpp_1ab6869fc5a6bcabec38e50c855a8e4ac9" kindref="member">g_kBackendServer</ref>;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"><ref refid="_backend_server_8cpp_1abfdb7acb765c257c2fc366b2d08fe985" kindref="member">IMPLEMENT_POOL</ref>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>,<sp/>32,<sp/>16);</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><ref refid="_backend_server_8cpp_1a0845ecb4aaccf919e823c0c4e14849f3" kindref="member">IMPLEMENT_POOL1</ref>(<ref refid="struct_se_d_b_query" kindref="compound">SeDBQuery</ref>,<sp/><ref refid="_src_2_d_b_server_def_8h_1aa7b9fd5ab21ba090d0a4f10c2e866608" kindref="member">SeQueryType</ref>,256,<sp/>256);</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="class_backend_server_1aa585a8b9c0113ed869226ede159ec483" refkind="member"><highlight class="normal"><ref refid="class_backend_server_1aa585a8b9c0113ed869226ede159ec483" kindref="member">BackendServer::BackendServer</ref>()</highlight></codeline>
<codeline lineno="10"><highlight class="normal">{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a32b1faa4ce9bd85e454dcb90a9ae32cd" kindref="member">m_dwTickCount</ref><sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a032c526a81175c5c4de3c5e9efdcf1b5" kindref="member">m_dwCurTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aec8fd9936c2e82ee1e5383cf9f3ddb3f" kindref="member">m_iUnitStatisticDB</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="14"><highlight class="normal">}</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="class_backend_server_1a7d612218a728c5d0bd5d097352644af8" refkind="member"><highlight class="normal"><ref refid="class_backend_server_1a7d612218a728c5d0bd5d097352644af8" kindref="member">BackendServer::~BackendServer</ref>()</highlight></codeline>
<codeline lineno="17"><highlight class="normal">{</highlight></codeline>
<codeline lineno="18"><highlight class="normal">}</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="class_backend_server_1ad52a832b76cd2a40f460343d1ca3d602" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1ad52a832b76cd2a40f460343d1ca3d602" kindref="member">BackendServer::Initialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1acb938dc7b908afddcef4d63fff48c0cb" kindref="member">LoadConfig</ref>())</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a41913ddc80bde6ef7e62f5422fbb0635" kindref="member">InitializeNet</ref>())</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a7b92991268357cbe60da12c3e1930286" kindref="member">InitializeNetEx</ref>())</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a12dbe6127be37de2ffd713a4ce31d98c" kindref="member">InitializeDB</ref>())</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="37"><highlight class="normal">}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_backend_server_1abdc0d26e6a91c17dcda4c6801cf2ad0c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1abdc0d26e6a91c17dcda4c6801cf2ad0c" kindref="member">BackendServer::Update</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="40"><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dwTickCount<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(dwTickCount<sp/>-<sp/><ref refid="class_backend_server_1a32b1faa4ce9bd85e454dcb90a9ae32cd" kindref="member">m_dwTickCount</ref>);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a32b1faa4ce9bd85e454dcb90a9ae32cd" kindref="member">m_dwTickCount</ref><sp/>=<sp/>dwTickCount;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a032c526a81175c5c4de3c5e9efdcf1b5" kindref="member">m_dwCurTime</ref><sp/>+=<sp/>iDTime;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Update();</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a5e41584bb3c528d09034ec2a4c6c37e9" kindref="member">m_kDBMgr</ref>.Update();</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a7d483acdd3c1d9cffdd56ab1851e1cca" kindref="member">UpdateConnect</ref>();</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1af4bd8e521cb062d5afbc9a539724d12e" kindref="member">UpdateStatistic</ref>();</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1a1a2056beaab510c633febd91090592ee" kindref="member">Update</ref>(<ref refid="class_backend_server_1a032c526a81175c5c4de3c5e9efdcf1b5" kindref="member">m_dwCurTime</ref>);</highlight></codeline>
<codeline lineno="55"><highlight class="normal">}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="class_backend_server_1a3b70f54f6ce037cd644a562f0643d02a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a3b70f54f6ce037cd644a562f0643d02a" kindref="member">BackendServer::Finialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="58"><highlight class="normal">{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Finialize();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a5e41584bb3c528d09034ec2a4c6c37e9" kindref="member">m_kDBMgr</ref>.Finialize();</highlight></codeline>
<codeline lineno="61"><highlight class="normal">}</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63" refid="class_backend_server_1a19ced7cdec4917ac623b73ba96d38d1d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a19ced7cdec4917ac623b73ba96d38d1d" kindref="member">BackendServer::ShowConsoleTitle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime)</highlight></codeline>
<codeline lineno="64"><highlight class="normal">{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acString[128];</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_server_tool_8cpp_1ad2735ec90511f0d6ec1535cf448709b8" kindref="member">SPrintf</ref>(acString,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acString),<sp/></highlight><highlight class="stringliteral">&quot;BackendServer&quot;</highlight><highlight class="normal">,<sp/>iDTime);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="69"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>SetConsoleTitle(acString);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="71"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="73"><highlight class="preprocessor"></highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="class_backend_server_1a994d4ce89299925c6ed17e7f6faa7194" refkind="member"><highlight class="normal"><ref refid="_se_server_main_def_8h_1a6856d2f3d34c3913f55b991c0d63e89d" kindref="member">SeServerActionResult</ref><sp/><ref refid="class_backend_server_1a994d4ce89299925c6ed17e7f6faa7194" kindref="member">BackendServer::ExecuteAction</ref>(<ref refid="_se_server_main_def_8h_1abbd63e694a43e9bc292e0e0b55ae79bd" kindref="member">SeServerActionIndex</ref><sp/>eActionIndex)</highlight></codeline>
<codeline lineno="76"><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(eActionIndex)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_se_server_main_def_8h_1abbd63e694a43e9bc292e0e0b55ae79bdab240074b0f8ea39e74f33d2dab2c86b6" kindref="member">AI_F1</ref>:</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a7c727baeafcf8b1ef6ca798fad4d738c" kindref="member">SeLogHideTime</ref>(</highlight><highlight class="stringliteral">&quot;----------------Help----------------&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="_se_server_main_def_8h_1a6856d2f3d34c3913f55b991c0d63e89dac7f0df5db209cf47b037a31ee2946d0c" kindref="member">AER_OK</ref>;</highlight></codeline>
<codeline lineno="86"><highlight class="normal">}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="class_backend_server_1abbea08f868a48b3fa8bcaadb5052fb8b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1abbea08f868a48b3fa8bcaadb5052fb8b" kindref="member">BackendServer::OnNetConnected</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcIP,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPort)</highlight></codeline>
<codeline lineno="89"><highlight class="normal">{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal">}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="class_backend_server_1aa10a6b04eb7ac8d43709887ebb5014cd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1aa10a6b04eb7ac8d43709887ebb5014cd" kindref="member">BackendServer::OnNetAccept</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iListenPort,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcIP,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPort)</highlight></codeline>
<codeline lineno="94"><highlight class="normal">{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>SeConnect::NEW();</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref><sp/>=<sp/>rkSock;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>=<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaa56d080abab641c052974b0a39f8bf32" kindref="member">SCS_UNKOWN</ref>;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4d30fbe56257fc998ebc1346e53be0d8" kindref="member">StrCpy</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aaaadf26d549f9464c83a25eeb9da2d653" kindref="member">SSD_IP_LEN</ref>,<sp/>pcIP);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref><sp/>=<sp/>iPort;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>[rkSock]<sp/>=<sp/>pkConnect;</highlight></codeline>
<codeline lineno="101"><highlight class="normal">}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="class_backend_server_1a4abd844ccde6fa6b8e31fd8eaccfb982" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a4abd844ccde6fa6b8e31fd8eaccfb982" kindref="member">BackendServer::OnNetRecv</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize)</highlight></codeline>
<codeline lineno="104"><highlight class="normal">{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iSize<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>))</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Disconnect(rkSock);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>MapAllConnect::iterator<sp/>itr<sp/>=<sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>==<sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>.end())</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>==<sp/>pkConnect)</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6783313d841289c671e083fbb47cb241" kindref="member">dwRecvTime</ref><sp/>=<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaa56d080abab641c052974b0a39f8bf32" kindref="member">SCS_UNKOWN</ref>)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*<sp/>pkCmd<sp/>=<sp/>(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref><sp/>*)pkData;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>==<sp/><ref refid="_se_ptl___n_s___to___b_k_s_8h_1a05e86324a6ce60b04bed11bd2a00fcdea33e900e3ee188ecb424113d672b797b8" kindref="member">CMD_NBKS_REGISTER</ref>)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aeded7763b6b62c6ef48347345cf7c6f9" kindref="member">ProcessNBKSData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Disconnect(rkSock);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_world_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaf610a15db4f418f0c6f5554f794709b1" kindref="member">SCS_NEXUS_OK</ref>)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aeded7763b6b62c6ef48347345cf7c6f9" kindref="member">ProcessNBKSData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Disconnect(rkSock);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="143"><highlight class="normal">}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="class_backend_server_1ae345c91329273c47cac10e35ad5f6dd1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1ae345c91329273c47cac10e35ad5f6dd1" kindref="member">BackendServer::OnNetDisconnect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/>TeDisconnectCode<sp/>eCode,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iParam)</highlight></codeline>
<codeline lineno="146"><highlight class="normal">{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>MapAllConnect::iterator<sp/>itr<sp/>=<sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>==<sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>.end())</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>==<sp/>pkConnect)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_world_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaf610a15db4f418f0c6f5554f794709b1" kindref="member">SCS_NEXUS_OK</ref>)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_nexus_mgr_8cpp_1ae2820125968221792bc52d09cabbb7c0" kindref="member">g_kNexusMgr</ref>.<ref refid="class_se_nexus_mgr_1aeafcd569d7086cc2479fd08617081741" kindref="member">DeleteNexus</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;NS<sp/>disconnect:[%s:%d]<sp/>id[%s]<sp/>Code[%d]<sp/>Para[%d]&quot;</highlight><highlight class="normal">,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1a334966c0cdc9581fe698c4677ba3b15d" kindref="member">dwServerID</ref>),<sp/>eCode,<sp/>iParam);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1af6baf241378b6740fb53b915afb4aef4" kindref="member">m_kAllConnect</ref>.erase(itr);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>SeConnect::DEL(pkConnect);</highlight></codeline>
<codeline lineno="167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="class_backend_server_1a0f81d3cefe64361ad3dfe6380853ef89" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a0f81d3cefe64361ad3dfe6380853ef89" kindref="member">BackendServer::OnDBResponse</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDB,<sp/>TeDBResSet&amp;<sp/>rkResSet)</highlight></codeline>
<codeline lineno="170"><highlight class="normal">{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a19464bafd2c16f0e2fe3ac6edc4f2177" kindref="member">ProcessDB</ref>(iDB,<sp/>rkResSet);</highlight></codeline>
<codeline lineno="172"><highlight class="normal">}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175" refid="class_backend_server_1a4384a13111b1265a8add16ae37b0dfa8" refkind="member"><highlight class="normal">DWord<sp/><ref refid="class_backend_server_1a4384a13111b1265a8add16ae37b0dfa8" kindref="member">BackendServer::GetServerID</ref>()</highlight></codeline>
<codeline lineno="176"><highlight class="normal">{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1aa4a9747a4e56c1581a7b63c6f3ecede1" kindref="member">dwServerID</ref>;</highlight></codeline>
<codeline lineno="178"><highlight class="normal">}</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="class_backend_server_1a7ba02c17cf5da9c5e3510e1a0e093ffa" refkind="member"><highlight class="normal">DWord<sp/><sp/><ref refid="class_backend_server_1a7ba02c17cf5da9c5e3510e1a0e093ffa" kindref="member">BackendServer::GetAreaID</ref>()</highlight></codeline>
<codeline lineno="181"><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1a7193a75e70c09f178dba72e7635c0324" kindref="member">dwAreaID</ref>;</highlight></codeline>
<codeline lineno="183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="184" refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" refkind="member"><highlight class="normal">DWord<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">BackendServer::GetServerTime</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="185"><highlight class="normal">{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a032c526a81175c5c4de3c5e9efdcf1b5" kindref="member">m_dwCurTime</ref>;</highlight></codeline>
<codeline lineno="187"><highlight class="normal">}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="class_backend_server_1ae58a3f69e4a81c8da456344a11bdfe5b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1acb938dc7b908afddcef4d63fff48c0cb" kindref="member">BackendServer::LoadConfig</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcFile)</highlight></codeline>
<codeline lineno="190"><highlight class="normal">{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_config" kindref="compound">SeConfig</ref><sp/>kConfig;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!kConfig.<ref refid="class_se_config_1a077cfce8454c31d293c2d2341980ffca" kindref="member">Load</ref>(pcFile))</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;ServerID&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pcValue)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[ServerID]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1aa4a9747a4e56c1581a7b63c6f3ecede1" kindref="member">dwServerID</ref><sp/>=<sp/><ref refid="_se_tool_8cpp_1a03bcc77ad4ef4845b20fc5cf4db96834" kindref="member">GetStr2ID</ref>(pcValue);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;AreaID&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pcValue)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[AreaID]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1a7193a75e70c09f178dba72e7635c0324" kindref="member">dwAreaID</ref><sp/>=<sp/>atoi(pcValue);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LocalServer<sp/>Listen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_net_addr" kindref="compound">SeNetAddr</ref>*<sp/>pkAddr<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a0bd6ce789230fc24e8e09674c0265d5d" kindref="member">GetNetAddr</ref>(</highlight><highlight class="stringliteral">&quot;LocalServer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkAddr)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[LocalServer]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref><sp/>=<sp/>*pkAddr;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_d_b_addr" kindref="compound">SeDBAddr</ref><sp/>*pkDBStatistics<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a4afab93102626e63e8d44a4cb8b97f35" kindref="member">GetDBAddr</ref>(</highlight><highlight class="stringliteral">&quot;UnitStatisticsDB&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkDBStatistics)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:%s[UnitStatisticsDB]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1a810f2ef4901b953c6f16351b43da7c22" kindref="member">kUnitStatisticsDB</ref><sp/>=<sp/>*pkDBStatistics;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Load<sp/>config<sp/>file<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="233"><highlight class="normal">}</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235" refid="class_backend_server_1acb938dc7b908afddcef4d63fff48c0cb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1acb938dc7b908afddcef4d63fff48c0cb" kindref="member">BackendServer::LoadConfig</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="236"><highlight class="normal">{</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1acb938dc7b908afddcef4d63fff48c0cb" kindref="member">LoadConfig</ref>(</highlight><highlight class="stringliteral">&quot;./Data/BackendServer.ini&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="242"><highlight class="normal">}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244" refid="class_backend_server_1a41913ddc80bde6ef7e62f5422fbb0635" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a41913ddc80bde6ef7e62f5422fbb0635" kindref="member">BackendServer::InitializeNet</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="245"><highlight class="normal">{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Initialize(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>4))</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>net<sp/>failed&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>net<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a78c7e4f6424b7621a8f2d3d523522714" kindref="member">m_kNetMgr</ref>.Listen(<ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/>8,<sp/><ref refid="_se_server_define_8h_1a141dc49d73e6790790a053c29623f606" kindref="member">SERVER_BUFFER_SIZE</ref>))</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>failed:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>successfully:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1ac7c4738168ed5e3650c06d2a8039c1c4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="262"><highlight class="normal">}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264" refid="class_backend_server_1a7b92991268357cbe60da12c3e1930286" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><ref refid="class_backend_server_1a7b92991268357cbe60da12c3e1930286" kindref="member">BackendServer::InitializeNetEx</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="265"><highlight class="normal">{</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="class_backend_server_1a12dbe6127be37de2ffd713a4ce31d98c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><ref refid="class_backend_server_1a12dbe6127be37de2ffd713a4ce31d98c" kindref="member">BackendServer::InitializeDB</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="270"><highlight class="normal">{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a5e41584bb3c528d09034ec2a4c6c37e9" kindref="member">m_kDBMgr</ref>.Initialize(</highlight><highlight class="keyword">this</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>DB<sp/>failed!&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_d_b_addr" kindref="compound">SeDBAddr</ref>&amp;<sp/>rkUnitStatisticsDB<sp/>=<sp/><ref refid="class_backend_server_1a1b9c7111a22dfa4beb698a3a33090e34" kindref="member">m_kConfig</ref>.<ref refid="struct_se_backend_config_1a810f2ef4901b953c6f16351b43da7c22" kindref="member">kUnitStatisticsDB</ref>;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aec8fd9936c2e82ee1e5383cf9f3ddb3f" kindref="member">m_iUnitStatisticDB</ref><sp/>=<sp/><ref refid="class_backend_server_1a5e41584bb3c528d09034ec2a4c6c37e9" kindref="member">m_kDBMgr</ref>.AddDBServerInfo(rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ad9ca5b457c92daf4c9e26583e9505fdd" kindref="member">acIP</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1a1ac445b204c6f0f79b8be0d866d6c345" kindref="member">iPort</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ae8a70001edc6281b45cb6692e94557c7" kindref="member">acDBName</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1a8c395e74313d9eba8aec4c1d43837786" kindref="member">acDBUser</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1a54fa6e30b317baf8e70247984fbd3118" kindref="member">acDBPassword</ref>,<sp/><ref refid="src_2_global_server_def_8h_1a4b8ccf0bf46575671a44659ec3daa697afbdb1297c666ddefe6878e1538b53383" kindref="member">SAD_DB_LOGIC</ref>);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_backend_server_1a5e41584bb3c528d09034ec2a4c6c37e9" kindref="member">m_kDBMgr</ref>.ConnectDB(<ref refid="class_backend_server_1aec8fd9936c2e82ee1e5383cf9f3ddb3f" kindref="member">m_iUnitStatisticDB</ref>))</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Connect<sp/>UnitStatisticsDB<sp/><sp/>failed:[%s:%d:%s]&quot;</highlight><highlight class="normal">,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ad9ca5b457c92daf4c9e26583e9505fdd" kindref="member">acIP</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1a1ac445b204c6f0f79b8be0d866d6c345" kindref="member">iPort</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ae8a70001edc6281b45cb6692e94557c7" kindref="member">acDBName</ref>);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Connect<sp/>UnitStatisticsDB<sp/><sp/>successfully:[%s:%d:%s]&quot;</highlight><highlight class="normal">,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ad9ca5b457c92daf4c9e26583e9505fdd" kindref="member">acIP</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1a1ac445b204c6f0f79b8be0d866d6c345" kindref="member">iPort</ref>,<sp/>rkUnitStatisticsDB.<ref refid="struct_se_d_b_addr_1ae8a70001edc6281b45cb6692e94557c7" kindref="member">acDBName</ref>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289" refid="class_backend_server_1a7d483acdd3c1d9cffdd56ab1851e1cca" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a7d483acdd3c1d9cffdd56ab1851e1cca" kindref="member">BackendServer::UpdateConnect</ref>()</highlight></codeline>
<codeline lineno="290"><highlight class="normal">{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DWord<sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>()<sp/>-<sp/>s_dwPreTime);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iDTime<sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/>iDTime<sp/>&lt;<sp/>500)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="298"><highlight class="normal">}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300" refid="class_backend_server_1af4bd8e521cb062d5afbc9a539724d12e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><ref refid="class_backend_server_1af4bd8e521cb062d5afbc9a539724d12e" kindref="member">BackendServer::UpdateStatistic</ref>()</highlight></codeline>
<codeline lineno="301"><highlight class="normal">{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DWord<sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>()<sp/>-<sp/>s_dwPreTime);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iDTime<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>iDTime<sp/>&lt;<sp/><ref refid="_backend_server_def_8h_1a6fab76640e7696fd5209f60debd243f8a62fdd4009b7f5037e5fc833c142138a6" kindref="member">BKS_ONLINE_STATIC_TIME</ref>)</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_backend_server_1af08fdd5758040479fbe2d30dd05b7252" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aebf6fbee710bc84551d6985ffcd567dd" kindref="member">UpdateStatistic_OnlineNum</ref>();</highlight></codeline>
<codeline lineno="311"><highlight class="normal">}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313" refid="class_backend_server_1aebf6fbee710bc84551d6985ffcd567dd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1aebf6fbee710bc84551d6985ffcd567dd" kindref="member">BackendServer::UpdateStatistic_OnlineNum</ref>()</highlight></codeline>
<codeline lineno="314"><highlight class="normal">{</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dw_online_users<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>dw_online_users<sp/>=<sp/><ref refid="_backend_statistics_mgr_8cpp_1a3c3155df2c84764ce2b1710d9c01deb0" kindref="member">g_kBackendStatisticsMgr</ref>.<ref refid="class_backend_statistics_mgr_1a3fa4177cf62d52b89cb35723b727f286" kindref="member">get_online_users</ref>();</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a4d2aa3b83a7263beccc86a67cd114e9c" kindref="member">SendDB_Online_Num</ref>(dw_online_users);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;SendDB_Online_Num<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="320"><highlight class="normal">}</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322" refid="class_backend_server_1ac099b6c5d14dfec627b4e5b755f6a489" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1ac099b6c5d14dfec627b4e5b755f6a489" kindref="member">BackendServer::UpdateStatistic_RaceNum</ref>()</highlight></codeline>
<codeline lineno="323"><highlight class="normal">{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dw_race_users<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>dw_race_users<sp/>=<sp/><ref refid="_backend_statistics_mgr_8cpp_1a3c3155df2c84764ce2b1710d9c01deb0" kindref="member">g_kBackendStatisticsMgr</ref>.<ref refid="class_backend_statistics_mgr_1a72636aa7c709321235fff4f21365d73a" kindref="member">get_race_users</ref>();</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1ac976af9adda24baf7798c2f2ab762f69" kindref="member">SendDB_Race_Num</ref>(dw_race_users);</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;SendDB_Race_Num<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="329"><highlight class="normal">}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331" refid="class_backend_server_1adf862a9c2deed130821352dc292bedb8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1adf862a9c2deed130821352dc292bedb8" kindref="member">BackendServer::UpdateStatistic_WatchNum</ref>()</highlight></codeline>
<codeline lineno="332"><highlight class="normal">{</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dw_watch_users<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>dw_watch_users<sp/>=<sp/><ref refid="_backend_statistics_mgr_8cpp_1a3c3155df2c84764ce2b1710d9c01deb0" kindref="member">g_kBackendStatisticsMgr</ref>.<ref refid="class_backend_statistics_mgr_1a646529fb1512268d7b451018199ada85" kindref="member">get_watch_users</ref>();</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1aeb360fa91a3b3d9f56686d1dc92aaca2" kindref="member">SendDB_Watch_Num</ref>(dw_watch_users);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;SendDB_Watch_Num<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340" refid="class_backend_server_1af0c69e9d1dd9b6cc77b8c3df26cfac28" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1af0c69e9d1dd9b6cc77b8c3df26cfac28" kindref="member">BackendServer::LinkUserSync</ref>(DWord<sp/>dwPlayerID,<sp/>DWord<sp/>dwStateID,<sp/>DWord<sp/><sp/>dwLoginTime)</highlight></codeline>
<codeline lineno="341"><highlight class="normal">{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(dwStateID)</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_se_ptl_comm_define_8h_1ab4760fe302c6e66814cca89c0675d97fa0fe956bcc181690961b1ff86e9560a3f" kindref="member">ENState_Online</ref>:<ref refid="class_backend_server_1a5f913aa6ce55d84eb3fe3fdac2519a9c" kindref="member">LinkUserTownSync</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_se_ptl_comm_define_8h_1ab4760fe302c6e66814cca89c0675d97fa2f1ae5d7084be70dceca0942db45b3a4" kindref="member">ENState_Racing</ref>:<ref refid="class_backend_server_1ad156a9845d114d8b1be0fbca207f9449" kindref="member">LinkUserRaceSync</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_se_ptl_comm_define_8h_1ab4760fe302c6e66814cca89c0675d97fa55b4bc54c1a283e151381d9bef96e708" kindref="member">ENState_Watching</ref>:<ref refid="class_backend_server_1af8c1957ec1b25e1ca0bf3961a6a4f0b8" kindref="member">LinkUserWatchSync</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal">}</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355" refid="class_backend_server_1a5f913aa6ce55d84eb3fe3fdac2519a9c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a5f913aa6ce55d84eb3fe3fdac2519a9c" kindref="member">BackendServer::LinkUserTownSync</ref>(DWord<sp/>dwPlayerID)</highlight></codeline>
<codeline lineno="356"><highlight class="normal">{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1acaf73df8963265ae4a78244ed1b325da" kindref="member">SendDB_User_Town</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;LinkUserTownSync:SendDB_User_Town<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="360"><highlight class="normal">}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362" refid="class_backend_server_1ad156a9845d114d8b1be0fbca207f9449" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1ad156a9845d114d8b1be0fbca207f9449" kindref="member">BackendServer::LinkUserRaceSync</ref>(DWord<sp/>dwPlayerID)</highlight></codeline>
<codeline lineno="363"><highlight class="normal">{</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1ad12fb3a5cf8f2c37474fef8db6ab4239" kindref="member">SendDB_User_Race</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;LinkUserTownSync:SendDB_User_Race<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369" refid="class_backend_server_1af8c1957ec1b25e1ca0bf3961a6a4f0b8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1af8c1957ec1b25e1ca0bf3961a6a4f0b8" kindref="member">BackendServer::LinkUserWatchSync</ref>(DWord<sp/>dwPlayerID)</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a650758e5e2b9f3748f7abed222e2ac2d" kindref="member">SendDB_User_Watch</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;LinkUserTownSync:SendDB_User_Watch<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376" refid="class_backend_server_1a41df454eb98fadfdf297909d942d50aa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_backend_server_1a41df454eb98fadfdf297909d942d50aa" kindref="member">BackendServer::CreatUserSync</ref>(DWord<sp/>dwPlayerID,<sp/>DWord<sp/><sp/>dwLoginTime,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pIp)</highlight></codeline>
<codeline lineno="377"><highlight class="normal">{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_backend_server_1a142914139a2f1d32de8a0422a8e64785" kindref="member">SendDB_User_Create</ref>(dwPlayerID,<sp/>pIp);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;CreatUserSync:SendDB_User_Create<sp/>successfully&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="381"><highlight class="normal">}</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/BackendServer/Src/BackendServer.cpp"/>
  </compounddef>
</doxygen>
