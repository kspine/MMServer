<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="src_2_ladder_rank_mgr_8h" kind="file">
    <compoundname>LadderRankMgr.h</compoundname>
    <includes local="no">map</includes>
    <includes local="no">set</includes>
    <includes local="no">functional</includes>
    <includes refid="src_2_tab_mgr_8h" local="yes">TabMgr.h</includes>
    <includes local="yes">EsType.h</includes>
    <includes refid="_se_mem_pool_8h" local="yes">SeMemPool.h</includes>
    <includedby refid="src_2_ladder_rank_mgr_8cpp" local="yes">WorldServer/src/LadderRankMgr.cpp</includedby>
    <includedby refid="src_2_se_b_w_process_8cpp" local="yes">WorldServer/src/SeBWProcess.cpp</includedby>
    <includedby refid="_world_server_2src_2_se_player_8cpp" local="yes">WorldServer/src/SePlayer.cpp</includedby>
    <includedby refid="src_2_se_r_b_l_process_8cpp" local="yes">WorldServer/src/SeRBLProcess.cpp</includedby>
    <includedby refid="src_2_se_t_b_l_process_8cpp" local="yes">WorldServer/src/SeTBLProcess.cpp</includedby>
    <includedby refid="src_2_world_server_8cpp" local="yes">WorldServer/src/WorldServer.cpp</includedby>
    <incdepgraph>
      <node id="76515">
        <label>list</label>
      </node>
      <node id="76487">
        <label>WorldServer/src/LadderRankMgr.h</label>
        <link refid="src/LadderRankMgr.h"/>
        <childnode refid="76488" relation="include">
        </childnode>
        <childnode refid="76489" relation="include">
        </childnode>
        <childnode refid="76490" relation="include">
        </childnode>
        <childnode refid="76491" relation="include">
        </childnode>
        <childnode refid="76507" relation="include">
        </childnode>
        <childnode refid="76527" relation="include">
        </childnode>
      </node>
      <node id="76509">
        <label>locale</label>
      </node>
      <node id="76490">
        <label>functional</label>
      </node>
      <node id="76517">
        <label>queue</label>
      </node>
      <node id="76513">
        <label>limits</label>
      </node>
      <node id="76526">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="76527">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="76494" relation="include">
        </childnode>
        <childnode refid="76528" relation="include">
        </childnode>
        <childnode refid="76501" relation="include">
        </childnode>
      </node>
      <node id="76496">
        <label>windows.h</label>
      </node>
      <node id="76501">
        <label>assert.h</label>
      </node>
      <node id="76492">
        <label>SeDBDefine.h</label>
        <link refid="_se_d_b_define_8h"/>
        <childnode refid="76493" relation="include">
        </childnode>
      </node>
      <node id="76499">
        <label>stdlib.h</label>
      </node>
      <node id="76528">
        <label>EsLock.h</label>
      </node>
      <node id="76503">
        <label>cmath</label>
      </node>
      <node id="76512">
        <label>string</label>
      </node>
      <node id="76488">
        <label>map</label>
      </node>
      <node id="76498">
        <label>conio.h</label>
      </node>
      <node id="76525">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="76497">
        <label>direct.h</label>
      </node>
      <node id="76510">
        <label>fstream</label>
      </node>
      <node id="76521">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="76494" relation="include">
        </childnode>
        <childnode refid="76520" relation="include">
        </childnode>
        <childnode refid="76522" relation="include">
        </childnode>
        <childnode refid="76523" relation="include">
        </childnode>
        <childnode refid="76507" relation="include">
        </childnode>
        <childnode refid="76524" relation="include">
        </childnode>
      </node>
      <node id="76495">
        <label>winsock2.h</label>
      </node>
      <node id="76523">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="76506" relation="include">
        </childnode>
      </node>
      <node id="76506">
        <label>string.h</label>
      </node>
      <node id="76529">
        <label>SeDBVariant.h</label>
        <link refid="_se_d_b_variant_8h"/>
        <childnode refid="76507" relation="include">
        </childnode>
        <childnode refid="76492" relation="include">
        </childnode>
      </node>
      <node id="76504">
        <label>ctime</label>
      </node>
      <node id="76514">
        <label>vector</label>
      </node>
      <node id="76518">
        <label>new</label>
      </node>
      <node id="76493">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="76494" relation="include">
        </childnode>
        <childnode refid="76520" relation="include">
        </childnode>
        <childnode refid="76521" relation="include">
        </childnode>
        <childnode refid="76525" relation="include">
        </childnode>
        <childnode refid="76526" relation="include">
        </childnode>
        <childnode refid="76527" relation="include">
        </childnode>
      </node>
      <node id="76520">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="76494" relation="include">
        </childnode>
      </node>
      <node id="76511">
        <label>sstream</label>
      </node>
      <node id="76524">
        <label>EsString.h</label>
      </node>
      <node id="76494">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="76495" relation="include">
        </childnode>
        <childnode refid="76496" relation="include">
        </childnode>
        <childnode refid="76497" relation="include">
        </childnode>
        <childnode refid="76498" relation="include">
        </childnode>
        <childnode refid="76499" relation="include">
        </childnode>
        <childnode refid="76500" relation="include">
        </childnode>
        <childnode refid="76501" relation="include">
        </childnode>
        <childnode refid="76502" relation="include">
        </childnode>
        <childnode refid="76503" relation="include">
        </childnode>
        <childnode refid="76504" relation="include">
        </childnode>
        <childnode refid="76505" relation="include">
        </childnode>
        <childnode refid="76506" relation="include">
        </childnode>
        <childnode refid="76507" relation="include">
        </childnode>
        <childnode refid="76508" relation="include">
        </childnode>
        <childnode refid="76509" relation="include">
        </childnode>
        <childnode refid="76510" relation="include">
        </childnode>
        <childnode refid="76511" relation="include">
        </childnode>
        <childnode refid="76512" relation="include">
        </childnode>
        <childnode refid="76513" relation="include">
        </childnode>
        <childnode refid="76514" relation="include">
        </childnode>
        <childnode refid="76515" relation="include">
        </childnode>
        <childnode refid="76488" relation="include">
        </childnode>
        <childnode refid="76516" relation="include">
        </childnode>
        <childnode refid="76489" relation="include">
        </childnode>
        <childnode refid="76517" relation="include">
        </childnode>
        <childnode refid="76518" relation="include">
        </childnode>
        <childnode refid="76519" relation="include">
        </childnode>
      </node>
      <node id="76500">
        <label>math.h</label>
      </node>
      <node id="76507">
        <label>EsType.h</label>
      </node>
      <node id="76502">
        <label>cctype</label>
      </node>
      <node id="76522">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="76516">
        <label>unordered_map</label>
      </node>
      <node id="76519">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="76530">
        <label>SePtl_BS_To_WS.h</label>
        <link refid="_se_ptl___b_s___to___w_s_8h"/>
        <childnode refid="76493" relation="include">
        </childnode>
        <childnode refid="76492" relation="include">
        </childnode>
      </node>
      <node id="76489">
        <label>set</label>
      </node>
      <node id="76508">
        <label>algorithm</label>
      </node>
      <node id="76505">
        <label>stdio.h</label>
      </node>
      <node id="76491">
        <label>TabMgr.h</label>
        <link refid="src_2_tab_mgr_8h"/>
        <childnode refid="76492" relation="include">
        </childnode>
        <childnode refid="76529" relation="include">
        </childnode>
        <childnode refid="76530" relation="include">
        </childnode>
        <childnode refid="76488" relation="include">
        </childnode>
        <childnode refid="76515" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="76531">
        <label>WorldServer/src/LadderRankMgr.h</label>
        <link refid="src/LadderRankMgr.h"/>
        <childnode refid="76532" relation="include">
        </childnode>
        <childnode refid="76533" relation="include">
        </childnode>
        <childnode refid="76534" relation="include">
        </childnode>
        <childnode refid="76535" relation="include">
        </childnode>
        <childnode refid="76536" relation="include">
        </childnode>
        <childnode refid="76537" relation="include">
        </childnode>
      </node>
      <node id="76537">
        <label>WorldServer/src/WorldServer.cpp</label>
        <link refid="src_2_world_server_8cpp"/>
      </node>
      <node id="76535">
        <label>WorldServer/src/SeRBLProcess.cpp</label>
        <link refid="src_2_se_r_b_l_process_8cpp"/>
      </node>
      <node id="76534">
        <label>WorldServer/src/SePlayer.cpp</label>
        <link refid="_world_server_2src_2_se_player_8cpp"/>
      </node>
      <node id="76536">
        <label>WorldServer/src/SeTBLProcess.cpp</label>
        <link refid="src_2_se_t_b_l_process_8cpp"/>
      </node>
      <node id="76533">
        <label>WorldServer/src/SeBWProcess.cpp</label>
        <link refid="src_2_se_b_w_process_8cpp"/>
      </node>
      <node id="76532">
        <label>WorldServer/src/LadderRankMgr.cpp</label>
        <link refid="src_2_ladder_rank_mgr_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="struct_ladder_rank_index" prot="public">LadderRankIndex</innerclass>
    <innerclass refid="struct_ladder_rank_item" prot="public">LadderRankItem</innerclass>
    <innerclass refid="struct_ladder_rank_compare" prot="public">LadderRankCompare</innerclass>
    <innerclass refid="class_ladder_rank_mgr" prot="public">LadderRankMgr</innerclass>
      <sectiondef kind="var">
      <memberdef kind="variable" id="src_2_ladder_rank_mgr_8h_1a8226432d693d5ba1e6c5c953813506c2" prot="public" static="no" mutable="no">
        <type><ref refid="class_ladder_rank_mgr" kindref="compound">LadderRankMgr</ref></type>
        <definition>LadderRankMgr g_kLadderRankMgr</definition>
        <argsstring></argsstring>
        <name>g_kLadderRankMgr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/src/LadderRankMgr.h" line="101" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/LadderRankMgr.cpp" bodystart="10" bodyend="-1"/>
        <referencedby refid="class_world_server_1a59c3e7f7ac1ebbdcf37236b5735ed1cf" compoundref="_src_2_se_b_w_process_8cpp" startline="19" endline="64">WorldServer::ProcessBW_RegisterRet</referencedby>
        <referencedby refid="class_block_server_1a295896a58e78e24c2bd3e92ea8856f23" compoundref="_src_2_se_r_b_l_process_8cpp" startline="32" endline="122">BlockServer::ProcessRBL_UpdateScore</referencedby>
        <referencedby refid="class_block_server_1a1cfb53dd24d59651f5245571ebcddfad" compoundref="_src_2_se_t_b_l_process_8cpp" startline="163" endline="176">BlockServer::ProcessTBL_LadderRankQueryReq</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;set&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;functional&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="src_2_tab_mgr_8h" kindref="compound">TabMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;EsType.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_mem_pool_8h" kindref="compound">SeMemPool.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//struct<sp/>RankStageTable;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref></highlight></codeline>
<codeline lineno="13"><highlight class="normal">{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_index_1a4fa7145f1003b1b3b6609a33e175ca0a" kindref="member">LadderRankIndex</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>playerLevel);</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index_1af1dab4e37d41a5e542975ce1e6e05012" kindref="member">m_Level</ref>;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index_1adcd6e59e09bc6b09347ca517618b8c14" kindref="member">m_PlayerLevel</ref>;</highlight></codeline>
<codeline lineno="18"><highlight class="normal">};</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="struct_se_ladder_rank_info" kindref="compound">SeLadderRankInfo</ref></highlight></codeline>
<codeline lineno="21"><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_item_1ad06456db34b200c71d620a5ec71e73bd" kindref="member">DECLARE_POOL</ref>(<ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref>);</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_item_1a84a913bbf1335b15718c3b9cf1cd0a4a" kindref="member">LadderRankItem</ref>();</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_item_1a84a913bbf1335b15718c3b9cf1cd0a4a" kindref="member">LadderRankItem</ref>(DWord<sp/><ref refid="struct_se_ladder_rank_info_1ae363f06d92eb5d514ec919ce3321b692" kindref="member">dwPlayerID</ref>,<sp/>Word<sp/><ref refid="struct_se_ladder_rank_info_1ab4db936c8108e4d6fce2aec9bb0a586b" kindref="member">wIconID</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>score,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>playerLevel,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>sName);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1ae395ea0b65b0f2783e1bc81013e81560" kindref="member">LoadInfo</ref>(DWord<sp/><ref refid="struct_se_ladder_rank_info_1ae363f06d92eb5d514ec919ce3321b692" kindref="member">dwPlayerID</ref>,<sp/>Word<sp/><ref refid="struct_se_ladder_rank_info_1ab4db936c8108e4d6fce2aec9bb0a586b" kindref="member">wIconID</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>score,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>playerLevel,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>sName);</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref><sp/><ref refid="struct_ladder_rank_item_1a0adfa0dc00f655a38bb12fe52dd265d9" kindref="member">Index</ref>();</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>Word<sp/><ref refid="struct_ladder_rank_item_1afefd93bbcf41ae2693ff3882d5223e1a" kindref="member">GetRank</ref>();</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1a85e8f1409d4b4579e97c1547a6413b9e" kindref="member">SetRank</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wRank);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1ae11610bff85dc713d1bd5bf79fc5af7a" kindref="member">DBDelete</ref>();</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1abd302eb0e91f23cd10034ba4edfc7d87" kindref="member">DBUpdate</ref>();</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1a35c65ff6e981f8aea783e3db3b0852e0" kindref="member">DBInsert</ref>();</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_item_1ab5c985a909a828e3164f7b3b3072294d" kindref="member">m_rank</ref>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal">};</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_ladder_rank_compare" kindref="compound">LadderRankCompare</ref></highlight></codeline>
<codeline lineno="46"><highlight class="normal">{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_compare_1a28f0dfa63b1a9d42ca80e68da4936d58" kindref="member">operator()</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref>&amp;<sp/>b)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="49"><highlight class="normal">};</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">//天梯等级排行榜辅助类</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_ladder_rank_mgr" kindref="compound">LadderRankMgr</ref></highlight></codeline>
<codeline lineno="53"><highlight class="normal">{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ladder_rank_mgr_1a92e5b14704a9e6f30a3e36d6e780d88a" kindref="member">LadderRankMgr</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ladder_rank_mgr_1a24d92d20f6cbab80d95c5e903c50a3a7" kindref="member">~LadderRankMgr</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="class_ladder_rank_mgr_1a38e3b793bd0edd1d152a8305fcc3383f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>std::multimap&lt;LadderRankIndex,<sp/>LadderRankItem<sp/>*,<sp/>LadderRankCompare<sp/>&gt;<sp/><ref refid="class_ladder_rank_mgr_1a38e3b793bd0edd1d152a8305fcc3383f" kindref="member">LADDERRANKMMAP</ref>;</highlight></codeline>
<codeline lineno="59" refid="class_ladder_rank_mgr_1aaa8f3da36c555b29bf85498570053970" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>std::multimap&lt;LadderRankIndex,<sp/>LadderRankItem<sp/>*,<sp/>LadderRankCompare<sp/>&gt;<sp/>::iterator<sp/><ref refid="class_ladder_rank_mgr_1aaa8f3da36c555b29bf85498570053970" kindref="member">LADDERRANKITER</ref>;</highlight></codeline>
<codeline lineno="60" refid="class_ladder_rank_mgr_1a82bc6463c46e3e6949bc3002612b07e0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>std::map&lt;DWord,<sp/>LADDERRANKITER&gt;<sp/><ref refid="class_ladder_rank_mgr_1a82bc6463c46e3e6949bc3002612b07e0" kindref="member">PLAYERID2ITEMITER</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a5e15c068d5f1c161c047ae694f06a290" kindref="member">Initialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>从天梯排行表中获取数据，数据里没有名次，<sp/>只有玩家<sp/>level,<sp/>score<sp/>,<sp/>playerLevel<sp/>,从db中获取的数据会重新走一次</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>上排行榜的过程</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1ae6830b76a0365aaa46a4611d7aa26488" kindref="member">loadLadderRankInfoDBData</ref>();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>查询指定玩家在排行上的排行信息，false<sp/>没上榜<sp/><sp/>true<sp/>上榜了</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1ae1d640b7f0894b0c0abd7a5eadace274" kindref="member">GetPlayerRankInfo</ref>(DWord<sp/>dwPlayerId,<sp/><ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref>&amp;<sp/>ItemInfo);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>排行榜新玩家数据，返回值是名次，<sp/>若为-1说明上榜失败</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1afe83f18e91355e5c51d3eb86e22d690b" kindref="member">JoinNewPlayerLadderInfo</ref>(DWord<sp/>dwPlayerID,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>score,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>playerLevel,<sp/>Word<sp/>wIconID,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>acName,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bSaveDbFlag<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a9e6db714490b33a88d4429f8a9b997ac" kindref="member">CompareRankIndex</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_ladder_rank_index" kindref="compound">LadderRankIndex</ref>&amp;<sp/>b);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>返回排行榜信息</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a7fb1f4686e4ddfddc5657f41bd155d0b" kindref="member">QueryLadderRank</ref>(std::vector&lt;SeLadderRankInfo&gt;&amp;<sp/>vRankList);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1ad9b5dedbebbda6e93cef56aca1ee50c9" kindref="member">UpdateRank</ref>(<ref refid="class_ladder_rank_mgr_1aaa8f3da36c555b29bf85498570053970" kindref="member">LADDERRANKITER</ref>&amp;<sp/>currIter,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rank);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a9380e66fd409eb396a376f4a25e99a71" kindref="member">AdjustRankSize</ref>();</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a9f740f61d6b1f74a1f9c6bbc578510c5" kindref="member">RankDBDelete</ref>(<ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref>*<sp/>item);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1afc2122d03b03f36612fb093a9218fbf6" kindref="member">RankDBUpdate</ref>(<ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref>*<sp/>item);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a4bb707dc47c2e9eb71e1f8c45bb988c2" kindref="member">RankDBInsert</ref>(<ref refid="struct_ladder_rank_item" kindref="compound">LadderRankItem</ref>*<sp/>item);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ladder_rank_mgr_1a38e3b793bd0edd1d152a8305fcc3383f" kindref="member">LADDERRANKMMAP</ref><sp/><ref refid="class_ladder_rank_mgr_1a1c0f64b964bcf9f858dca0928a7c3644" kindref="member">m_LadderRankMMap</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ladder_rank_mgr_1a82bc6463c46e3e6949bc3002612b07e0" kindref="member">PLAYERID2ITEMITER</ref><sp/><ref refid="class_ladder_rank_mgr_1a6798d216b43fe676d2cbf3b2953d3374" kindref="member">m_playerIterMap</ref>;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>Es::NormalLock<sp/><sp/><ref refid="class_ladder_rank_mgr_1abdc0add1a245c963b529a82a3fd2638a" kindref="member">m_mutex</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>榜上有名的玩家最大数量</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1abd3b511b324efe9b75bc0e611d85488c" kindref="member">m_MaxRankNum</ref>;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr_1a3c97911223fb80a5080e2e54c0325b05" kindref="member">m_bSaveDbFlag</ref>;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_ladder_rank_compare" kindref="compound">LadderRankCompare</ref><sp/><ref refid="class_ladder_rank_mgr_1a02cf94732f97d502a1e1d8f88c014ea8" kindref="member">m_compare</ref>;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal">};</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="class_ladder_rank_mgr" kindref="compound">LadderRankMgr</ref><sp/><sp/><sp/><sp/><ref refid="_src_2_ladder_rank_mgr_8h_1a8226432d693d5ba1e6c5c953813506c2" kindref="member">g_kLadderRankMgr</ref>;</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/src/LadderRankMgr.h"/>
  </compounddef>
</doxygen>
