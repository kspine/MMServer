<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_src_2_match_server_8cpp" kind="file">
    <compoundname>MatchServer.cpp</compoundname>
    <includes refid="_src_2_match_server_8h" local="yes">MatchServer.h</includes>
    <includes refid="_src_2_se_open_room_mgr_8h" local="yes">SeOpenRoomMgr.h</includes>
    <includes refid="_src_2_match_prepare_mgr_8h" local="yes">MatchPrepareMgr.h</includes>
    <includes refid="_src_2_match_ban_mgr_8h" local="yes">MatchBanMgr.h</includes>
    <includes refid="_src_2_se_race_query_mgr_8h" local="yes">SeRaceQueryMgr.h</includes>
    <includes refid="_match_server_2_src_2_se_race_mgr_8h" local="yes">SeRaceMgr.h</includes>
    <incdepgraph>
      <node id="31645">
        <label>list</label>
      </node>
      <node id="31639">
        <label>locale</label>
      </node>
      <node id="31761">
        <label>AchievementTask_table.hpp</label>
        <link refid="_achievement_task__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31672">
        <label>SePtl_MS_To_WS.h</label>
        <link refid="_se_ptl___m_s___to___w_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31671">
        <label>SePtl_WS_To_MS.h</label>
        <link refid="_se_ptl___w_s___to___m_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31732">
        <label>MGClientExport.h</label>
        <link refid="_m_g_client_export_8h"/>
      </node>
      <node id="31725">
        <label>EffectSwitch_table.hpp</label>
        <link refid="_effect_switch__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31700">
        <label>Racehelp_table.hpp</label>
        <link refid="_racehelp__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31649">
        <label>queue</label>
      </node>
      <node id="31643">
        <label>limits</label>
      </node>
      <node id="31659">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="31758">
        <label>KillBounty_table.hpp</label>
        <link refid="_kill_bounty__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31660">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31661" relation="include">
        </childnode>
        <childnode refid="31631" relation="include">
        </childnode>
      </node>
      <node id="31787">
        <label>SeRaceMgr.h</label>
        <link refid="_match_server_2_src_2_se_race_mgr_8h"/>
        <childnode refid="31686" relation="include">
        </childnode>
        <childnode refid="31764" relation="include">
        </childnode>
        <childnode refid="31666" relation="include">
        </childnode>
        <childnode refid="31668" relation="include">
        </childnode>
        <childnode refid="31694" relation="include">
        </childnode>
      </node>
      <node id="31770">
        <label>SeMatchOther.inl</label>
        <link refid="_src_2_se_match_other_8inl"/>
      </node>
      <node id="31626">
        <label>windows.h</label>
      </node>
      <node id="31713">
        <label>Pet_table.hpp</label>
        <link refid="_pet__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31773">
        <label>SeTMProcess.inl</label>
        <link refid="_se_t_m_process_8inl"/>
      </node>
      <node id="31631">
        <label>assert.h</label>
      </node>
      <node id="31753">
        <label>FreeHeroes_table.hpp</label>
        <link refid="_free_heroes__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31768">
        <label>SeMTSend.inl</label>
        <link refid="_se_m_t_send_8inl"/>
      </node>
      <node id="31673">
        <label>SePtl_BLS_To_MS.h</label>
        <link refid="_se_ptl___b_l_s___to___m_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
      </node>
      <node id="31722">
        <label>RandomName_table.hpp</label>
        <link refid="_random_name__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31675">
        <label>SeDBDefine.h</label>
        <link refid="_se_d_b_define_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31762">
        <label>SeResMgr.h</label>
        <link refid="_match_server_2_src_2_se_res_mgr_8h"/>
        <childnode refid="31688" relation="include">
        </childnode>
        <childnode refid="31662" relation="include">
        </childnode>
      </node>
      <node id="31764">
        <label>SeTimer.h</label>
        <link refid="_se_timer_8h"/>
      </node>
      <node id="31740">
        <label>MapShopRes_table.hpp</label>
        <link refid="_map_shop_res__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31716">
        <label>chance_table.hpp</label>
        <link refid="_chance__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31782">
        <label>SeOpenRoomMgrDef.h</label>
        <link refid="_src_2_se_open_room_mgr_def_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31662" relation="include">
        </childnode>
        <childnode refid="31764" relation="include">
        </childnode>
      </node>
      <node id="31629">
        <label>stdlib.h</label>
      </node>
      <node id="31661">
        <label>EsLock.h</label>
      </node>
      <node id="31682">
        <label>SeTownMgr.h</label>
        <link refid="_match_server_2_src_2_se_town_mgr_8h"/>
        <childnode refid="31683" relation="include">
        </childnode>
      </node>
      <node id="31691">
        <label>Unit_table.hpp</label>
        <link refid="_unit__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31774">
        <label>SeRMProcess.inl</label>
        <link refid="_se_r_m_process_8inl"/>
      </node>
      <node id="31707">
        <label>RenJiCustomData_table.hpp</label>
        <link refid="_ren_ji_custom_data__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31715">
        <label>Dress_table.hpp</label>
        <link refid="_dress__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31633">
        <label>cmath</label>
      </node>
      <node id="31738">
        <label>AvatarEffect_table.hpp</label>
        <link refid="_avatar_effect__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31743">
        <label>MapMisc_table.hpp</label>
        <link refid="_map_misc__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31747">
        <label>UpgradeCost_table.hpp</label>
        <link refid="_upgrade_cost__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31760">
        <label>VideoTag_table.hpp</label>
        <link refid="_video_tag__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31705">
        <label>RenJiActions_table.hpp</label>
        <link refid="_ren_ji_actions__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31690">
        <label>SeTableResBase.h</label>
        <link refid="_se_table_res_base_8h"/>
        <childnode refid="31644" relation="include">
        </childnode>
      </node>
      <node id="31642">
        <label>string</label>
      </node>
      <node id="31670">
        <label>SePtl_HS_To_HS.h</label>
        <link refid="_se_ptl___h_s___to___h_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31749">
        <label>AppendSkill_table.hpp</label>
        <link refid="_append_skill__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31646">
        <label>map</label>
      </node>
      <node id="31678">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="31679" relation="include">
        </childnode>
        <childnode refid="31635" relation="include">
        </childnode>
        <childnode refid="31661" relation="include">
        </childnode>
      </node>
      <node id="31628">
        <label>conio.h</label>
      </node>
      <node id="31706">
        <label>RenJiConditions_table.hpp</label>
        <link refid="_ren_ji_conditions__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31658">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="31677">
        <label>SePtl_MS_To_NS.h</label>
        <link refid="_se_ptl___m_s___to___n_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31676">
        <label>SePtl_NS_To_MS.h</label>
        <link refid="_se_ptl___n_s___to___m_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31748">
        <label>Decompose_table.hpp</label>
        <link refid="_decompose__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31702">
        <label>ItemExchange_table.hpp</label>
        <link refid="_item_exchange__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31734">
        <label>HeroInfo_table.hpp</label>
        <link refid="_hero_info__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31627">
        <label>direct.h</label>
      </node>
      <node id="31783">
        <label>SingletonDef.h</label>
        <link refid="_singleton_def_8h"/>
      </node>
      <node id="31686">
        <label>SeRaceMgrDef.h</label>
        <link refid="_match_server_2_src_2_se_race_mgr_def_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31731">
        <label>GlobalTableMgr.h</label>
        <link refid="_global_table_mgr_8h"/>
        <childnode refid="31732" relation="include">
        </childnode>
        <childnode refid="31694" relation="include">
        </childnode>
        <childnode refid="31692" relation="include">
        </childnode>
        <childnode refid="31697" relation="include">
        </childnode>
        <childnode refid="31691" relation="include">
        </childnode>
        <childnode refid="31695" relation="include">
        </childnode>
        <childnode refid="31727" relation="include">
        </childnode>
        <childnode refid="31728" relation="include">
        </childnode>
        <childnode refid="31730" relation="include">
        </childnode>
        <childnode refid="31733" relation="include">
        </childnode>
        <childnode refid="31734" relation="include">
        </childnode>
        <childnode refid="31735" relation="include">
        </childnode>
        <childnode refid="31736" relation="include">
        </childnode>
        <childnode refid="31737" relation="include">
        </childnode>
        <childnode refid="31738" relation="include">
        </childnode>
        <childnode refid="31693" relation="include">
        </childnode>
        <childnode refid="31739" relation="include">
        </childnode>
        <childnode refid="31720" relation="include">
        </childnode>
        <childnode refid="31740" relation="include">
        </childnode>
        <childnode refid="31741" relation="include">
        </childnode>
        <childnode refid="31742" relation="include">
        </childnode>
        <childnode refid="31729" relation="include">
        </childnode>
        <childnode refid="31743" relation="include">
        </childnode>
        <childnode refid="31744" relation="include">
        </childnode>
        <childnode refid="31699" relation="include">
        </childnode>
        <childnode refid="31745" relation="include">
        </childnode>
        <childnode refid="31746" relation="include">
        </childnode>
        <childnode refid="31747" relation="include">
        </childnode>
        <childnode refid="31748" relation="include">
        </childnode>
        <childnode refid="31749" relation="include">
        </childnode>
        <childnode refid="31703" relation="include">
        </childnode>
        <childnode refid="31701" relation="include">
        </childnode>
        <childnode refid="31750" relation="include">
        </childnode>
        <childnode refid="31751" relation="include">
        </childnode>
        <childnode refid="31752" relation="include">
        </childnode>
        <childnode refid="31753" relation="include">
        </childnode>
        <childnode refid="31716" relation="include">
        </childnode>
        <childnode refid="31754" relation="include">
        </childnode>
      </node>
      <node id="31729">
        <label>BattleTips_table.hpp</label>
        <link refid="_battle_tips__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31711">
        <label>TaskInfo_table.hpp</label>
        <link refid="_task_info__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31752">
        <label>Propaganda_table.hpp</label>
        <link refid="_propaganda__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31744">
        <label>MapsInfo_table.hpp</label>
        <link refid="_maps_info__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31640">
        <label>fstream</label>
      </node>
      <node id="31785">
        <label>MatchBanMgr.h</label>
        <link refid="_src_2_match_ban_mgr_8h"/>
        <childnode refid="31637" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31766" relation="include">
        </childnode>
      </node>
      <node id="31653">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31623" relation="include">
        </childnode>
        <childnode refid="31654" relation="include">
        </childnode>
        <childnode refid="31655" relation="include">
        </childnode>
        <childnode refid="31637" relation="include">
        </childnode>
        <childnode refid="31656" relation="include">
        </childnode>
      </node>
      <node id="31680">
        <label>SeRandNum.h</label>
        <link refid="_se_rand_num_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
      </node>
      <node id="31625">
        <label>winsock2.h</label>
      </node>
      <node id="31726">
        <label>SearchChoice_table.hpp</label>
        <link refid="_search_choice__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31750">
        <label>AcSystem_table.hpp</label>
        <link refid="_ac_system__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31781">
        <label>SeOpenRoomMgr.h</label>
        <link refid="_src_2_se_open_room_mgr_8h"/>
        <childnode refid="31782" relation="include">
        </childnode>
        <childnode refid="31783" relation="include">
        </childnode>
        <childnode refid="31688" relation="include">
        </childnode>
      </node>
      <node id="31701">
        <label>ModelRes_table.hpp</label>
        <link refid="_model_res__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31699">
        <label>TownItem_table.hpp</label>
        <link refid="_town_item__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31681">
        <label>SeServerMainDef.h</label>
        <link refid="_se_server_main_def_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
      </node>
      <node id="31655">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="31636" relation="include">
        </childnode>
      </node>
      <node id="31778">
        <label>SeBLMProcess.inl</label>
        <link refid="_se_b_l_m_process_8inl"/>
      </node>
      <node id="31759">
        <label>CreepTowerGrowth_table.hpp</label>
        <link refid="_creep_tower_growth__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31689">
        <label>Addtional_table.hpp</label>
        <link refid="_addtional__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31669">
        <label>SePtl_MS_To_RS.h</label>
        <link refid="_se_ptl___m_s___to___r_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31668">
        <label>SePtl_RS_To_MS.h</label>
        <link refid="_se_ptl___r_s___to___m_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31665">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="31623" relation="include">
        </childnode>
        <childnode refid="31663" relation="include">
        </childnode>
        <childnode refid="31653" relation="include">
        </childnode>
      </node>
      <node id="31757">
        <label>AttackArmorRatio_table.hpp</label>
        <link refid="_attack_armor_ratio__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31692">
        <label>Skill_table.hpp</label>
        <link refid="_skill__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31636">
        <label>string.h</label>
      </node>
      <node id="31742">
        <label>Level_table.hpp</label>
        <link refid="_level__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31622">
        <label>SeConfig.h</label>
        <link refid="_se_config_8h"/>
        <childnode refid="31623" relation="include">
        </childnode>
      </node>
      <node id="31634">
        <label>ctime</label>
      </node>
      <node id="31720">
        <label>Voice_table.hpp</label>
        <link refid="_voice__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31688">
        <label>TableMgr.h</label>
        <link refid="_table_mgr_8h"/>
        <childnode refid="31689" relation="include">
        </childnode>
        <childnode refid="31691" relation="include">
        </childnode>
        <childnode refid="31692" relation="include">
        </childnode>
        <childnode refid="31693" relation="include">
        </childnode>
        <childnode refid="31694" relation="include">
        </childnode>
        <childnode refid="31695" relation="include">
        </childnode>
        <childnode refid="31696" relation="include">
        </childnode>
        <childnode refid="31697" relation="include">
        </childnode>
        <childnode refid="31698" relation="include">
        </childnode>
        <childnode refid="31699" relation="include">
        </childnode>
        <childnode refid="31700" relation="include">
        </childnode>
        <childnode refid="31701" relation="include">
        </childnode>
        <childnode refid="31702" relation="include">
        </childnode>
        <childnode refid="31703" relation="include">
        </childnode>
        <childnode refid="31704" relation="include">
        </childnode>
        <childnode refid="31705" relation="include">
        </childnode>
        <childnode refid="31706" relation="include">
        </childnode>
        <childnode refid="31707" relation="include">
        </childnode>
        <childnode refid="31708" relation="include">
        </childnode>
        <childnode refid="31709" relation="include">
        </childnode>
        <childnode refid="31710" relation="include">
        </childnode>
        <childnode refid="31711" relation="include">
        </childnode>
        <childnode refid="31712" relation="include">
        </childnode>
        <childnode refid="31713" relation="include">
        </childnode>
        <childnode refid="31714" relation="include">
        </childnode>
        <childnode refid="31715" relation="include">
        </childnode>
        <childnode refid="31716" relation="include">
        </childnode>
        <childnode refid="31717" relation="include">
        </childnode>
        <childnode refid="31718" relation="include">
        </childnode>
        <childnode refid="31719" relation="include">
        </childnode>
        <childnode refid="31720" relation="include">
        </childnode>
        <childnode refid="31721" relation="include">
        </childnode>
        <childnode refid="31722" relation="include">
        </childnode>
        <childnode refid="31723" relation="include">
        </childnode>
        <childnode refid="31724" relation="include">
        </childnode>
        <childnode refid="31644" relation="include">
        </childnode>
        <childnode refid="31725" relation="include">
        </childnode>
        <childnode refid="31726" relation="include">
        </childnode>
        <childnode refid="31727" relation="include">
        </childnode>
        <childnode refid="31728" relation="include">
        </childnode>
        <childnode refid="31729" relation="include">
        </childnode>
        <childnode refid="31730" relation="include">
        </childnode>
        <childnode refid="31731" relation="include">
        </childnode>
        <childnode refid="31739" relation="include">
        </childnode>
        <childnode refid="31733" relation="include">
        </childnode>
        <childnode refid="31734" relation="include">
        </childnode>
        <childnode refid="31736" relation="include">
        </childnode>
        <childnode refid="31755" relation="include">
        </childnode>
        <childnode refid="31738" relation="include">
        </childnode>
        <childnode refid="31737" relation="include">
        </childnode>
        <childnode refid="31756" relation="include">
        </childnode>
        <childnode refid="31735" relation="include">
        </childnode>
        <childnode refid="31740" relation="include">
        </childnode>
        <childnode refid="31742" relation="include">
        </childnode>
        <childnode refid="31757" relation="include">
        </childnode>
        <childnode refid="31741" relation="include">
        </childnode>
        <childnode refid="31758" relation="include">
        </childnode>
        <childnode refid="31759" relation="include">
        </childnode>
        <childnode refid="31745" relation="include">
        </childnode>
        <childnode refid="31749" relation="include">
        </childnode>
        <childnode refid="31760" relation="include">
        </childnode>
        <childnode refid="31750" relation="include">
        </childnode>
        <childnode refid="31751" relation="include">
        </childnode>
        <childnode refid="31752" relation="include">
        </childnode>
        <childnode refid="31753" relation="include">
        </childnode>
        <childnode refid="31761" relation="include">
        </childnode>
      </node>
      <node id="31663">
        <label>TeNetMgr.h</label>
      </node>
      <node id="31644">
        <label>vector</label>
      </node>
      <node id="31723">
        <label>TableMgrDef.h</label>
        <link refid="_table_mgr_def_8h"/>
        <childnode refid="31644" relation="include">
        </childnode>
        <childnode refid="31647" relation="include">
        </childnode>
      </node>
      <node id="31767">
        <label>MobaApi.hpp</label>
        <link refid="_moba_api_8hpp"/>
      </node>
      <node id="31694">
        <label>MapInfo_table.hpp</label>
        <link refid="_map_info__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31693">
        <label>Buffer_table.hpp</label>
        <link refid="_buffer__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31769">
        <label>SeMRSend.inl</label>
        <link refid="_se_m_r_send_8inl"/>
      </node>
      <node id="31736">
        <label>Avatar_table.hpp</label>
        <link refid="_avatar__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31650">
        <label>new</label>
      </node>
      <node id="31621">
        <label>MatchServer.h</label>
        <link refid="_src_2_match_server_8h"/>
        <childnode refid="31622" relation="include">
        </childnode>
        <childnode refid="31652" relation="include">
        </childnode>
        <childnode refid="31662" relation="include">
        </childnode>
        <childnode refid="31678" relation="include">
        </childnode>
        <childnode refid="31680" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31681" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31682" relation="include">
        </childnode>
        <childnode refid="31684" relation="include">
        </childnode>
        <childnode refid="31686" relation="include">
        </childnode>
        <childnode refid="31687" relation="include">
        </childnode>
        <childnode refid="31688" relation="include">
        </childnode>
        <childnode refid="31762" relation="include">
        </childnode>
        <childnode refid="31763" relation="include">
        </childnode>
        <childnode refid="31659" relation="include">
        </childnode>
        <childnode refid="31765" relation="include">
        </childnode>
        <childnode refid="31768" relation="include">
        </childnode>
        <childnode refid="31769" relation="include">
        </childnode>
        <childnode refid="31770" relation="include">
        </childnode>
        <childnode refid="31771" relation="include">
        </childnode>
        <childnode refid="31772" relation="include">
        </childnode>
        <childnode refid="31773" relation="include">
        </childnode>
        <childnode refid="31774" relation="include">
        </childnode>
        <childnode refid="31775" relation="include">
        </childnode>
        <childnode refid="31776" relation="include">
        </childnode>
        <childnode refid="31777" relation="include">
        </childnode>
        <childnode refid="31778" relation="include">
        </childnode>
        <childnode refid="31779" relation="include">
        </childnode>
        <childnode refid="31780" relation="include">
        </childnode>
      </node>
      <node id="31657">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31623" relation="include">
        </childnode>
        <childnode refid="31653" relation="include">
        </childnode>
        <childnode refid="31658" relation="include">
        </childnode>
        <childnode refid="31659" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
      </node>
      <node id="31623">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
      </node>
      <node id="31641">
        <label>sstream</label>
      </node>
      <node id="31727">
        <label>ItemCompose_table.hpp</label>
        <link refid="_item_compose__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31656">
        <label>EsString.h</label>
      </node>
      <node id="31709">
        <label>Indexoffer_table.hpp</label>
        <link refid="_indexoffer__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31763">
        <label>SeVirtConnMgr.h</label>
        <link refid="_se_virt_conn_mgr_8h"/>
        <childnode refid="31623" relation="include">
        </childnode>
        <childnode refid="31663" relation="include">
        </childnode>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31764" relation="include">
        </childnode>
      </node>
      <node id="31703">
        <label>Rack_table.hpp</label>
        <link refid="_rack__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31772">
        <label>SeHttpProcess.inl</label>
        <link refid="_match_server_2_src_2_se_http_process_8inl"/>
      </node>
      <node id="31624">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="31625" relation="include">
        </childnode>
        <childnode refid="31626" relation="include">
        </childnode>
        <childnode refid="31627" relation="include">
        </childnode>
        <childnode refid="31628" relation="include">
        </childnode>
        <childnode refid="31629" relation="include">
        </childnode>
        <childnode refid="31630" relation="include">
        </childnode>
        <childnode refid="31631" relation="include">
        </childnode>
        <childnode refid="31632" relation="include">
        </childnode>
        <childnode refid="31633" relation="include">
        </childnode>
        <childnode refid="31634" relation="include">
        </childnode>
        <childnode refid="31635" relation="include">
        </childnode>
        <childnode refid="31636" relation="include">
        </childnode>
        <childnode refid="31637" relation="include">
        </childnode>
        <childnode refid="31638" relation="include">
        </childnode>
        <childnode refid="31639" relation="include">
        </childnode>
        <childnode refid="31640" relation="include">
        </childnode>
        <childnode refid="31641" relation="include">
        </childnode>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31643" relation="include">
        </childnode>
        <childnode refid="31644" relation="include">
        </childnode>
        <childnode refid="31645" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31647" relation="include">
        </childnode>
        <childnode refid="31648" relation="include">
        </childnode>
        <childnode refid="31649" relation="include">
        </childnode>
        <childnode refid="31650" relation="include">
        </childnode>
        <childnode refid="31651" relation="include">
        </childnode>
      </node>
      <node id="31679">
        <label>time.h</label>
      </node>
      <node id="31630">
        <label>math.h</label>
      </node>
      <node id="31728">
        <label>PresetShop_table.hpp</label>
        <link refid="_preset_shop__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31717">
        <label>Language_table.hpp</label>
        <link refid="_language__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31664">
        <label>SeSynMgr.h</label>
        <link refid="_se_syn_mgr_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
      </node>
      <node id="31637">
        <label>EsType.h</label>
      </node>
      <node id="31746">
        <label>AppendCost_table.hpp</label>
        <link refid="_append_cost__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31708">
        <label>RaceText_table.hpp</label>
        <link refid="_race_text__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31632">
        <label>cctype</label>
      </node>
      <node id="31654">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="31779">
        <label>SeMNSend.inl</label>
        <link refid="_se_m_n_send_8inl"/>
      </node>
      <node id="31710">
        <label>UnitHeadArea_table.hpp</label>
        <link refid="_unit_head_area__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31751">
        <label>RankStage_table.hpp</label>
        <link refid="_rank_stage__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31766">
        <label>utils/Clock.hpp</label>
        <link refid="_clock_8hpp"/>
        <childnode refid="31661" relation="include">
        </childnode>
        <childnode refid="31679" relation="include">
        </childnode>
        <childnode refid="31767" relation="include">
        </childnode>
      </node>
      <node id="31754">
        <label>MissionInfo_table.hpp</label>
        <link refid="_mission_info__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31741">
        <label>ChoiceItem_table.hpp</label>
        <link refid="_choice_item__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31737">
        <label>AvatarModel_table.hpp</label>
        <link refid="_avatar_model__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31647">
        <label>unordered_map</label>
      </node>
      <node id="31683">
        <label>SeTownMgrDef.h</label>
        <link refid="_match_server_2_src_2_se_town_mgr_def_8h"/>
        <childnode refid="31662" relation="include">
        </childnode>
      </node>
      <node id="31730">
        <label>Shop_table.hpp</label>
        <link refid="_shop__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31651">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="31718">
        <label>StarWheel_table.hpp</label>
        <link refid="_star_wheel__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31696">
        <label>Racedrop_table.hpp</label>
        <link refid="_racedrop__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31765">
        <label>SeMatchMgr.h</label>
        <link refid="_src_2_se_match_mgr_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31659" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31683" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31686" relation="include">
        </childnode>
        <childnode refid="31766" relation="include">
        </childnode>
      </node>
      <node id="31775">
        <label>SeMWSend.inl</label>
        <link refid="_se_m_w_send_8inl"/>
      </node>
      <node id="31755">
        <label>AvatarAnimation_table.hpp</label>
        <link refid="_avatar_animation__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31652">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31653" relation="include">
        </childnode>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31667">
        <label>SePtl_MS_To_TS.h</label>
        <link refid="_se_ptl___m_s___to___t_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31666">
        <label>SePtl_TS_To_MS.h</label>
        <link refid="_se_ptl___t_s___to___m_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
      </node>
      <node id="31704">
        <label>RenJi_table.hpp</label>
        <link refid="_ren_ji__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31712">
        <label>TaskRecom_table.hpp</label>
        <link refid="_task_recom__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31620">
        <label>MatchServer/Src/MatchServer.cpp</label>
        <link refid="Src/MatchServer.cpp"/>
        <childnode refid="31621" relation="include">
        </childnode>
        <childnode refid="31781" relation="include">
        </childnode>
        <childnode refid="31784" relation="include">
        </childnode>
        <childnode refid="31785" relation="include">
        </childnode>
        <childnode refid="31786" relation="include">
        </childnode>
        <childnode refid="31787" relation="include">
        </childnode>
      </node>
      <node id="31695">
        <label>Item_table.hpp</label>
        <link refid="_item__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31648" relation="include">
        </childnode>
        <childnode refid="31644" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31756">
        <label>AvatarShop_table.hpp</label>
        <link refid="_avatar_shop__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31687">
        <label>SeRaceQueryMgrDef.h</label>
        <link refid="_src_2_se_race_query_mgr_def_8h"/>
        <childnode refid="31624" relation="include">
        </childnode>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31686" relation="include">
        </childnode>
      </node>
      <node id="31719">
        <label>LeagueRank_table.hpp</label>
        <link refid="_league_rank__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31714">
        <label>Horse_table.hpp</label>
        <link refid="_horse__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31777">
        <label>SeMBLSend.inl</label>
        <link refid="_se_m_b_l_send_8inl"/>
      </node>
      <node id="31771">
        <label>SeHttpSend.inl</label>
        <link refid="_match_server_2_src_2_se_http_send_8inl"/>
      </node>
      <node id="31662">
        <label>MatchServerDef.h</label>
        <link refid="_src_2_match_server_def_8h"/>
        <childnode refid="31623" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31663" relation="include">
        </childnode>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31664" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31666" relation="include">
        </childnode>
        <childnode refid="31667" relation="include">
        </childnode>
        <childnode refid="31668" relation="include">
        </childnode>
        <childnode refid="31669" relation="include">
        </childnode>
        <childnode refid="31670" relation="include">
        </childnode>
        <childnode refid="31671" relation="include">
        </childnode>
        <childnode refid="31672" relation="include">
        </childnode>
        <childnode refid="31673" relation="include">
        </childnode>
        <childnode refid="31674" relation="include">
        </childnode>
        <childnode refid="31676" relation="include">
        </childnode>
        <childnode refid="31677" relation="include">
        </childnode>
      </node>
      <node id="31735">
        <label>Achievement_table.hpp</label>
        <link refid="_achievement__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31648">
        <label>set</label>
      </node>
      <node id="31721">
        <label>TableLoader.h</label>
        <link refid="_table_loader_8h"/>
      </node>
      <node id="31739">
        <label>SkillTips_table.hpp</label>
        <link refid="_skill_tips__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31648" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31784">
        <label>MatchPrepareMgr.h</label>
        <link refid="_src_2_match_prepare_mgr_8h"/>
        <childnode refid="31637" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31645" relation="include">
        </childnode>
        <childnode refid="31660" relation="include">
        </childnode>
        <childnode refid="31766" relation="include">
        </childnode>
        <childnode refid="31663" relation="include">
        </childnode>
        <childnode refid="31659" relation="include">
        </childnode>
        <childnode refid="31673" relation="include">
        </childnode>
      </node>
      <node id="31638">
        <label>algorithm</label>
      </node>
      <node id="31780">
        <label>SeNMProcess.inl</label>
        <link refid="_se_n_m_process_8inl"/>
      </node>
      <node id="31724">
        <label>AddtionalFunction.h</label>
        <link refid="_addtional_function_8h"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31689" relation="include">
        </childnode>
      </node>
      <node id="31776">
        <label>SeWMProcess.inl</label>
        <link refid="_se_w_m_process_8inl"/>
      </node>
      <node id="31697">
        <label>SelHero_table.hpp</label>
        <link refid="_sel_hero__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31635">
        <label>stdio.h</label>
      </node>
      <node id="31684">
        <label>SeRaceSvrMgr.h</label>
        <link refid="_src_2_se_race_svr_mgr_8h"/>
        <childnode refid="31685" relation="include">
        </childnode>
      </node>
      <node id="31698">
        <label>AI_table.hpp</label>
        <link refid="_a_i__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31685">
        <label>SeRaceSvrMgrDef.h</label>
        <link refid="_src_2_se_race_svr_mgr_def_8h"/>
        <childnode refid="31662" relation="include">
        </childnode>
      </node>
      <node id="31786">
        <label>SeRaceQueryMgr.h</label>
        <link refid="_src_2_se_race_query_mgr_8h"/>
        <childnode refid="31687" relation="include">
        </childnode>
        <childnode refid="31668" relation="include">
        </childnode>
      </node>
      <node id="31733">
        <label>SystemPrompt_table.hpp</label>
        <link refid="_system_prompt__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31745">
        <label>Strengthen_table.hpp</label>
        <link refid="_strengthen__table_8hpp"/>
        <childnode refid="31642" relation="include">
        </childnode>
        <childnode refid="31646" relation="include">
        </childnode>
        <childnode refid="31690" relation="include">
        </childnode>
      </node>
      <node id="31674">
        <label>SePtl_MS_To_BLS.h</label>
        <link refid="_se_ptl___m_s___to___b_l_s_8h"/>
        <childnode refid="31657" relation="include">
        </childnode>
        <childnode refid="31665" relation="include">
        </childnode>
        <childnode refid="31675" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_src_2_match_server_8cpp_1a8cda133bd40d3d26860bac54ea3443be" prot="public" static="no">
        <name>TIMEOUT_EXEC</name>
        <param><defname>name</defname></param>
        <param><defname>gap</defname></param>
        <param><defname>fun</defname></param>
        <initializer>static <ref refid="namespacemoba_1a2ea02b3d6b0984234e33fb9fe56fbdc5" kindref="member">moba::TimeType</ref>  timer_##name = <ref refid="classmoba_1_1_clock_1a029b72699ef2168d7429c114bfa856dd" kindref="member">moba::Clock::getInstance</ref>().getMilliSeconds();	\
if(<ref refid="classmoba_1_1_clock_1a029b72699ef2168d7429c114bfa856dd" kindref="member">moba::Clock::getInstance</ref>().getMilliSeconds() &gt;= timer_##name + gap)		\
{												\
	fun(gap);									\
	timer_##name += gap;						\
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="284" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="284" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bf" prot="public" static="no">
        <name>TIMER_KIND</name>
        <enumvalue id="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa042d324d3887dbd17e30e046ce15c229" prot="public">
          <name>TIMER_KIND_MATCH</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa127931d56d0f5f32a4d58f58520902b5" prot="public">
          <name>TIMER_KIND_WAITROOM</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa042d324d3887dbd17e30e046ce15c229" prot="public">
          <name>TIMER_KIND_MATCH</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa127931d56d0f5f32a4d58f58520902b5" prot="public">
          <name>TIMER_KIND_WAITROOM</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_src_2_world_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa8d6d46843f19fbcba21f21cdcb54245d" prot="public">
          <name>TIMER_KIND_SHOP</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_src_2_world_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfaee616840ec6dc595b23d3362f490c04b" prot="public">
          <name>TIMER_KIND_ITEM_SAVE</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="src_2_world_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa8d6d46843f19fbcba21f21cdcb54245d" prot="public">
          <name>TIMER_KIND_SHOP</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="src_2_world_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfaee616840ec6dc595b23d3362f490c04b" prot="public">
          <name>TIMER_KIND_ITEM_SAVE</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="279" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="278" bodyend="282"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" prot="public" static="no" mutable="no">
        <type><ref refid="class_match_server" kindref="compound">MatchServer</ref></type>
        <definition>MatchServer g_kMatchServer</definition>
        <argsstring></argsstring>
        <name>g_kMatchServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="8" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="8" bodyend="-1"/>
        <referencedby refid="class_se_match_mgr_1a8d0caf15f9478fb8580a074284e66b58" compoundref="_src_2_se_match_mgr_8cpp" startline="744" endline="808">SeMatchMgr::addWaitRoom</referencedby>
        <referencedby refid="class_match_ban_mgr_1a5d889629515e43ad143878aaeb64e296" compoundref="_src_2_match_ban_mgr_8cpp" startline="47" endline="61">MatchBanMgr::banPlayer</referencedby>
        <referencedby refid="class_se_race_mgr_1a1cf22374cc014113c7dd7c09a73ac19a" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="145" endline="154">SeRaceMgr::CreatEmptyRace</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a0bc3adef953bd40ba03a0ab721738962" compoundref="_src_2_se_open_room_mgr_8cpp" startline="923" endline="1012">SeOpenRoomMgr::CreateRaceInfo</referencedby>
        <referencedby refid="class_se_race_mgr_1a555f6464f6b7113ca16fbe22555faa9f" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="968" endline="996">SeRaceMgr::DoRaceOver</referencedby>
        <referencedby refid="class_se_race_svr_mgr_1afbc882fcb1d1600b4049e95eaf5bb5be" compoundref="_src_2_se_race_svr_mgr_8cpp" startline="112" endline="186">SeRaceSvrMgr::GetBestNormalRaceSvr</referencedby>
        <referencedby refid="class_se_race_query_mgr_1ae2b72192e31b8a68b0d9c68f5efce7ca" compoundref="_src_2_se_race_query_mgr_8cpp" startline="329" endline="357">SeRaceQueryMgr::GetRoomFun</referencedby>
        <referencedby refid="class_se_match_mgr_1ac4e1f79cc61e7824b61e655524c89d4f" compoundref="_src_2_se_match_mgr_8cpp" startline="635" endline="742">SeMatchMgr::match</referencedby>
        <referencedby refid="class_se_race_mgr_1af4493ec425bebc0a9343fe600a5d863e" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="846" endline="875">SeRaceMgr::OnBiVoiceCreateRoom</referencedby>
        <referencedby refid="class_se_match_mgr_1a565ced66e5b6e7edb32cf98fbc448e65" compoundref="_src_2_se_match_mgr_8cpp" startline="413" endline="480">SeMatchMgr::OnConfirm</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a864ad73adcf4df7d2d3a7a11960d228c" compoundref="_src_2_se_open_room_mgr_8cpp" startline="101" endline="201">SeOpenRoomMgr::OnCreateRoom</referencedby>
        <referencedby refid="class_match_prepare_mgr_1acb9775ed6f51b7cbbc876c65c9908f88" compoundref="_src_2_match_prepare_mgr_8cpp" startline="93" endline="132">MatchPrepareMgr::onDataResult</referencedby>
        <referencedby refid="class_se_match_mgr_1a1e1a9e8cbb2f52a7f099edfd11f71b9c" compoundref="_src_2_se_match_mgr_8cpp" startline="334" endline="357">SeMatchMgr::OnMatchCancel</referencedby>
        <referencedby refid="class_match_prepare_mgr_1ad0171f6ed832766ea8462cb3299b4de0" compoundref="_src_2_match_prepare_mgr_8cpp" startline="134" endline="148">MatchPrepareMgr::OnPlayerLeave</referencedby>
        <referencedby refid="class_se_race_query_mgr_1ad90c16ba78f123bdee61b91699dc115f" compoundref="_src_2_se_race_query_mgr_8cpp" startline="100" endline="110">SeRaceQueryMgr::OnPlayerQueryRoomList</referencedby>
        <referencedby refid="class_se_race_mgr_1a5e909ffab780d9d8193107c875cc1ef9" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="764" endline="787">SeRaceMgr::OnProcessAddIncompleteRace</referencedby>
        <referencedby refid="class_se_race_mgr_1a5a38c592cc990a8049a08f87512860d5" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="432" endline="483">SeRaceMgr::OnProcessCommRaceMsg</referencedby>
        <referencedby refid="class_se_race_mgr_1a9f0dc9d2ca549de472fe4ca915ad1642" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="672" endline="696">SeRaceMgr::OnProcessMatchRaceLoad</referencedby>
        <referencedby refid="class_se_race_mgr_1ab70d7cfd8f3f04643db17117e842c4cd" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="698" endline="724">SeRaceMgr::OnProcessRaceBuy</referencedby>
        <referencedby refid="class_se_race_mgr_1a1f8b9e3b0043002176ad9cd33b69afc1" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="726" endline="739">SeRaceMgr::OnProcessRaceBuyRet</referencedby>
        <referencedby refid="class_se_race_mgr_1a883a0435bb8fb11955f93d6e3214f373" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="384" endline="430">SeRaceMgr::OnProcessRaceEndGuanqia</referencedby>
        <referencedby refid="class_se_race_mgr_1a0694b0603edde7b9a9ca3cb04d12dfbd" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="334" endline="382">SeRaceMgr::OnProcessRaceEndReport</referencedby>
        <referencedby refid="class_se_race_mgr_1abbb52196d0a28be23f351a8fa148695b" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="815" endline="828">SeRaceMgr::OnProcessReconPlayerName</referencedby>
        <referencedby refid="class_se_race_mgr_1a5ad018a80d073711ef0832d34ed93550" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="202" endline="216">SeRaceMgr::OnProcessReconQuery</referencedby>
        <referencedby refid="class_se_race_mgr_1a19038a3183d29249b81dd4110db567f1" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="485" endline="509">SeRaceMgr::OnProcessReconQuerySuccess</referencedby>
        <referencedby refid="class_se_race_mgr_1acf3cbf4e4445c515d1c82f342245447c" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="567" endline="609">SeRaceMgr::OnProcessReconViewValid</referencedby>
        <referencedby refid="class_se_race_mgr_1a81d87e41081d3d73d69f6ca9c04301e7" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="611" endline="670">SeRaceMgr::OnProcessReloadRoomList</referencedby>
        <referencedby refid="class_se_race_mgr_1ace94e8eda413a3dc4ec9424a8d49fde5" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="293" endline="332">SeRaceMgr::OnProcessUpdateMisc</referencedby>
        <referencedby refid="class_se_race_mgr_1ad1148f9b642dd42adf497575c5b73040" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="244" endline="291">SeRaceMgr::OnProcessValidateInfoRet</referencedby>
        <referencedby refid="class_se_race_mgr_1a75b9922a0ef07db529d63652679dc05c" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="218" endline="242">SeRaceMgr::OnProcessViewQuery</referencedby>
        <referencedby refid="class_se_race_mgr_1a41cde4726b8109dc2c4bc4d622ebc659" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="511" endline="565">SeRaceMgr::OnProcessViewQuerySuccess</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a08709876dc544b12083e8e74c8a03265" compoundref="_src_2_se_open_room_mgr_8cpp" startline="258" endline="289">SeOpenRoomMgr::OnQueryRoomList</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a51a9bdceae3cbbd0f6b80fb30384d0ca" compoundref="_src_2_se_open_room_mgr_8cpp" startline="763" endline="831">SeOpenRoomMgr::OnRoomInvite</referencedby>
        <referencedby refid="class_se_open_room_mgr_1addfded1afe02cbeb4fa1692fd1fd0931" compoundref="_src_2_se_open_room_mgr_8cpp" startline="833" endline="905">SeOpenRoomMgr::OnRoomInviteRspOk</referencedby>
        <referencedby refid="class_se_open_room_mgr_1afe2195e6282fc0d6b2f1260574537119" compoundref="_src_2_se_open_room_mgr_8cpp" startline="377" endline="455">SeOpenRoomMgr::OnRoomJoin</referencedby>
        <referencedby refid="class_se_open_room_mgr_1ad4834862a9ab46461087c42731178ac9" compoundref="_src_2_se_open_room_mgr_8cpp" startline="639" endline="761">SeOpenRoomMgr::OnRoomKickSomeone</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a6cd5fe6c1707728a799bf4257851006a" compoundref="_src_2_se_open_room_mgr_8cpp" startline="457" endline="571">SeOpenRoomMgr::OnRoomLeave</referencedby>
        <referencedby refid="class_se_open_room_mgr_1ab755853f93f32227d5ce55fd9b9a5cff" compoundref="_src_2_se_open_room_mgr_8cpp" startline="573" endline="637">SeOpenRoomMgr::OnRoomSwitchSeat</referencedby>
        <referencedby refid="class_se_race_svr_mgr_1a5e99c42409521b7e03bce07e2d387204" compoundref="_src_2_se_race_svr_mgr_8cpp" startline="87" endline="99">SeRaceSvrMgr::OnRSUpdateLoadNum</referencedby>
        <referencedby refid="class_match_server_1ae7f1e7cc16a32052412bf0084955b9b3" compoundref="_src_2_se_match_other_8cpp" startline="70" endline="91">MatchServer::OnSendTSQueryRoomListRet</referencedby>
        <referencedby refid="class_se_town_mgr_1a430e379437172790d7d3ed40f45239f1" compoundref="_match_server_2_src_2_se_town_mgr_8cpp" startline="77" endline="89">SeTownMgr::OnTSUpdateLoadNum</referencedby>
        <referencedby refid="class_se_match_mgr_1a6252d5e57e70815a9e9f294239dd35ec" compoundref="_src_2_se_match_mgr_8cpp" startline="117" endline="163">SeMatchMgr::openRoom</referencedby>
        <referencedby refid="class_match_server_1a931e9c44b4f99f2dbf0a94703d783687" compoundref="_src_2_se_r_m_process_8cpp" startline="182" endline="193">MatchServer::ProcessRM_ViewQueryFail</referencedby>
        <referencedby refid="class_se_race_mgr_1a110c81b7444d524500f527f553a661a5" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="998" endline="1077">SeRaceMgr::RaceUpdate</referencedby>
        <referencedby refid="class_se_race_query_mgr_1af4d6bcf530c772872ef09969c5b7af4d" compoundref="_src_2_se_race_query_mgr_8cpp" startline="448" endline="475">SeRaceQueryMgr::RoomFilter</referencedby>
        <referencedby refid="class_se_race_mgr_1a51dd9494f018279ef23edbf579d0b525" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="906" endline="966">SeRaceMgr::SendMatchAddrMsg</referencedby>
        <referencedby refid="class_se_race_mgr_1aed313cc17a805bea5daeb0366013bae6" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="877" endline="904">SeRaceMgr::SendMatchCommMsg</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a7679e6c1a97835b295397465fea98a17" compoundref="_src_2_se_open_room_mgr_8cpp" startline="316" endline="330">SeOpenRoomMgr::SendRoomJoinRet</referencedby>
        <referencedby refid="class_se_open_room_mgr_1a9cf75400b57dac78c98384490b6b5dcd" compoundref="_src_2_se_open_room_mgr_8cpp" startline="333" endline="361">SeOpenRoomMgr::SendRoomNotify</referencedby>
        <referencedby refid="struct_se_open_room_1ab636757c6fb6d239e1d47218d441ce1f" compoundref="_src_2_se_open_room_mgr_8cpp" startline="12" endline="26">SeOpenRoom::SeOpenRoom</referencedby>
        <referencedby refid="class_se_open_room_mgr_1aa1945212f27dea724d46dffc70aba503" compoundref="_src_2_se_open_room_mgr_8cpp" startline="1014" endline="1022">SeOpenRoomMgr::StartMatch</referencedby>
        <referencedby refid="class_match_prepare_mgr_1a214f9df4c7cc2209d74be6e1ef5ec445" compoundref="_src_2_match_prepare_mgr_8cpp" startline="67" endline="81">MatchPrepareMgr::update</referencedby>
        <referencedby refid="class_se_race_query_mgr_1a24f0d59c98e1e9d3a4fce15206be11a7" compoundref="_src_2_se_race_query_mgr_8cpp" startline="258" endline="279">SeRaceQueryMgr::UpdateMD5VRoom</referencedby>
        <referencedby refid="class_se_match_mgr_1aea13a0ecf1bf7c29349f83822c16e994" compoundref="_src_2_se_match_mgr_8cpp" startline="181" endline="231">SeMatchMgr::UpdateRoom</referencedby>
        <referencedby refid="class_se_race_mgr_1a3af4bb17e10c2cb191f381cea5bff3f4" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="1309" endline="1328">SeRaceMgr::UpdateSvrStaCount</referencedby>
        <referencedby refid="struct_se_match_race_1a904f9f2268bf2c33b8adf615613d34ed" compoundref="_match_server_2_src_2_se_race_mgr_8cpp" startline="26" endline="38">SeMatchRace::~SeMatchRace</referencedby>
      </memberdef>
      <memberdef kind="variable" id="_src_2_match_server_8cpp_1a842dd477472778ad2894948f2fb7cfd9" prot="public" static="no" mutable="no">
        <type><ref refid="class_se_syn_mgr" kindref="compound">SeSynMgr</ref></type>
        <definition>SeSynMgr g_kSynMgr</definition>
        <argsstring></argsstring>
        <name>g_kSynMgr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="9" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="9" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_src_2_match_server_8cpp_1a03595bfee2a55045aa751deab1e562d0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool sendRegPack</definition>
        <argsstring>(int iServerIdx)</argsstring>
        <name>sendRegPack</name>
        <param>
          <type>int</type>
          <declname>iServerIdx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="11" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="11" bodyend="33"/>
        <references refid="class_match_server_1a99b21bca2134cc8c442358c90686ac28" compoundref="_src_2_se_match_other_8cpp" startline="10" endline="13">MatchServer::GetServerID</references>
        <references refid="class_match_server_1a335c1b74a777cc97416962070b7904f6">MatchServer::SendMN_Register</references>
        <references refid="class_match_server_1afc75f98116ada06245198003f0f266b8">MatchServer::SendMW_Register</references>
        <references refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa051b38374860159471f6a78f1167a7eb" compoundref="_se_ptl_comm_define_8h" startline="14">SSD_MSANGO_MAGIC</references>
        <references refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a8accedddcf1ed16f589b79e3f5d7e91b" compoundref="_se_ptl_define_8h" startline="29">SSI_NS</references>
        <references refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ac22c01ccbb196aab5a0eef785eb6ce26" compoundref="_se_ptl_define_8h" startline="15">SSI_WS</references>
        <referencedby refid="class_match_server_1a3f0839420ac96d8b744d28b1e0f779f8" compoundref="_src_2_match_server_8cpp" startline="228" endline="276">MatchServer::Initialize</referencedby>
      </memberdef>
      <memberdef kind="function" id="_src_2_match_server_8cpp_1a1829928f14924b8a97ed00808758de08" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool sendHeartPack</definition>
        <argsstring>(int iServerIdx)</argsstring>
        <name>sendHeartPack</name>
        <param>
          <type>int</type>
          <declname>iServerIdx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" line="35" column="1" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp" bodystart="35" bodyend="57"/>
        <references refid="class_match_server_1a4338e9402d473cb483b557bfd85ca0cf">MatchServer::SendMN_HeartPackage</references>
        <references refid="class_match_server_1a77fbb31a21e9e08e9b36711a7c1b1df9">MatchServer::SendMW_HeartPackage</references>
        <references refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a8accedddcf1ed16f589b79e3f5d7e91b" compoundref="_se_ptl_define_8h" startline="29">SSI_NS</references>
        <references refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ac22c01ccbb196aab5a0eef785eb6ce26" compoundref="_se_ptl_define_8h" startline="15">SSI_WS</references>
        <referencedby refid="class_match_server_1a3f0839420ac96d8b744d28b1e0f779f8" compoundref="_src_2_match_server_8cpp" startline="228" endline="276">MatchServer::Initialize</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_match_server_8h" kindref="compound">MatchServer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_se_open_room_mgr_8h" kindref="compound">SeOpenRoomMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_match_prepare_mgr_8h" kindref="compound">MatchPrepareMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_match_ban_mgr_8h" kindref="compound">MatchBanMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_se_race_query_mgr_8h" kindref="compound">SeRaceQueryMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_match_server_2_src_2_se_race_mgr_8h" kindref="compound">SeRaceMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8" refid="src_2_match_server_8h_1a1cd9d6d0396497f8a9d48e44d672f368" refkind="member"><highlight class="normal"><ref refid="class_match_server" kindref="compound">MatchServer</ref><sp/><ref refid="_src_2_match_server_8cpp_1a1cd9d6d0396497f8a9d48e44d672f368" kindref="member">g_kMatchServer</ref>;</highlight></codeline>
<codeline lineno="9" refid="_src_2_match_server_8cpp_1a842dd477472778ad2894948f2fb7cfd9" refkind="member"><highlight class="normal"><ref refid="class_se_syn_mgr" kindref="compound">SeSynMgr</ref><sp/><sp/><sp/><sp/><ref refid="_src_2_match_server_8cpp_1a842dd477472778ad2894948f2fb7cfd9" kindref="member">g_kSynMgr</ref>;</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11" refid="_src_2_match_server_8cpp_1a03595bfee2a55045aa751deab1e562d0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="_src_2_match_server_8cpp_1a03595bfee2a55045aa751deab1e562d0" kindref="member">sendRegPack</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iServerIdx)</highlight></codeline>
<codeline lineno="12"><highlight class="normal">{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iServerIdx<sp/>==<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ac22c01ccbb196aab5a0eef785eb6ce26" kindref="member">SSI_WS</ref>)</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_kMatchServer.<ref refid="class_match_server_1afc75f98116ada06245198003f0f266b8" kindref="member">SendMW_Register</ref>(<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa051b38374860159471f6a78f1167a7eb" kindref="member">SSD_MSANGO_MAGIC</ref>,<sp/>g_kMatchServer.<ref refid="class_match_server_1a99b21bca2134cc8c442358c90686ac28" kindref="member">GetServerID</ref>()))</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iServerIdx<sp/>==<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a8accedddcf1ed16f589b79e3f5d7e91b" kindref="member">SSI_NS</ref>)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_kMatchServer.<ref refid="class_match_server_1a335c1b74a777cc97416962070b7904f6" kindref="member">SendMN_Register</ref>(<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa051b38374860159471f6a78f1167a7eb" kindref="member">SSD_MSANGO_MAGIC</ref>,<sp/>g_kMatchServer.<ref refid="class_match_server_1a99b21bca2134cc8c442358c90686ac28" kindref="member">GetServerID</ref>()))</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="33"><highlight class="normal">}</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="_src_2_match_server_8cpp_1a1829928f14924b8a97ed00808758de08" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="_src_2_match_server_8cpp_1a1829928f14924b8a97ed00808758de08" kindref="member">sendHeartPack</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iServerIdx)</highlight></codeline>
<codeline lineno="36"><highlight class="normal">{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iServerIdx<sp/>==<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ac22c01ccbb196aab5a0eef785eb6ce26" kindref="member">SSI_WS</ref>)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_kMatchServer.<ref refid="class_match_server_1a77fbb31a21e9e08e9b36711a7c1b1df9" kindref="member">SendMW_HeartPackage</ref>())</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iServerIdx<sp/>==<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a8accedddcf1ed16f589b79e3f5d7e91b" kindref="member">SSI_NS</ref>)</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!g_kMatchServer.<ref refid="class_match_server_1a4338e9402d473cb483b557bfd85ca0cf" kindref="member">SendMN_HeartPackage</ref>())</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="57"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="class_match_server_1a5bdc6aac69e3fdbc3db9f8dfaca0f9c5" refkind="member"><highlight class="normal"><ref refid="class_match_server_1a5bdc6aac69e3fdbc3db9f8dfaca0f9c5" kindref="member">MatchServer::MatchServer</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="60"><highlight class="normal">{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(<ref refid="class_match_server_1a2cbbf12d6165bb746e192276b55cbb10" kindref="member">m_acSend</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="class_match_server_1a2cbbf12d6165bb746e192276b55cbb10" kindref="member">m_acSend</ref>));</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a241228fa9a7da6a72888ad66b1176efc" kindref="member">m_dwTickCount</ref><sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1abdfa8a261b01d9b2e22fa05605a631fa" kindref="member">m_dwCurTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a08abe3c2b0ee2e2bef00b8c326c70b9b" kindref="member">m_bRunning</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a20e6795ada5886d71a4db09cdb72e402" kindref="member">m_dwBetRaceCheckTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a94348472da01358d5f240c40c2ce66c3" kindref="member">m_dwLogHeartPackage</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="71"><highlight class="normal">}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73" refid="class_match_server_1a6e8cc6c535f682f8f2c4d985e8b19335" refkind="member"><highlight class="normal"><ref refid="class_match_server_1a6e8cc6c535f682f8f2c4d985e8b19335" kindref="member">MatchServer::~MatchServer</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="74"><highlight class="normal">{</highlight></codeline>
<codeline lineno="75"><highlight class="normal">}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="class_match_server_1a16c0a4c43f480d67e41613066925888a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a16c0a4c43f480d67e41613066925888a" kindref="member">MatchServer::LoadConfig</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcFile)</highlight></codeline>
<codeline lineno="78"><highlight class="normal">{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_config" kindref="compound">SeConfig</ref><sp/>kConfig;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!kConfig.<ref refid="class_se_config_1a077cfce8454c31d293c2d2341980ffca" kindref="member">Load</ref>(pcFile))</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s&quot;</highlight><highlight class="normal">,pcFile);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;ServerID&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pcValue)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[ServerID]&quot;</highlight><highlight class="normal">,pcFile);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a4ae615c13def24a2e989aeb0165ec7e5" kindref="member">dwServerID</ref><sp/>=<sp/><ref refid="_se_tool_8cpp_1a03bcc77ad4ef4845b20fc5cf4db96834" kindref="member">GetStr2ID</ref>(pcValue);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_net_addr" kindref="compound">SeNetAddr</ref>*<sp/>pkAddr<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a0bd6ce789230fc24e8e09674c0265d5d" kindref="member">GetNetAddr</ref>(</highlight><highlight class="stringliteral">&quot;LocalServer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkAddr)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[LocalServer]&quot;</highlight><highlight class="normal">,pcFile);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref><sp/>=<sp/>*pkAddr;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>WorldServer<sp/>Connect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>pkAddr<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a0bd6ce789230fc24e8e09674c0265d5d" kindref="member">GetNetAddr</ref>(</highlight><highlight class="stringliteral">&quot;WorldServer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkAddr)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[WorldServer]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1a42fa65f9815b4e6876a92d0648d7619c" kindref="member">AddServerConn</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ac22c01ccbb196aab5a0eef785eb6ce26" kindref="member">SSI_WS</ref>,<sp/>*pkAddr,<sp/>2<sp/>*<sp/>1024<sp/>*<sp/>1024);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[WorldConn]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NexusServer<sp/>Connect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>pkAddr<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a0bd6ce789230fc24e8e09674c0265d5d" kindref="member">GetNetAddr</ref>(</highlight><highlight class="stringliteral">&quot;NexusServer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkAddr)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[NexusServer]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref><sp/>=<sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1a42fa65f9815b4e6876a92d0648d7619c" kindref="member">AddServerConn</ref>(<ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9a8accedddcf1ed16f589b79e3f5d7e91b" kindref="member">SSI_NS</ref>,<sp/>*pkAddr,<sp/>2<sp/>*<sp/>1024<sp/>*<sp/>1024);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>)</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[NexusConn]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>HTTPSERVER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>pkAddr<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a0bd6ce789230fc24e8e09674c0265d5d" kindref="member">GetNetAddr</ref>(</highlight><highlight class="stringliteral">&quot;AddrToHttpServer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pkAddr)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref><sp/>=<sp/>*pkAddr;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;MatchTimeoutRobot&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pcValue)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>failed:<sp/>%s[MatchTimeoutRobot]&quot;</highlight><highlight class="normal">,<sp/>pcFile);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af69c6286e014ba630ddbd1bdb7e8290a" kindref="member">bMatchTimeoutRobot</ref><sp/>=<sp/>atoi(pcValue)!=0;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file<sp/>successfully&quot;</highlight><highlight class="normal">,1);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152" refid="class_match_server_1a966af313cd7394328cfde57318c53b0f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a966af313cd7394328cfde57318c53b0f" kindref="member">MatchServer::LoadDynamicConfig</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="153"><highlight class="normal">{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_config" kindref="compound">SeConfig</ref><sp/>kConfig;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!kConfig.<ref refid="class_se_config_1a077cfce8454c31d293c2d2341980ffca" kindref="member">Load</ref>(</highlight><highlight class="stringliteral">&quot;./Data/MatchSetup.ini&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(<sp/></highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file[MatchSetup.ini]<sp/>failed.&quot;</highlight><highlight class="normal">,1);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;DebugLevel&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pcValue)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a99a4f27dcf307e6c07f62cac18a30a1d" kindref="member">iDebugLevel</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a99a4f27dcf307e6c07f62cac18a30a1d" kindref="member">iDebugLevel</ref><sp/>=<sp/>atoi(pcValue);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>pcValue<sp/>=<sp/>kConfig.<ref refid="class_se_config_1a8839d0f5e6b831b66fd018826a304086" kindref="member">GetValue</ref>(</highlight><highlight class="stringliteral">&quot;MasterRS&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pcValue)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1ae31c49dbbf9ba8cba595a4e3accbc969" kindref="member">dwMasterRS</ref><sp/>=<sp/><ref refid="_se_tool_8cpp_1a03bcc77ad4ef4845b20fc5cf4db96834" kindref="member">GetStr2ID</ref>(pcValue);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Loading<sp/>config<sp/>file[MatchSetup.ini]<sp/><sp/>[%s]<sp/><sp/>[%u]&quot;</highlight><highlight class="normal">,<sp/>pcValue,<sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1ae31c49dbbf9ba8cba595a4e3accbc969" kindref="member">dwMasterRS</ref>);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1ae31c49dbbf9ba8cba595a4e3accbc969" kindref="member">dwMasterRS</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//pcValue<sp/>=<sp/>kConfig.GetValue(&quot;GameLogFilePath&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(pcValue)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>StrCpy(m_kConfig.acGameLogFilePath,<sp/>sizeof(m_kConfig.acGameLogFilePath),<sp/>pcValue);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>const<sp/>char*<sp/>pcLogPath<sp/>=<sp/>&quot;./ServerLogs&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>StrCpy(m_kConfig.acGameLogFilePath,<sp/>sizeof(m_kConfig.acGameLogFilePath),<sp/>pcLogPath);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//g_kLog.CreateFilePath(m_kConfig.acGameLogFilePath);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(<sp/></highlight><highlight class="stringliteral">&quot;LoadDynamicConfig<sp/>config<sp/>file<sp/>successfully&quot;</highlight><highlight class="normal">,1);</highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202" refid="class_match_server_1a33e0d5c9849a536cfa8e681f85d734bd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a33e0d5c9849a536cfa8e681f85d734bd" kindref="member">MatchServer::InitializeNet</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="203"><highlight class="normal">{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Initialize(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,4))</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>net<sp/>failed&quot;</highlight><highlight class="normal">,1);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>net<sp/>successfully&quot;</highlight><highlight class="normal">,1);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Listen(<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,8,<sp/><ref refid="_se_server_define_8h_1a141dc49d73e6790790a053c29623f606" kindref="member">SERVER_BUFFER_SIZE</ref>))</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>failed:[%s:%d]&quot;</highlight><highlight class="normal">,<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>successfully:[%s:%d]&quot;</highlight><highlight class="normal">,<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1af15ae0e465a3b4b21086093616b1caa4" kindref="member">kLocalServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Listen(<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,8,<sp/><ref refid="_se_server_define_8h_1a141dc49d73e6790790a053c29623f606" kindref="member">SERVER_BUFFER_SIZE</ref>))</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>failed:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Initialize<sp/>tcp<sp/>port<sp/>successfully:[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a7852a5c33765d5a65347783efd7d681d" kindref="member">kAddrToHttpServer</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="226"><highlight class="normal">}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228" refid="class_match_server_1a3f0839420ac96d8b744d28b1e0f779f8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a3f0839420ac96d8b744d28b1e0f779f8" kindref="member">MatchServer::Initialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="229"><highlight class="normal">{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>srand(<ref refid="class_match_server_1a241228fa9a7da6a72888ad66b1176efc" kindref="member">m_dwTickCount</ref>);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_match_server_1a16c0a4c43f480d67e41613066925888a" kindref="member">LoadConfig</ref>(</highlight><highlight class="stringliteral">&quot;./Data/MatchServer.ini&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_match_server_1a33e0d5c9849a536cfa8e681f85d734bd" kindref="member">InitializeNet</ref>())</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_match_server_2_src_2_se_res_mgr_8cpp_1a1d56b960d47745477c9312778d48e65c" kindref="member">g_kResMgr</ref>.<ref refid="class_se_re_mgr_1aa1a23a6f877900741b6aee6bb02c3317" kindref="member">Initialize</ref>())</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a966af313cd7394328cfde57318c53b0f" kindref="member">LoadDynamicConfig</ref>();</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a9a19b81db43a3c393b3faaf812bceb5e" kindref="member">InitFileData</ref>();</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1a6982c2146c5829aa21e4f2bd5487a3d4" kindref="member">Initialize</ref>(&amp;<ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)<ref refid="_src_2_match_server_8cpp_1a03595bfee2a55045aa751deab1e562d0" kindref="member">sendRegPack</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)<ref refid="_src_2_match_server_8cpp_1a1829928f14924b8a97ed00808758de08" kindref="member">sendHeartPack</ref>))</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Init<sp/>VirtConnMgr<sp/>Failed&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1ad2952a408843d65295031f3291b337a9" kindref="member">Initialize</ref>())</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_src_2_se_race_svr_mgr_8cpp_1a2d3d387da69f6fc93ec49db8bf1ee871" kindref="member">g_kRaceSvrMgr</ref>.<ref refid="class_se_race_svr_mgr_1a6595408d643b99f373ca4c2fdb5625de" kindref="member">Initialize</ref>())</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" kindref="member">g_kRaceQueryMgr</ref>.<ref refid="class_se_race_query_mgr_1a63e3f94ccc505ab85b43345a87e16a8d" kindref="member">Initialize</ref>();</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="276"><highlight class="normal">}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bf" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bf" kindref="member">TIMER_KIND</ref></highlight></codeline>
<codeline lineno="279"><highlight class="normal">{</highlight></codeline>
<codeline lineno="280" refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa042d324d3887dbd17e30e046ce15c229" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa042d324d3887dbd17e30e046ce15c229" kindref="member">TIMER_KIND_MATCH</ref>,</highlight></codeline>
<codeline lineno="281" refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa127931d56d0f5f32a4d58f58520902b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_match_server_8cpp_1a6a723fd4e9eb2d78151ce48ef61d85bfa127931d56d0f5f32a4d58f58520902b5" kindref="member">TIMER_KIND_WAITROOM</ref>,</highlight></codeline>
<codeline lineno="282"><highlight class="normal">};</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284" refid="_src_2_match_server_8cpp_1a8cda133bd40d3d26860bac54ea3443be" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TIMEOUT_EXEC(name,<sp/>gap,<sp/>fun)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="285"><highlight class="preprocessor">static<sp/>moba::TimeType<sp/><sp/>timer_##name<sp/>=<sp/>moba::Clock::getInstance().getMilliSeconds();<sp/>\</highlight></codeline>
<codeline lineno="286"><highlight class="preprocessor">if(moba::Clock::getInstance().getMilliSeconds()<sp/>&gt;=<sp/>timer_##name<sp/>+<sp/>gap)<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="287"><highlight class="preprocessor">{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="288"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>fun(gap);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="289"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>timer_##name<sp/>+=<sp/>gap;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="290"><highlight class="preprocessor">}</highlight></codeline>
<codeline lineno="291"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293" refid="class_match_server_1aa0c969f78b0a7c57be07f1edeea929cf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1aa0c969f78b0a7c57be07f1edeea929cf" kindref="member">MatchServer::Update</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="294"><highlight class="normal">{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classmoba_1_1_clock_1a029b72699ef2168d7429c114bfa856dd" kindref="member">moba::Clock::getInstance</ref>().<ref refid="classmoba_1_1_clock_1abdcf1ad6efdc68c7903d9f5023b827de" kindref="member">setTime</ref>();</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dwTickCount<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(dwTickCount<sp/>-<sp/><ref refid="class_match_server_1a241228fa9a7da6a72888ad66b1176efc" kindref="member">m_dwTickCount</ref>);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a241228fa9a7da6a72888ad66b1176efc" kindref="member">m_dwTickCount</ref><sp/>=<sp/>dwTickCount;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1abdfa8a261b01d9b2e22fa05605a631fa" kindref="member">m_dwCurTime</ref><sp/>+=<sp/>iDTime;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="class_match_server_1a08abe3c2b0ee2e2bef00b8c326c70b9b" kindref="member">m_bRunning</ref><sp/>&amp;&amp;<sp/><ref refid="class_match_server_1abdfa8a261b01d9b2e22fa05605a631fa" kindref="member">m_dwCurTime</ref><sp/>&gt;<sp/>120<sp/>*<sp/>1000)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a08abe3c2b0ee2e2bef00b8c326c70b9b" kindref="member">m_bRunning</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>adwDecTime[64];</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(adwDecTime,0,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(adwDecTime));</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>DWord<sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Update();</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[0]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1ad7f6d5cc93d0bcfefccda81c6e1f0ffa" kindref="member">Update</ref>();</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[1]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[2]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_race_mgr_8cpp_1a1f83db99b647792f31ca33007bb173f3" kindref="member">g_kRaceMgr</ref>.<ref refid="class_se_race_mgr_1aafd553791a7d76ad61d8e54ea226f84c" kindref="member">Update</ref>(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>());</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[3]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" kindref="member">g_kRaceQueryMgr</ref>.<ref refid="class_se_race_query_mgr_1a9a4b86a687d574f8a6e361b50e5d5d97" kindref="member">Update</ref>(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>());</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[4]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[5]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a48b47a2420ae7f25052ba11ae09060c8" kindref="member">UpdatePackage</ref>();</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a18aaad4b9753c951e902a30317b9520b" kindref="member">UpdateTSTOMSTime</ref>();</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[6]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>RS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ad51a639a56f61e2319426d8551e1145e" kindref="member">UpdateRSTOMSTime</ref>();</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[7]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>dwBeginTime<sp/>=<sp/>GetTickCount();</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ae1ef7127d1df2756943ba108e652ba9d" kindref="member">UpdateRaceBetInfo</ref>();</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>adwDecTime[8]<sp/>=<sp/>GetTickCount()<sp/>-<sp/>dwBeginTime;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(GetTickCount()<sp/>-<sp/>dwTickCount<sp/>&gt;<sp/>1<sp/>*<sp/>1000)</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ae40699477a2e6fb92d32d925d0b9b2ea" kindref="member">PrintUpdateTime</ref>(adwDecTime,64);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1a1a2056beaab510c633febd91090592ee" kindref="member">Update</ref>(<ref refid="class_match_server_1abdfa8a261b01d9b2e22fa05605a631fa" kindref="member">m_dwCurTime</ref>);</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_open_room_mgr_8h_1a3f7186e954822e2db62686352fc88b49" kindref="member">SeOpenRoomMgrInst</ref>.Update(<ref refid="class_match_server_1abdfa8a261b01d9b2e22fa05605a631fa" kindref="member">m_dwCurTime</ref>);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_match_mgr_8cpp_1abfc936168bb770a0771ac3b4df44abfb" kindref="member">g_kMatchMgr</ref>.<ref refid="class_se_match_mgr_1a1c63d6d17365f930c0885824afb4c5ef" kindref="member">Update</ref>();</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_match_prepare_mgr_8cpp_1adca41b75adf36daaa5cbcbae8765bf6f" kindref="member">g_kMatchPrepareMgr</ref>.<ref refid="class_match_prepare_mgr_1a214f9df4c7cc2209d74be6e1ef5ec445" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_match_ban_mgr_8cpp_1aa0d2e9fcd92b9a834b6652bba4c39941" kindref="member">g_kMatchBanMgr</ref>.<ref refid="class_match_ban_mgr_1ac4cc0768469193c80ea5f39b5f1657d8" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369" refid="class_match_server_1abdec492d2a70fb492be043eeacf70366" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1abdec492d2a70fb492be043eeacf70366" kindref="member">MatchServer::Finialize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Finialize();</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_race_mgr_8cpp_1a1f83db99b647792f31ca33007bb173f3" kindref="member">g_kRaceMgr</ref>.<ref refid="class_se_race_mgr_1abfb79a621d5c4ded6ba61a33248050a6" kindref="member">Finalize</ref>();</highlight></codeline>
<codeline lineno="374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376" refid="class_match_server_1a27d06e75bf588b01632455343296bae3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a27d06e75bf588b01632455343296bae3" kindref="member">MatchServer::ShowConsoleTitle</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime)</highlight></codeline>
<codeline lineno="377"><highlight class="normal">{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acString[512]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_server_tool_8cpp_1ad2735ec90511f0d6ec1535cf448709b8" kindref="member">SPrintf</ref>(acString,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acString),<sp/></highlight><highlight class="stringliteral">&quot;MS[%s]<sp/>DT[%d]<sp/>[TS:%u<sp/>RS:%u]<sp/>AreaNum[%u]<sp/>Race[%d]<sp/>Room[%d]&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(<ref refid="class_match_server_1ac46c05f1462b4f827d565848bf136a1a" kindref="member">m_kConfig</ref>.<ref refid="struct_se_match_config_1a4ae615c13def24a2e989aeb0165ec7e5" kindref="member">dwServerID</ref>),<sp/>iDTime,<sp/><ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1a5e4c672d19cb76891e645ec61bea55ed" kindref="member">GetTownNum</ref>(),<sp/><ref refid="_src_2_se_race_svr_mgr_8cpp_1a2d3d387da69f6fc93ec49db8bf1ee871" kindref="member">g_kRaceSvrMgr</ref>.<ref refid="class_se_race_svr_mgr_1a395574fee378c1949374c86907d12569" kindref="member">GetRaceSvrNum</ref>(),</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1a8ce05cea2a1499e31916209fc1f40692" kindref="member">GetTownArea</ref>(),<sp/><ref refid="_match_server_2_src_2_se_race_mgr_8cpp_1a1f83db99b647792f31ca33007bb173f3" kindref="member">g_kRaceMgr</ref>.<ref refid="class_se_race_mgr_1a8f2896bfe2b0175670834789c2ba82ad" kindref="member">GetRaceNum</ref>(),<sp/><ref refid="_src_2_se_race_query_mgr_8cpp_1a57ccbe85ab92907667a84b975fab68e1" kindref="member">g_kRaceQueryMgr</ref>.<ref refid="class_se_race_query_mgr_1a9cf0341da24ab95acff8d0e657495070" kindref="member">GetRaceRoomNum</ref>());</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight></codeline>
<codeline lineno="385"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>SetConsoleTitle(acString);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="387"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//SeLogInfo(&quot;%s&quot;,<sp/>acString);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="389"><highlight class="preprocessor"></highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391" refid="class_match_server_1a052967673a1e01664998a1dee97a4d86" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a052967673a1e01664998a1dee97a4d86" kindref="member">MatchServer::OnNetConnected</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcIP,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPort)</highlight></codeline>
<codeline lineno="392"><highlight class="normal">{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!strcmp(pcIP,<sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>)<sp/>&amp;&amp;<sp/>iPort<sp/>==<sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>)</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1adca74d2f39a17051600b0ea23d600b74" kindref="member">OnServerConnected</ref>(rkSock,<sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!strcmp(pcIP,<sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>)<sp/>&amp;&amp;<sp/>iPort<sp/>==<sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1ad05e8487648793f2d2340a47856acb71" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>)</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1adca74d2f39a17051600b0ea23d600b74" kindref="member">OnServerConnected</ref>(rkSock,<sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="401"><highlight class="normal">}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403" refid="class_match_server_1a7d44410136314148817e0c71ef5388e4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a7d44410136314148817e0c71ef5388e4" kindref="member">MatchServer::OnNetAccept</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iListenPort,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pcIP,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iPort)</highlight></codeline>
<codeline lineno="404"><highlight class="normal">{</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref><sp/>=<sp/>rkSock;</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4d30fbe56257fc998ebc1346e53be0d8" kindref="member">StrCpy</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aaaadf26d549f9464c83a25eeb9da2d653" kindref="member">SSD_IP_LEN</ref>,<sp/>pcIP);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref><sp/>=<sp/>iPort;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>=<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaa56d080abab641c052974b0a39f8bf32" kindref="member">SCS_UNKOWN</ref>;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1ae90bd507e6e1e36dc4ee9e4d5e849cd3" kindref="member">dwStateTime</ref><sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>[rkSock]<sp/>=<sp/>pkConnect;</highlight></codeline>
<codeline lineno="413"><highlight class="normal">}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415" refid="class_match_server_1a6ca18e9265672410b2b0b4e326f06c05" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a6ca18e9265672410b2b0b4e326f06c05" kindref="member">MatchServer::OnNetRecv</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize)</highlight></codeline>
<codeline lineno="416"><highlight class="normal">{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iSize<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>))</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Disconnect(rkSock);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iSize<sp/>&gt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aae551c574c3a189b2a44409b830b02afa" kindref="member">SSD_SEND_SIZE</ref>)</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*<sp/>pkCmd<sp/>=<sp/>(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref><sp/>*)pkData;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Recv<sp/>size<sp/>overflow:<sp/>cmd[%u]<sp/>flag[%u]<sp/>size[%d]&quot;</highlight><highlight class="normal">,<sp/>pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref>,<sp/>pkCmd-&gt;<ref refid="struct_se_c_m_d_1ac0ecd6c295ba1347fc1a57621d44bbf5" kindref="member">wFlag</ref>,<sp/>iSize);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock<sp/>==<sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>)</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*<sp/>pkCmd<sp/>=<sp/>(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*)pkData;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>&gt;=<sp/><ref refid="_se_server_define_8h_1a5ef39269c62c879ff0b5584312980bc2a7ab94e0d5ec2efe495951094fdcfd7a2" kindref="member">STCB_BLS_MS</ref><sp/>&amp;&amp;<sp/>pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>&lt;<sp/><ref refid="_se_server_define_8h_1a5ef39269c62c879ff0b5584312980bc2a7ab94e0d5ec2efe495951094fdcfd7a2" kindref="member">STCB_BLS_MS</ref><sp/>+<sp/><ref refid="_se_server_define_8h_1a7e57d75ea3d17743d491908f4fb5cc93" kindref="member">STCB_INTERVAL</ref>)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1ae696179a4048a5830ce14b88d69cec08" kindref="member">ProcessBLMData</ref>(pkData,<sp/>iSize);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a5047b7a65d76856be67a1f45edb7b8b6" kindref="member">ProcessWMData</ref>(pkData,<sp/>iSize);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock<sp/>==<sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a49dc0b28ab3d917f21e49ec484571238" kindref="member">ProcessNMData</ref>(pkData,<sp/>iSize);</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>MapAllConnect::iterator<sp/>itr<sp/>=<sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>==<sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>.end())</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6783313d841289c671e083fbb47cb241" kindref="member">dwRecvTime</ref><sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085eaa56d080abab641c052974b0a39f8bf32" kindref="member">SCS_UNKOWN</ref>)</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref>*<sp/>pkCmd<sp/>=<sp/>(<ref refid="struct_se_c_m_d" kindref="compound">SeCMD</ref><sp/>*)pkData;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>==<sp/><ref refid="_se_ptl___t_s___to___m_s_8h_1a3e88092b7f33a6504d292c3ce17db89da3b02917767106440bca047e34aab3a1d" kindref="member">CMD_TM_REGISTER</ref>)</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a58a962a0d476a1cedd5b3ca970bd3f5f" kindref="member">ProcessTMData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>==<sp/><ref refid="_se_ptl___r_s___to___m_s_8h_1a4902cdf521367c85dddfd168fd019783a0bb7debf6608e7485f9a48e4135b438f" kindref="member">CMD_RM_REGISTER</ref>)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a505bb11fe339d0f06750a38ddb4918c7" kindref="member">ProcessRMData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkCmd-&gt;<ref refid="struct_se_c_m_d_1a2efa122a60040d09cfca777f9155394c" kindref="member">wCmd</ref><sp/>==<sp/><ref refid="_se_ptl___h_s___to___h_s_8h_1a382bac0bd1371fe71c9fef6957a88a8baebea2af27ada9ed324304d85ebbbbfd5" kindref="member">CMD_HS_REGISTER</ref>)</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a0ecc217e07b2d9d67ae79c90c95bd447" kindref="member">ProcessHSData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Disconnect(rkSock);</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea2a0d497b62e021e340471721a64f6be2" kindref="member">SCS_TOWN_OK</ref>)</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a58a962a0d476a1cedd5b3ca970bd3f5f" kindref="member">ProcessTMData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea885d6a6c1d1ec4cbd3bbdad5b0d61dab" kindref="member">SCS_RACESVR_OK</ref>)</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a505bb11fe339d0f06750a38ddb4918c7" kindref="member">ProcessRMData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ead335828c011badd7cfb96de7681d8ab4" kindref="member">SCS_HTTP_OK</ref>)</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a0ecc217e07b2d9d67ae79c90c95bd447" kindref="member">ProcessHSData</ref>(pkData,<sp/>iSize,<sp/>pkConnect);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal">}</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="class_match_server_1a190acd16e2bd6be6bdf82e3159d811dc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a190acd16e2bd6be6bdf82e3159d811dc" kindref="member">MatchServer::OnNetDisconnect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>HSock&amp;<sp/>rkSock,<sp/>TeDisconnectCode<sp/>eCode,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iParam)</highlight></codeline>
<codeline lineno="490"><highlight class="normal">{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock<sp/>==<sp/><ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>)</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1ad75abfada4de2eb3107aca79b1c99642" kindref="member">OnServerDisconnect</ref>(<ref refid="class_match_server_1a4b3280513983899fc6d148349be83853" kindref="member">m_pkWSConn</ref>);</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkSock<sp/>==<sp/><ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1a2ed0654cfe8f298d1dc8fbe76a310df0" kindref="member">kSock</ref>)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_virt_conn_mgr_8cpp_1aa8e9d5beed961f4e26b9cadd49603980" kindref="member">g_kVirtConnMgr</ref>.<ref refid="class_se_virt_conn_mgr_1ad75abfada4de2eb3107aca79b1c99642" kindref="member">OnServerDisconnect</ref>(<ref refid="class_match_server_1a52327a628c886767871ee38dfaa89929" kindref="member">m_pkNSConn</ref>);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>MapAllConnect::iterator<sp/>itr<sp/>=<sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>.find(rkSock);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(itr<sp/>==<sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>.end())</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a11a015f5d7320310de4d0eda72b08d8e" kindref="member">m_kAllConnect</ref>.erase(itr);</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea2a0d497b62e021e340471721a64f6be2" kindref="member">SCS_TOWN_OK</ref>)</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1a7b4b1e9cc7ae7f37c34341e203b571f1" kindref="member">OnTSDisconnect</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1a0ad3c6b2a62dd22cfacb97598fbdfd9e" kindref="member">kTownSign</ref>);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(<sp/></highlight><highlight class="stringliteral">&quot;TS<sp/>disconnect:[%s:%d]<sp/>Code[%d]<sp/>Para[%d]&quot;</highlight><highlight class="normal">,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/>eCode,<sp/>iParam);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>==<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea885d6a6c1d1ec4cbd3bbdad5b0d61dab" kindref="member">SCS_RACESVR_OK</ref>)</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_svr_mgr_8cpp_1a2d3d387da69f6fc93ec49db8bf1ee871" kindref="member">g_kRaceSvrMgr</ref>.<ref refid="class_se_race_svr_mgr_1ae54c22d8bfd8eb078af6a281a2839d82" kindref="member">OnRSDisconnect</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1a0ad3c6b2a62dd22cfacb97598fbdfd9e" kindref="member">kTownSign</ref>);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(<sp/></highlight><highlight class="stringliteral">&quot;RS<sp/>disconnect:[%s:%d]<sp/>Code[%d]<sp/>Para[%d]&quot;</highlight><highlight class="normal">,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/>eCode,<sp/>iParam);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_define_8h_1abdf73516460d2bbbfdea4a92bcecc080" kindref="member">SAFE_DELETE</ref>(pkConnect);</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524" refid="class_match_server_1a48b47a2420ae7f25052ba11ae09060c8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a48b47a2420ae7f25052ba11ae09060c8" kindref="member">MatchServer::UpdatePackage</ref>()</highlight></codeline>
<codeline lineno="525"><highlight class="normal">{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//static<sp/>DWord<sp/>s_dwPreTime<sp/>=<sp/>GetServerTime();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if((int)(GetServerTime()<sp/>-<sp/>s_dwPreTime)<sp/>&gt;=<sp/>1000<sp/>||<sp/>(int)(GetServerTime()<sp/>-<sp/>s_dwPreTime)<sp/>&lt;<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>s_dwPreTime<sp/>=<sp/>GetServerTime();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>//<sp/>DBLogServer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>if(m_dwLogHeartPackage<sp/>==<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>SendDBLog_HeartPackage();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>if((int)(GetServerTime()<sp/>-<sp/>m_dwLogHeartPackage)<sp/>&gt;<sp/>SSD_MAX_WS2DB_HEART_PACKAGE_TIME<sp/>||<sp/>(int)(GetServerTime()<sp/>-<sp/>m_dwLogHeartPackage)<sp/>&lt;<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SeLogError(&quot;HeartPackageTime<sp/>OverTime<sp/>DBLogServer[%d]<sp/>&quot;,(int)(GetServerTime()<sp/>-<sp/>m_dwLogHeartPackage));</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_dwLogHeartPackage<sp/>=<sp/>0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>DBS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_kNetMgr.Disconnect(m_kDSData.kSock);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal">}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552" refid="class_match_server_1a18aaad4b9753c951e902a30317b9520b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a18aaad4b9753c951e902a30317b9520b" kindref="member">MatchServer::UpdateTSTOMSTime</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="553"><highlight class="normal">{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DWord<sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()<sp/>-<sp/>s_dwPreTime);</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iDTime<sp/>&gt;=<sp/>1000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_match_server_2_src_2_se_town_mgr_def_8h_1a33618b5b87b886d6cfb3453797eae13d" kindref="member">MapAllTS</ref>&amp;<sp/>rkAllTS<sp/>=<sp/><ref refid="_match_server_2_src_2_se_town_mgr_8cpp_1a0d99b78f6d107c2f607862b30d586175" kindref="member">g_kTownMgr</ref>.<ref refid="class_se_town_mgr_1a093dc7359e1e6e53f335c9469b37ffc1" kindref="member">GetAllTS</ref>();</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MapAllTS::iterator<sp/>itr<sp/>=<sp/>rkAllTS.begin();<sp/>itr<sp/>!=<sp/>rkAllTS.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkTS<sp/>||<sp/>!pkTS-&gt;<ref refid="struct_se_town_1a2dc49f167eccdeb950673bdb68615734" kindref="member">pkConnect</ref><sp/>||<sp/>pkTS-&gt;<ref refid="struct_se_town_1a2dc49f167eccdeb950673bdb68615734" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea2a0d497b62e021e340471721a64f6be2" kindref="member">SCS_TOWN_OK</ref>)</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()<sp/>-<sp/>pkTS-&gt;<ref refid="struct_se_town_1a10c392810af63bd3b6f8988e3186b5b3" kindref="member">dwLastRecvTime</ref>);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTS-&gt;<ref refid="struct_se_town_1a10c392810af63bd3b6f8988e3186b5b3" kindref="member">dwLastRecvTime</ref><sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>(iDTime<sp/>&gt;=<sp/>60<sp/>*<sp/>1000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(<sp/></highlight><highlight class="stringliteral">&quot;LastRecvTime<sp/>OverTime<sp/>Disconnect<sp/>TS[%s]<sp/>addr[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkTS-&gt;<ref refid="struct_se_town_1a4c5ceac7d3895e58ca877a2eb362bb34" kindref="member">dwServerID</ref>),<sp/>pkTS-&gt;<ref refid="struct_se_town_1a2dc49f167eccdeb950673bdb68615734" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkTS-&gt;<ref refid="struct_se_town_1a2dc49f167eccdeb950673bdb68615734" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Disconnect(pkTS-&gt;<ref refid="struct_se_town_1a2dc49f167eccdeb950673bdb68615734" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="578"><highlight class="normal">}</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight></codeline>
<codeline lineno="581" refid="class_match_server_1ad51a639a56f61e2319426d8551e1145e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1ad51a639a56f61e2319426d8551e1145e" kindref="member">MatchServer::UpdateRSTOMSTime</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="582"><highlight class="normal">{</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>DWord<sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()<sp/>-<sp/>s_dwPreTime);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iDTime<sp/>&gt;=<sp/>1000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s_dwPreTime<sp/>=<sp/><ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_se_race_svr_mgr_def_8h_1aad34a3a72618af4c1da2777bceee89c6" kindref="member">MapAllRS</ref>&amp;<sp/>rkAllRS<sp/>=<sp/><ref refid="_src_2_se_race_svr_mgr_8cpp_1a2d3d387da69f6fc93ec49db8bf1ee871" kindref="member">g_kRaceSvrMgr</ref>.<ref refid="class_se_race_svr_mgr_1a2fae097d2651e7f78dbb4b0c6bfd245b" kindref="member">GetAllRS</ref>();</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(MapAllRS::iterator<sp/>itr<sp/>=<sp/>rkAllRS.begin();<sp/>itr<sp/>!=<sp/>rkAllRS.end();<sp/>++itr)</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_race_svr" kindref="compound">SeRaceSvr</ref>*<sp/>pkRS<sp/>=<sp/>itr-&gt;second;</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkRS<sp/>||<sp/>!pkRS-&gt;<ref refid="struct_se_race_svr_1aa0cbcd4fadcbe00b225d0f95ad1214a5" kindref="member">pkConnect</ref><sp/>||<sp/>pkRS-&gt;<ref refid="struct_se_race_svr_1aa0cbcd4fadcbe00b225d0f95ad1214a5" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a149d84058a462e8833764a6dd2aa2d04" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_src_2_match_server_def_8h_1a66f85fac7c2312bb587ad3f33324085ea885d6a6c1d1ec4cbd3bbdad5b0d61dab" kindref="member">SCS_RACESVR_OK</ref>)</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iDTime<sp/>=<sp/>(int)(<ref refid="class_match_server_1ad3ce38db6c10f10891dbfd700cb954ca" kindref="member">GetServerTime</ref>()<sp/>-<sp/>pkRS-&gt;<ref refid="struct_se_race_svr_1a258308ac69d44cc4228cdd8fccadb929" kindref="member">dwLastRecvTime</ref>);</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkRS-&gt;<ref refid="struct_se_race_svr_1a258308ac69d44cc4228cdd8fccadb929" kindref="member">dwLastRecvTime</ref><sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>(iDTime<sp/>&gt;=<sp/>10<sp/>*<sp/>1000<sp/>||<sp/>iDTime<sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(<sp/></highlight><highlight class="stringliteral">&quot;LastRecvTime<sp/>OverTime<sp/>Disconnect<sp/>RS[%s]<sp/>addr[%s:%d]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkRS-&gt;<ref refid="struct_se_race_svr_1a3d1e161ac9d92b11470b3cd2320943c9" kindref="member">dwServerID</ref>),<sp/>pkRS-&gt;<ref refid="struct_se_race_svr_1aa0cbcd4fadcbe00b225d0f95ad1214a5" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkRS-&gt;<ref refid="struct_se_race_svr_1aa0cbcd4fadcbe00b225d0f95ad1214a5" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>);</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_match_server_1a2a2d8917fed5cd69d43afa106e32de9f" kindref="member">m_kNetMgr</ref>.Disconnect(pkRS-&gt;<ref refid="struct_se_race_svr_1aa0cbcd4fadcbe00b225d0f95ad1214a5" kindref="member">pkConnect</ref>-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="607"><highlight class="normal">}</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="609" refid="class_match_server_1a709589eba993b724db2e07ab23ca345c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_match_server_1a709589eba993b724db2e07ab23ca345c" kindref="member">MatchServer::loadMatchDetail</ref>(DWord<sp/>dwPlayerID,<sp/>DWord<sp/>dwMatchSession,<sp/><ref refid="_se_ptl_comm_define_8h_1a747637046be33d7273262104aad8069d" kindref="member">MatchType</ref><sp/>eMatchType,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iEquipmentType,<sp/>HSock<sp/>kTownSock)</highlight></codeline>
<codeline lineno="610"><highlight class="normal">{</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>g_kMatchServer.<ref refid="class_match_server_1a616a6d88b74038415e19f1b67771f937" kindref="member">SendMT_MatchSessionNotify</ref>(dwPlayerID,<sp/>dwMatchSession,<sp/>&amp;kTownSock);</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>g_kMatchServer.<ref refid="class_match_server_1a43e6638ca7ddb4ed35abe639aeae6905" kindref="member">SendMBL_RaceMatchLoadDetail</ref>(dwPlayerID,dwMatchSession,<sp/>eMatchType,<sp/>iEquipmentType);</highlight></codeline>
<codeline lineno="613"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/MatchServer/Src/MatchServer.cpp"/>
  </compounddef>
</doxygen>
