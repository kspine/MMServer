<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_src_2_se_t_w_process_8cpp" kind="file">
    <compoundname>SeTWProcess.cpp</compoundname>
    <includes refid="_src_2_world_server_8h" local="yes">WorldServer.h</includes>
    <includes refid="_world_server_2_src_2_town_server_mgr_8h" local="yes">TownServerMgr.h</includes>
    <includes refid="_se_t_w_process_8inc" local="yes">SeTWProcess.inc</includes>
    <includes refid="_se_w_b_send_8inl" local="yes">SeWBSend.inl</includes>
    <incdepgraph>
      <node id="91307">
        <label>list</label>
      </node>
      <node id="91519">
        <label>SeWMSend.inl</label>
        <link refid="_se_w_m_send_8inl"/>
      </node>
      <node id="91301">
        <label>locale</label>
      </node>
      <node id="91444">
        <label>AchievementTask_table.hpp</label>
        <link refid="_achievement_task__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91366">
        <label>SePtl_MS_To_WS.h</label>
        <link refid="_se_ptl___m_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91365">
        <label>SePtl_WS_To_MS.h</label>
        <link refid="_se_ptl___w_s___to___m_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91520">
        <label>SeMWProcess.inl</label>
        <link refid="_se_m_w_process_8inl"/>
      </node>
      <node id="91415">
        <label>MGClientExport.h</label>
        <link refid="_m_g_client_export_8h"/>
      </node>
      <node id="91500">
        <label>Shop.h</label>
        <link refid="_src_2_shop_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91452" relation="include">
        </childnode>
        <childnode refid="91356" relation="include">
        </childnode>
        <childnode refid="91470" relation="include">
        </childnode>
      </node>
      <node id="91350">
        <label>SeCharAchieveSchedule.inl</label>
        <link refid="secharachieveschedule_8inl"/>
      </node>
      <node id="91464">
        <label>AchieveMgr.h</label>
        <link refid="_src_2_achieve_mgr_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
      </node>
      <node id="91485">
        <label>SeWBLProcess.inl</label>
        <link refid="_se_w_b_l_process_8inl"/>
      </node>
      <node id="91408">
        <label>EffectSwitch_table.hpp</label>
        <link refid="_effect_switch__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91383">
        <label>Racehelp_table.hpp</label>
        <link refid="_racehelp__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91491">
        <label>SeTBLProcess.inl</label>
        <link refid="_se_t_b_l_process_8inl"/>
      </node>
      <node id="91311">
        <label>queue</label>
      </node>
      <node id="91305">
        <label>limits</label>
      </node>
      <node id="91328">
        <label>SePtlCommDefine.h</label>
        <link refid="_se_ptl_comm_define_8h"/>
      </node>
      <node id="91441">
        <label>KillBounty_table.hpp</label>
        <link refid="_kill_bounty__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91362">
        <label>SePtl_NS_To_WS.h</label>
        <link refid="_se_ptl___n_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91361">
        <label>SePtl_WS_To_NS.h</label>
        <link refid="_se_ptl___w_s___to___n_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91502">
        <label>SeWTSend.inl</label>
        <link refid="_se_w_t_send_8inl"/>
      </node>
      <node id="91329">
        <label>SeMemPool.h</label>
        <link refid="_se_mem_pool_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91316" relation="include">
        </childnode>
        <childnode refid="91293" relation="include">
        </childnode>
      </node>
      <node id="91471">
        <label>SePtl_BLS_To_WS.h</label>
        <link refid="_se_ptl___b_l_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
      </node>
      <node id="91288">
        <label>windows.h</label>
      </node>
      <node id="91396">
        <label>Pet_table.hpp</label>
        <link refid="_pet__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91293">
        <label>assert.h</label>
      </node>
      <node id="91490">
        <label>SeBLMSend.inl</label>
        <link refid="_se_b_l_m_send_8inl"/>
      </node>
      <node id="91446">
        <label>ItemMgr.h</label>
        <link refid="_src_2_item_mgr_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91356" relation="include">
        </childnode>
        <childnode refid="91377" relation="include">
        </childnode>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91318" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91436">
        <label>FreeHeroes_table.hpp</label>
        <link refid="_free_heroes__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91475">
        <label>SePtl_BLS_To_MS.h</label>
        <link refid="_se_ptl___b_l_s___to___m_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
      </node>
      <node id="91353">
        <label>SeServerComDef.h</label>
        <link refid="_se_server_com_def_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
        <childnode refid="91324" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
      </node>
      <node id="91349">
        <label>SeCharAchieveFinish.inl</label>
        <link refid="_se_char_achieve_finish_8inl"/>
      </node>
      <node id="91405">
        <label>RandomName_table.hpp</label>
        <link refid="_random_name__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91333">
        <label>SeDBDefine.h</label>
        <link refid="_se_d_b_define_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91498">
        <label>SeTimer.h</label>
        <link refid="_se_timer_8h"/>
      </node>
      <node id="91472">
        <label>SePtl_WS_To_BLS.h</label>
        <link refid="_se_ptl___w_s___to___b_l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91423">
        <label>MapShopRes_table.hpp</label>
        <link refid="_map_shop_res__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91522">
        <label>SeTWProcess.inc</label>
        <link refid="_se_t_w_process_8inc"/>
      </node>
      <node id="91399">
        <label>chance_table.hpp</label>
        <link refid="_chance__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91481">
        <label>SePtl_BLS_To_NS.h</label>
        <link refid="_se_ptl___b_l_s___to___n_s_8h"/>
      </node>
      <node id="91505">
        <label>SeDBSerSd_Char.inl</label>
        <link refid="_src_2_se_d_b_ser_sd___char_8inl"/>
      </node>
      <node id="91507">
        <label>SeTWProcess.inl</label>
        <link refid="_se_t_w_process_8inl"/>
      </node>
      <node id="91291">
        <label>stdlib.h</label>
      </node>
      <node id="91316">
        <label>EsLock.h</label>
      </node>
      <node id="91488">
        <label>SeBLRSend.inl</label>
        <link refid="_se_b_l_r_send_8inl"/>
      </node>
      <node id="91504">
        <label>SeWBSend.inl</label>
        <link refid="_se_w_b_send_8inl"/>
      </node>
      <node id="91374">
        <label>Unit_table.hpp</label>
        <link refid="_unit__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91453">
        <label>SeThreadStream.h</label>
        <link refid="_src_2_se_thread_stream_8h"/>
        <childnode refid="91318" relation="include">
        </childnode>
      </node>
      <node id="91461">
        <label>RaceMapMgr.h</label>
        <link refid="_src_2_race_map_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91345">
        <label>SeCharHero.inl</label>
        <link refid="_se_char_hero_8inl"/>
      </node>
      <node id="91336">
        <label>SeAllTableEnum.h</label>
        <link refid="_se_all_table_enum_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
        <childnode refid="91337" relation="include">
        </childnode>
      </node>
      <node id="91493">
        <label>SeBBLProcess.inl</label>
        <link refid="_se_b_b_l_process_8inl"/>
      </node>
      <node id="91462">
        <label>TaskMgr.h</label>
        <link refid="_src_2_task_mgr_8h"/>
        <childnode refid="91371" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
        <childnode refid="91463" relation="include">
        </childnode>
        <childnode refid="91322" relation="include">
        </childnode>
        <childnode refid="91314" relation="include">
        </childnode>
      </node>
      <node id="91390">
        <label>RenJiCustomData_table.hpp</label>
        <link refid="_ren_ji_custom_data__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91398">
        <label>Dress_table.hpp</label>
        <link refid="_dress__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91295">
        <label>cmath</label>
      </node>
      <node id="91457">
        <label>RaceHeroMgr.h</label>
        <link refid="_src_2_race_hero_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91494">
        <label>SeBLBSend.inl</label>
        <link refid="_se_b_l_b_send_8inl"/>
      </node>
      <node id="91421">
        <label>AvatarEffect_table.hpp</label>
        <link refid="_avatar_effect__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91426">
        <label>MapMisc_table.hpp</label>
        <link refid="_map_misc__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91515">
        <label>SeWNSend.inl</label>
        <link refid="_se_w_n_send_8inl"/>
      </node>
      <node id="91470">
        <label>EsThread.h</label>
      </node>
      <node id="91430">
        <label>UpgradeCost_table.hpp</label>
        <link refid="_upgrade_cost__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91443">
        <label>VideoTag_table.hpp</label>
        <link refid="_video_tag__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91388">
        <label>RenJiActions_table.hpp</label>
        <link refid="_ren_ji_actions__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91465">
        <label>AchieveFinishMgr.h</label>
        <link refid="_src_2_achieve_finish_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91373">
        <label>SeTableResBase.h</label>
        <link refid="_se_table_res_base_8h"/>
        <childnode refid="91306" relation="include">
        </childnode>
      </node>
      <node id="91304">
        <label>string</label>
      </node>
      <node id="91358">
        <label>SePtl_HS_To_HS.h</label>
        <link refid="_se_ptl___h_s___to___h_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91346">
        <label>SeCharEquipSchema.inl</label>
        <link refid="_se_char_equip_schema_8inl"/>
      </node>
      <node id="91445">
        <label>SeFormula.h</label>
        <link refid="_se_formula_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91432">
        <label>AppendSkill_table.hpp</label>
        <link refid="_append_skill__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91308">
        <label>map</label>
      </node>
      <node id="91314">
        <label>SeFileLog.h</label>
        <link refid="_se_file_log_8h"/>
        <childnode refid="91315" relation="include">
        </childnode>
        <childnode refid="91297" relation="include">
        </childnode>
        <childnode refid="91316" relation="include">
        </childnode>
      </node>
      <node id="91290">
        <label>conio.h</label>
      </node>
      <node id="91389">
        <label>RenJiConditions_table.hpp</label>
        <link refid="_ren_ji_conditions__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91327">
        <label>SePtlRandomNumDef.h</label>
        <link refid="_se_ptl_random_num_def_8h"/>
      </node>
      <node id="91431">
        <label>Decompose_table.hpp</label>
        <link refid="_decompose__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91385">
        <label>ItemExchange_table.hpp</label>
        <link refid="_item_exchange__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91417">
        <label>HeroInfo_table.hpp</label>
        <link refid="_hero_info__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91289">
        <label>direct.h</label>
      </node>
      <node id="91414">
        <label>GlobalTableMgr.h</label>
        <link refid="_global_table_mgr_8h"/>
        <childnode refid="91415" relation="include">
        </childnode>
        <childnode refid="91377" relation="include">
        </childnode>
        <childnode refid="91375" relation="include">
        </childnode>
        <childnode refid="91380" relation="include">
        </childnode>
        <childnode refid="91374" relation="include">
        </childnode>
        <childnode refid="91378" relation="include">
        </childnode>
        <childnode refid="91410" relation="include">
        </childnode>
        <childnode refid="91411" relation="include">
        </childnode>
        <childnode refid="91413" relation="include">
        </childnode>
        <childnode refid="91416" relation="include">
        </childnode>
        <childnode refid="91417" relation="include">
        </childnode>
        <childnode refid="91418" relation="include">
        </childnode>
        <childnode refid="91419" relation="include">
        </childnode>
        <childnode refid="91420" relation="include">
        </childnode>
        <childnode refid="91421" relation="include">
        </childnode>
        <childnode refid="91376" relation="include">
        </childnode>
        <childnode refid="91422" relation="include">
        </childnode>
        <childnode refid="91403" relation="include">
        </childnode>
        <childnode refid="91423" relation="include">
        </childnode>
        <childnode refid="91424" relation="include">
        </childnode>
        <childnode refid="91425" relation="include">
        </childnode>
        <childnode refid="91412" relation="include">
        </childnode>
        <childnode refid="91426" relation="include">
        </childnode>
        <childnode refid="91427" relation="include">
        </childnode>
        <childnode refid="91382" relation="include">
        </childnode>
        <childnode refid="91428" relation="include">
        </childnode>
        <childnode refid="91429" relation="include">
        </childnode>
        <childnode refid="91430" relation="include">
        </childnode>
        <childnode refid="91431" relation="include">
        </childnode>
        <childnode refid="91432" relation="include">
        </childnode>
        <childnode refid="91386" relation="include">
        </childnode>
        <childnode refid="91384" relation="include">
        </childnode>
        <childnode refid="91433" relation="include">
        </childnode>
        <childnode refid="91434" relation="include">
        </childnode>
        <childnode refid="91435" relation="include">
        </childnode>
        <childnode refid="91436" relation="include">
        </childnode>
        <childnode refid="91399" relation="include">
        </childnode>
        <childnode refid="91437" relation="include">
        </childnode>
      </node>
      <node id="91412">
        <label>BattleTips_table.hpp</label>
        <link refid="_battle_tips__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91394">
        <label>TaskInfo_table.hpp</label>
        <link refid="_task_info__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91370">
        <label>SePlayerDef.h</label>
        <link refid="_world_server_2_src_2_se_player_def_8h"/>
        <childnode refid="91371" relation="include">
        </childnode>
        <childnode refid="91445" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
        <childnode refid="91446" relation="include">
        </childnode>
      </node>
      <node id="91435">
        <label>Propaganda_table.hpp</label>
        <link refid="_propaganda__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91480">
        <label>SePtl_BS_To_BLS.h</label>
        <link refid="_se_ptl___b_s___to___b_l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91427">
        <label>MapsInfo_table.hpp</label>
        <link refid="_maps_info__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91302">
        <label>fstream</label>
      </node>
      <node id="91508">
        <label>SeHttpProcess.inl</label>
        <link refid="_world_server_2_src_2_se_http_process_8inl"/>
      </node>
      <node id="91495">
        <label>SeNBLProcess.inl</label>
        <link refid="_se_n_b_l_process_8inl"/>
      </node>
      <node id="91322">
        <label>SeTool.h</label>
        <link refid="_se_tool_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91323" relation="include">
        </childnode>
        <childnode refid="91324" relation="include">
        </childnode>
        <childnode refid="91299" relation="include">
        </childnode>
        <childnode refid="91325" relation="include">
        </childnode>
      </node>
      <node id="91463">
        <label>SeRandNum.h</label>
        <link refid="_se_rand_num_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
      </node>
      <node id="91287">
        <label>winsock2.h</label>
      </node>
      <node id="91331">
        <label>TeDataBaseMgr.h</label>
      </node>
      <node id="91367">
        <label>ServerSessionMgr.h</label>
        <link refid="_server_session_mgr_8h"/>
        <childnode refid="91329" relation="include">
        </childnode>
        <childnode refid="91330" relation="include">
        </childnode>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91368" relation="include">
        </childnode>
      </node>
      <node id="91409">
        <label>SearchChoice_table.hpp</label>
        <link refid="_search_choice__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91511">
        <label>SeBLWProcess.inl</label>
        <link refid="_se_b_l_w_process_8inl"/>
      </node>
      <node id="91433">
        <label>AcSystem_table.hpp</label>
        <link refid="_ac_system__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91332">
        <label>SeDBStream.h</label>
        <link refid="_se_d_b_stream_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91335" relation="include">
        </childnode>
      </node>
      <node id="91340">
        <label>SeCharMemory.inl</label>
        <link refid="_se_char_memory_8inl"/>
      </node>
      <node id="91466">
        <label>AchieveScheduleMgr.h</label>
        <link refid="_src_2_achieve_schedule_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91384">
        <label>ModelRes_table.hpp</label>
        <link refid="_model_res__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91347">
        <label>SeCharLadderRank.inl</label>
        <link refid="_se_char_ladder_rank_8inl"/>
      </node>
      <node id="91382">
        <label>TownItem_table.hpp</label>
        <link refid="_town_item__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91458">
        <label>HeroMgr.h</label>
        <link refid="_src_2_hero_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91285">
        <label>SeServerMainDef.h</label>
        <link refid="_se_server_main_def_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
      </node>
      <node id="91479">
        <label>SePtl_BLS_To_BS.h</label>
        <link refid="_se_ptl___b_l_s___to___b_s_8h"/>
      </node>
      <node id="91489">
        <label>SeMBLProcess.inl</label>
        <link refid="_se_m_b_l_process_8inl"/>
      </node>
      <node id="91324">
        <label>TeMisc.h</label>
        <link refid="_te_misc_8h"/>
        <childnode refid="91298" relation="include">
        </childnode>
      </node>
      <node id="91516">
        <label>SeNWProcess.inl</label>
        <link refid="_se_n_w_process_8inl"/>
      </node>
      <node id="91469">
        <label>BlockServer.h</label>
        <link refid="_src_2_block_server_8h"/>
        <childnode refid="91454" relation="include">
        </childnode>
        <childnode refid="91452" relation="include">
        </childnode>
        <childnode refid="91468" relation="include">
        </childnode>
        <childnode refid="91470" relation="include">
        </childnode>
        <childnode refid="91314" relation="include">
        </childnode>
        <childnode refid="91471" relation="include">
        </childnode>
        <childnode refid="91472" relation="include">
        </childnode>
        <childnode refid="91473" relation="include">
        </childnode>
        <childnode refid="91474" relation="include">
        </childnode>
        <childnode refid="91475" relation="include">
        </childnode>
        <childnode refid="91476" relation="include">
        </childnode>
        <childnode refid="91477" relation="include">
        </childnode>
        <childnode refid="91478" relation="include">
        </childnode>
        <childnode refid="91479" relation="include">
        </childnode>
        <childnode refid="91480" relation="include">
        </childnode>
        <childnode refid="91481" relation="include">
        </childnode>
        <childnode refid="91482" relation="include">
        </childnode>
        <childnode refid="91483" relation="include">
        </childnode>
        <childnode refid="91484" relation="include">
        </childnode>
        <childnode refid="91485" relation="include">
        </childnode>
        <childnode refid="91486" relation="include">
        </childnode>
        <childnode refid="91487" relation="include">
        </childnode>
        <childnode refid="91488" relation="include">
        </childnode>
        <childnode refid="91489" relation="include">
        </childnode>
        <childnode refid="91490" relation="include">
        </childnode>
        <childnode refid="91491" relation="include">
        </childnode>
        <childnode refid="91492" relation="include">
        </childnode>
        <childnode refid="91493" relation="include">
        </childnode>
        <childnode refid="91494" relation="include">
        </childnode>
        <childnode refid="91495" relation="include">
        </childnode>
        <childnode refid="91496" relation="include">
        </childnode>
      </node>
      <node id="91503">
        <label>SeHttpSend.inl</label>
        <link refid="_world_server_2_src_2_se_http_send_8inl"/>
      </node>
      <node id="91442">
        <label>CreepTowerGrowth_table.hpp</label>
        <link refid="_creep_tower_growth__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91348">
        <label>SeCharActiveAvatar.inl</label>
        <link refid="_se_char_active_avatar_8inl"/>
      </node>
      <node id="91372">
        <label>Addtional_table.hpp</label>
        <link refid="_addtional__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91468">
        <label>SeThreadMsg.h</label>
        <link refid="_se_thread_msg_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91316" relation="include">
        </childnode>
      </node>
      <node id="91334">
        <label>SeServerDefine.h</label>
        <link refid="_se_server_define_8h"/>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91330" relation="include">
        </childnode>
        <childnode refid="91322" relation="include">
        </childnode>
      </node>
      <node id="91473">
        <label>SePtl_BLS_To_RS.h</label>
        <link refid="_se_ptl___b_l_s___to___r_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
      </node>
      <node id="91449">
        <label>TeDBResSet.h</label>
      </node>
      <node id="91440">
        <label>AttackArmorRatio_table.hpp</label>
        <link refid="_attack_armor_ratio__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91375">
        <label>Skill_table.hpp</label>
        <link refid="_skill__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91298">
        <label>string.h</label>
      </node>
      <node id="91486">
        <label>SeBLSProcCharLoad.inl</label>
        <link refid="_src_2_se_b_l_s_proc_char_load_8inl"/>
      </node>
      <node id="91450">
        <label>DataMgr.h</label>
        <link refid="_src_2_data_mgr_8h"/>
      </node>
      <node id="91425">
        <label>Level_table.hpp</label>
        <link refid="_level__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91335">
        <label>SeDBVariant.h</label>
        <link refid="_se_d_b_variant_8h"/>
        <childnode refid="91299" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91342">
        <label>SeCharNexusFriend.inl</label>
        <link refid="_se_char_nexus_friend_8inl"/>
      </node>
      <node id="91320">
        <label>SeConfig.h</label>
        <link refid="_se_config_8h"/>
        <childnode refid="91319" relation="include">
        </childnode>
      </node>
      <node id="91296">
        <label>ctime</label>
      </node>
      <node id="91403">
        <label>Voice_table.hpp</label>
        <link refid="_voice__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91352">
        <label>SePtlDBStream.h</label>
        <link refid="_se_ptl_d_b_stream_8h"/>
        <childnode refid="91332" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91344">
        <label>SeCharLadder.inl</label>
        <link refid="_se_char_ladder_8inl"/>
      </node>
      <node id="91371">
        <label>TableMgr.h</label>
        <link refid="_table_mgr_8h"/>
        <childnode refid="91372" relation="include">
        </childnode>
        <childnode refid="91374" relation="include">
        </childnode>
        <childnode refid="91375" relation="include">
        </childnode>
        <childnode refid="91376" relation="include">
        </childnode>
        <childnode refid="91377" relation="include">
        </childnode>
        <childnode refid="91378" relation="include">
        </childnode>
        <childnode refid="91379" relation="include">
        </childnode>
        <childnode refid="91380" relation="include">
        </childnode>
        <childnode refid="91381" relation="include">
        </childnode>
        <childnode refid="91382" relation="include">
        </childnode>
        <childnode refid="91383" relation="include">
        </childnode>
        <childnode refid="91384" relation="include">
        </childnode>
        <childnode refid="91385" relation="include">
        </childnode>
        <childnode refid="91386" relation="include">
        </childnode>
        <childnode refid="91387" relation="include">
        </childnode>
        <childnode refid="91388" relation="include">
        </childnode>
        <childnode refid="91389" relation="include">
        </childnode>
        <childnode refid="91390" relation="include">
        </childnode>
        <childnode refid="91391" relation="include">
        </childnode>
        <childnode refid="91392" relation="include">
        </childnode>
        <childnode refid="91393" relation="include">
        </childnode>
        <childnode refid="91394" relation="include">
        </childnode>
        <childnode refid="91395" relation="include">
        </childnode>
        <childnode refid="91396" relation="include">
        </childnode>
        <childnode refid="91397" relation="include">
        </childnode>
        <childnode refid="91398" relation="include">
        </childnode>
        <childnode refid="91399" relation="include">
        </childnode>
        <childnode refid="91400" relation="include">
        </childnode>
        <childnode refid="91401" relation="include">
        </childnode>
        <childnode refid="91402" relation="include">
        </childnode>
        <childnode refid="91403" relation="include">
        </childnode>
        <childnode refid="91404" relation="include">
        </childnode>
        <childnode refid="91405" relation="include">
        </childnode>
        <childnode refid="91406" relation="include">
        </childnode>
        <childnode refid="91407" relation="include">
        </childnode>
        <childnode refid="91306" relation="include">
        </childnode>
        <childnode refid="91408" relation="include">
        </childnode>
        <childnode refid="91409" relation="include">
        </childnode>
        <childnode refid="91410" relation="include">
        </childnode>
        <childnode refid="91411" relation="include">
        </childnode>
        <childnode refid="91412" relation="include">
        </childnode>
        <childnode refid="91413" relation="include">
        </childnode>
        <childnode refid="91414" relation="include">
        </childnode>
        <childnode refid="91422" relation="include">
        </childnode>
        <childnode refid="91416" relation="include">
        </childnode>
        <childnode refid="91417" relation="include">
        </childnode>
        <childnode refid="91419" relation="include">
        </childnode>
        <childnode refid="91438" relation="include">
        </childnode>
        <childnode refid="91421" relation="include">
        </childnode>
        <childnode refid="91420" relation="include">
        </childnode>
        <childnode refid="91439" relation="include">
        </childnode>
        <childnode refid="91418" relation="include">
        </childnode>
        <childnode refid="91423" relation="include">
        </childnode>
        <childnode refid="91425" relation="include">
        </childnode>
        <childnode refid="91440" relation="include">
        </childnode>
        <childnode refid="91424" relation="include">
        </childnode>
        <childnode refid="91441" relation="include">
        </childnode>
        <childnode refid="91442" relation="include">
        </childnode>
        <childnode refid="91428" relation="include">
        </childnode>
        <childnode refid="91432" relation="include">
        </childnode>
        <childnode refid="91443" relation="include">
        </childnode>
        <childnode refid="91433" relation="include">
        </childnode>
        <childnode refid="91434" relation="include">
        </childnode>
        <childnode refid="91435" relation="include">
        </childnode>
        <childnode refid="91436" relation="include">
        </childnode>
        <childnode refid="91444" relation="include">
        </childnode>
      </node>
      <node id="91317">
        <label>SeTown.h</label>
        <link refid="_src_2_se_town_8h"/>
        <childnode refid="91318" relation="include">
        </childnode>
        <childnode refid="91370" relation="include">
        </childnode>
        <childnode refid="91451" relation="include">
        </childnode>
      </node>
      <node id="91357">
        <label>SePtl_TS_To_WS.h</label>
        <link refid="_se_ptl___t_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91356">
        <label>SePtl_WS_To_TS.h</label>
        <link refid="_se_ptl___w_s___to___t_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91474">
        <label>SePtl_RS_To_BLS.h</label>
        <link refid="_se_ptl___r_s___to___b_l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91330">
        <label>TeNetMgr.h</label>
      </node>
      <node id="91506">
        <label>SeLWProcess.inl</label>
        <link refid="_se_l_w_process_8inl"/>
      </node>
      <node id="91459">
        <label>InfoMgr.h</label>
        <link refid="_src_2_info_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91341">
        <label>SeCharItem.inl</label>
        <link refid="_se_char_item_8inl"/>
      </node>
      <node id="91517">
        <label>SeWRSend.inl</label>
        <link refid="_se_w_r_send_8inl"/>
      </node>
      <node id="91306">
        <label>vector</label>
      </node>
      <node id="91406">
        <label>TableMgrDef.h</label>
        <link refid="_table_mgr_def_8h"/>
        <childnode refid="91306" relation="include">
        </childnode>
        <childnode refid="91309" relation="include">
        </childnode>
      </node>
      <node id="91513">
        <label>SeWorldOther.inl</label>
        <link refid="_src_2_se_world_other_8inl"/>
      </node>
      <node id="91451">
        <label>SeTown.inl</label>
        <link refid="_src_2_se_town_8inl"/>
      </node>
      <node id="91510">
        <label>SeDBSerPro_Char.inl</label>
        <link refid="_src_2_se_d_b_ser_pro___char_8inl"/>
      </node>
      <node id="91377">
        <label>MapInfo_table.hpp</label>
        <link refid="_map_info__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91376">
        <label>Buffer_table.hpp</label>
        <link refid="_buffer__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91369">
        <label>MobaApi.hpp</label>
        <link refid="_moba_api_8hpp"/>
      </node>
      <node id="91447">
        <label>SeAllTableData.h</label>
        <link refid="_world_server_2_src_2_se_all_table_data_8h"/>
        <childnode refid="91336" relation="include">
        </childnode>
        <childnode refid="91448" relation="include">
        </childnode>
        <childnode refid="91449" relation="include">
        </childnode>
        <childnode refid="91332" relation="include">
        </childnode>
        <childnode refid="91337" relation="include">
        </childnode>
      </node>
      <node id="91514">
        <label>SeWBLSend.inl</label>
        <link refid="_se_w_b_l_send_8inl"/>
      </node>
      <node id="91419">
        <label>Avatar_table.hpp</label>
        <link refid="_avatar__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91312">
        <label>new</label>
      </node>
      <node id="91326">
        <label>SePtlDefine.h</label>
        <link refid="_se_ptl_define_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91322" relation="include">
        </childnode>
        <childnode refid="91327" relation="include">
        </childnode>
        <childnode refid="91328" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
      </node>
      <node id="91319">
        <label>SeShareDef.h</label>
        <link refid="_se_share_def_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
      </node>
      <node id="91303">
        <label>sstream</label>
      </node>
      <node id="91410">
        <label>ItemCompose_table.hpp</label>
        <link refid="_item_compose__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91325">
        <label>EsString.h</label>
      </node>
      <node id="91512">
        <label>SeWorldLogic.inl</label>
        <link refid="_src_2_se_world_logic_8inl"/>
      </node>
      <node id="91392">
        <label>Indexoffer_table.hpp</label>
        <link refid="_indexoffer__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91492">
        <label>SeBLTSend.inl</label>
        <link refid="_se_b_l_t_send_8inl"/>
      </node>
      <node id="91497">
        <label>SeVirtConnMgr.h</label>
        <link refid="_se_virt_conn_mgr_8h"/>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91330" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91498" relation="include">
        </childnode>
      </node>
      <node id="91386">
        <label>Rack_table.hpp</label>
        <link refid="_rack__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91460">
        <label>ActiveAvatarMgr.h</label>
        <link refid="_src_2_active_avatar_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91286">
        <label>SeInclude.h</label>
        <link refid="_se_include_8h"/>
        <childnode refid="91287" relation="include">
        </childnode>
        <childnode refid="91288" relation="include">
        </childnode>
        <childnode refid="91289" relation="include">
        </childnode>
        <childnode refid="91290" relation="include">
        </childnode>
        <childnode refid="91291" relation="include">
        </childnode>
        <childnode refid="91292" relation="include">
        </childnode>
        <childnode refid="91293" relation="include">
        </childnode>
        <childnode refid="91294" relation="include">
        </childnode>
        <childnode refid="91295" relation="include">
        </childnode>
        <childnode refid="91296" relation="include">
        </childnode>
        <childnode refid="91297" relation="include">
        </childnode>
        <childnode refid="91298" relation="include">
        </childnode>
        <childnode refid="91299" relation="include">
        </childnode>
        <childnode refid="91300" relation="include">
        </childnode>
        <childnode refid="91301" relation="include">
        </childnode>
        <childnode refid="91302" relation="include">
        </childnode>
        <childnode refid="91303" relation="include">
        </childnode>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91305" relation="include">
        </childnode>
        <childnode refid="91306" relation="include">
        </childnode>
        <childnode refid="91307" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91309" relation="include">
        </childnode>
        <childnode refid="91310" relation="include">
        </childnode>
        <childnode refid="91311" relation="include">
        </childnode>
        <childnode refid="91312" relation="include">
        </childnode>
        <childnode refid="91313" relation="include">
        </childnode>
      </node>
      <node id="91315">
        <label>time.h</label>
      </node>
      <node id="91455">
        <label>utils/Time.hpp</label>
        <link refid="_time_8hpp"/>
        <childnode refid="91315" relation="include">
        </childnode>
        <childnode refid="91369" relation="include">
        </childnode>
      </node>
      <node id="91292">
        <label>math.h</label>
      </node>
      <node id="91411">
        <label>PresetShop_table.hpp</label>
        <link refid="_preset_shop__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91400">
        <label>Language_table.hpp</label>
        <link refid="_language__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91299">
        <label>EsType.h</label>
      </node>
      <node id="91429">
        <label>AppendCost_table.hpp</label>
        <link refid="_append_cost__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91499">
        <label>SeRandNumFomula.h</label>
        <link refid="_se_rand_num_fomula_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91463" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
      </node>
      <node id="91283">
        <label>WorldServer/Src/SeTWProcess.cpp</label>
        <link refid="Src/SeTWProcess.cpp"/>
        <childnode refid="91284" relation="include">
        </childnode>
        <childnode refid="91521" relation="include">
        </childnode>
        <childnode refid="91522" relation="include">
        </childnode>
        <childnode refid="91504" relation="include">
        </childnode>
      </node>
      <node id="91509">
        <label>SeBWProcess.inl</label>
        <link refid="_se_b_w_process_8inl"/>
      </node>
      <node id="91391">
        <label>RaceText_table.hpp</label>
        <link refid="_race_text__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91294">
        <label>cctype</label>
      </node>
      <node id="91501">
        <label>SeWLSend.inl</label>
        <link refid="_se_w_l_send_8inl"/>
      </node>
      <node id="91323">
        <label>SeToolTemplate.inl</label>
        <link refid="_se_tool_template_8inl"/>
      </node>
      <node id="91518">
        <label>SeRWProcess.inl</label>
        <link refid="_se_r_w_process_8inl"/>
      </node>
      <node id="91393">
        <label>UnitHeadArea_table.hpp</label>
        <link refid="_unit_head_area__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91434">
        <label>RankStage_table.hpp</label>
        <link refid="_rank_stage__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91343">
        <label>SeCharRaceArena.inl</label>
        <link refid="_se_char_race_arena_8inl"/>
      </node>
      <node id="91368">
        <label>utils/Clock.hpp</label>
        <link refid="_clock_8hpp"/>
        <childnode refid="91316" relation="include">
        </childnode>
        <childnode refid="91315" relation="include">
        </childnode>
        <childnode refid="91369" relation="include">
        </childnode>
      </node>
      <node id="91437">
        <label>MissionInfo_table.hpp</label>
        <link refid="_mission_info__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91424">
        <label>ChoiceItem_table.hpp</label>
        <link refid="_choice_item__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91420">
        <label>AvatarModel_table.hpp</label>
        <link refid="_avatar_model__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91351">
        <label>SeCharRaceHero.inl</label>
        <link refid="_se_char_race_hero_8inl"/>
      </node>
      <node id="91309">
        <label>unordered_map</label>
      </node>
      <node id="91454">
        <label>BlockServerDef.h</label>
        <link refid="_src_2_block_server_def_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91453" relation="include">
        </childnode>
      </node>
      <node id="91413">
        <label>Shop_table.hpp</label>
        <link refid="_shop__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91313">
        <label>SeDefine.h</label>
        <link refid="_se_define_8h"/>
      </node>
      <node id="91401">
        <label>StarWheel_table.hpp</label>
        <link refid="_star_wheel__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91379">
        <label>Racedrop_table.hpp</label>
        <link refid="_racedrop__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91318">
        <label>WorldServerDef.h</label>
        <link refid="_src_2_world_server_def_8h"/>
        <childnode refid="91319" relation="include">
        </childnode>
        <childnode refid="91320" relation="include">
        </childnode>
        <childnode refid="91321" relation="include">
        </childnode>
        <childnode refid="91329" relation="include">
        </childnode>
        <childnode refid="91330" relation="include">
        </childnode>
        <childnode refid="91331" relation="include">
        </childnode>
        <childnode refid="91332" relation="include">
        </childnode>
        <childnode refid="91336" relation="include">
        </childnode>
        <childnode refid="91352" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91353" relation="include">
        </childnode>
        <childnode refid="91354" relation="include">
        </childnode>
        <childnode refid="91355" relation="include">
        </childnode>
        <childnode refid="91356" relation="include">
        </childnode>
        <childnode refid="91357" relation="include">
        </childnode>
        <childnode refid="91358" relation="include">
        </childnode>
        <childnode refid="91359" relation="include">
        </childnode>
        <childnode refid="91360" relation="include">
        </childnode>
        <childnode refid="91361" relation="include">
        </childnode>
        <childnode refid="91362" relation="include">
        </childnode>
        <childnode refid="91363" relation="include">
        </childnode>
        <childnode refid="91364" relation="include">
        </childnode>
        <childnode refid="91365" relation="include">
        </childnode>
        <childnode refid="91366" relation="include">
        </childnode>
        <childnode refid="91367" relation="include">
        </childnode>
      </node>
      <node id="91438">
        <label>AvatarAnimation_table.hpp</label>
        <link refid="_avatar_animation__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91321">
        <label>SeServerTool.h</label>
        <link refid="_se_server_tool_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
        <childnode refid="91322" relation="include">
        </childnode>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91496">
        <label>SeBLNSend.inl</label>
        <link refid="_se_b_l_n_send_8inl"/>
      </node>
      <node id="91387">
        <label>RenJi_table.hpp</label>
        <link refid="_ren_ji__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91338">
        <label>SeCharInfo.inl</label>
        <link refid="_se_char_info_8inl"/>
      </node>
      <node id="91452">
        <label>SePlayer.h</label>
        <link refid="_world_server_2_src_2_se_player_8h"/>
        <childnode refid="91445" relation="include">
        </childnode>
        <childnode refid="91370" relation="include">
        </childnode>
        <childnode refid="91453" relation="include">
        </childnode>
        <childnode refid="91454" relation="include">
        </childnode>
        <childnode refid="91446" relation="include">
        </childnode>
        <childnode refid="91455" relation="include">
        </childnode>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91456" relation="include">
        </childnode>
        <childnode refid="91457" relation="include">
        </childnode>
        <childnode refid="91458" relation="include">
        </childnode>
        <childnode refid="91459" relation="include">
        </childnode>
        <childnode refid="91460" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
        <childnode refid="91461" relation="include">
        </childnode>
        <childnode refid="91462" relation="include">
        </childnode>
        <childnode refid="91464" relation="include">
        </childnode>
        <childnode refid="91465" relation="include">
        </childnode>
        <childnode refid="91466" relation="include">
        </childnode>
        <childnode refid="91467" relation="include">
        </childnode>
      </node>
      <node id="91395">
        <label>TaskRecom_table.hpp</label>
        <link refid="_task_recom__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91378">
        <label>Item_table.hpp</label>
        <link refid="_item__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91310" relation="include">
        </childnode>
        <childnode refid="91306" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91439">
        <label>AvatarShop_table.hpp</label>
        <link refid="_avatar_shop__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91402">
        <label>LeagueRank_table.hpp</label>
        <link refid="_league_rank__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91337">
        <label>SeAllTable.inl</label>
        <link refid="_se_all_table_8inl"/>
        <childnode refid="91338" relation="include">
        </childnode>
        <childnode refid="91339" relation="include">
        </childnode>
        <childnode refid="91340" relation="include">
        </childnode>
        <childnode refid="91341" relation="include">
        </childnode>
        <childnode refid="91342" relation="include">
        </childnode>
        <childnode refid="91343" relation="include">
        </childnode>
        <childnode refid="91344" relation="include">
        </childnode>
        <childnode refid="91345" relation="include">
        </childnode>
        <childnode refid="91346" relation="include">
        </childnode>
        <childnode refid="91347" relation="include">
        </childnode>
        <childnode refid="91348" relation="include">
        </childnode>
        <childnode refid="91349" relation="include">
        </childnode>
        <childnode refid="91350" relation="include">
        </childnode>
        <childnode refid="91351" relation="include">
        </childnode>
      </node>
      <node id="91397">
        <label>Horse_table.hpp</label>
        <link refid="_horse__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91360">
        <label>SePtl_BS_To_WS.h</label>
        <link refid="_se_ptl___b_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91359">
        <label>SePtl_WS_To_BS.h</label>
        <link refid="_se_ptl___w_s___to___b_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91418">
        <label>Achievement_table.hpp</label>
        <link refid="_achievement__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91456">
        <label>EquipSchemaMgr.h</label>
        <link refid="_src_2_equip_schema_mgr_8h"/>
        <childnode refid="91447" relation="include">
        </childnode>
        <childnode refid="91450" relation="include">
        </childnode>
      </node>
      <node id="91310">
        <label>set</label>
      </node>
      <node id="91404">
        <label>TableLoader.h</label>
        <link refid="_table_loader_8h"/>
      </node>
      <node id="91477">
        <label>SePtl_BLS_To_TS.h</label>
        <link refid="_se_ptl___b_l_s___to___t_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
      </node>
      <node id="91478">
        <label>SePtl_TS_To_BLS.h</label>
        <link refid="_se_ptl___t_s___to___b_l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
      <node id="91484">
        <label>SeBLWSend.inl</label>
        <link refid="_se_b_l_w_send_8inl"/>
      </node>
      <node id="91467">
        <label>SePlayer.inl</label>
        <link refid="_world_server_2_src_2_se_player_8inl"/>
      </node>
      <node id="91422">
        <label>SkillTips_table.hpp</label>
        <link refid="_skill_tips__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91310" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91300">
        <label>algorithm</label>
      </node>
      <node id="91448">
        <label>SeDBMemPool.h</label>
        <link refid="_se_d_b_mem_pool_8h"/>
        <childnode refid="91286" relation="include">
        </childnode>
      </node>
      <node id="91407">
        <label>AddtionalFunction.h</label>
        <link refid="_addtional_function_8h"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91372" relation="include">
        </childnode>
      </node>
      <node id="91380">
        <label>SelHero_table.hpp</label>
        <link refid="_sel_hero__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91364">
        <label>SePtl_RS_To_WS.h</label>
        <link refid="_se_ptl___r_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91363">
        <label>SePtl_WS_To_RS.h</label>
        <link refid="_se_ptl___w_s___to___r_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91521">
        <label>TownServerMgr.h</label>
        <link refid="_world_server_2_src_2_town_server_mgr_8h"/>
        <childnode refid="91367" relation="include">
        </childnode>
      </node>
      <node id="91297">
        <label>stdio.h</label>
      </node>
      <node id="91482">
        <label>SePtl_NS_To_BLS.h</label>
        <link refid="_se_ptl___n_s___to___b_l_s_8h"/>
      </node>
      <node id="91381">
        <label>AI_table.hpp</label>
        <link refid="_a_i__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91487">
        <label>SeRBLProcess.inl</label>
        <link refid="_se_r_b_l_process_8inl"/>
      </node>
      <node id="91355">
        <label>SePtl_LS_To_WS.h</label>
        <link refid="_se_ptl___l_s___to___w_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91354">
        <label>SePtl_WS_To_LS.h</label>
        <link refid="_se_ptl___w_s___to___l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
      </node>
      <node id="91284">
        <label>WorldServer.h</label>
        <link refid="_src_2_world_server_8h"/>
        <childnode refid="91285" relation="include">
        </childnode>
        <childnode refid="91314" relation="include">
        </childnode>
        <childnode refid="91317" relation="include">
        </childnode>
        <childnode refid="91452" relation="include">
        </childnode>
        <childnode refid="91468" relation="include">
        </childnode>
        <childnode refid="91469" relation="include">
        </childnode>
        <childnode refid="91497" relation="include">
        </childnode>
        <childnode refid="91316" relation="include">
        </childnode>
        <childnode refid="91499" relation="include">
        </childnode>
        <childnode refid="91371" relation="include">
        </childnode>
        <childnode refid="91445" relation="include">
        </childnode>
        <childnode refid="91500" relation="include">
        </childnode>
        <childnode refid="91318" relation="include">
        </childnode>
        <childnode refid="91501" relation="include">
        </childnode>
        <childnode refid="91502" relation="include">
        </childnode>
        <childnode refid="91503" relation="include">
        </childnode>
        <childnode refid="91504" relation="include">
        </childnode>
        <childnode refid="91505" relation="include">
        </childnode>
        <childnode refid="91506" relation="include">
        </childnode>
        <childnode refid="91507" relation="include">
        </childnode>
        <childnode refid="91508" relation="include">
        </childnode>
        <childnode refid="91509" relation="include">
        </childnode>
        <childnode refid="91510" relation="include">
        </childnode>
        <childnode refid="91511" relation="include">
        </childnode>
        <childnode refid="91512" relation="include">
        </childnode>
        <childnode refid="91513" relation="include">
        </childnode>
        <childnode refid="91514" relation="include">
        </childnode>
        <childnode refid="91515" relation="include">
        </childnode>
        <childnode refid="91516" relation="include">
        </childnode>
        <childnode refid="91517" relation="include">
        </childnode>
        <childnode refid="91518" relation="include">
        </childnode>
        <childnode refid="91519" relation="include">
        </childnode>
        <childnode refid="91520" relation="include">
        </childnode>
      </node>
      <node id="91416">
        <label>SystemPrompt_table.hpp</label>
        <link refid="_system_prompt__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91428">
        <label>Strengthen_table.hpp</label>
        <link refid="_strengthen__table_8hpp"/>
        <childnode refid="91304" relation="include">
        </childnode>
        <childnode refid="91308" relation="include">
        </childnode>
        <childnode refid="91373" relation="include">
        </childnode>
      </node>
      <node id="91339">
        <label>SeCharTask.inl</label>
        <link refid="_se_char_task_8inl"/>
      </node>
      <node id="91483">
        <label>SeBlockOther.inl</label>
        <link refid="_src_2_se_block_other_8inl"/>
      </node>
      <node id="91476">
        <label>SePtl_MS_To_BLS.h</label>
        <link refid="_se_ptl___m_s___to___b_l_s_8h"/>
        <childnode refid="91326" relation="include">
        </childnode>
        <childnode refid="91334" relation="include">
        </childnode>
        <childnode refid="91333" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_src_2_se_t_w_process_8cpp_1a24cd3c37a165a8c4626d9e78df4574ff" prot="public" static="no">
        <name>SERVER</name>
        <initializer><ref refid="class_world_server" kindref="compound">WorldServer</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/SeTWProcess.cpp" line="4" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/SeTWProcess.cpp" bodystart="4" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" prot="public" static="no">
        <name>GET_CUR_CONN_AND_TOWN</name>
        <param><defname>pkConnect</defname></param>
        <param><defname>pkTS</defname></param>
        <initializer><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>* pkConnect = (<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;\
	if(!pkConnect) return;\
	<ref refid="struct_se_town" kindref="compound">SeTown</ref>* pkTS = <ref refid="src_2_se_world_other_8inl_1ac4c8a0e6c72833857121337ccfe23eb6" kindref="member">GetTSBySock</ref>(pkConnect-&gt;kSock);\
	if(!pkTS) return;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/SeTWProcess.cpp" line="9" column="9" bodyfile="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/SeTWProcess.cpp" bodystart="9" bodyend="-1"/>
        <referencedby refid="class_world_server_1a612a705611b018b2673301555ca65aa8" compoundref="_src_2_se_t_w_process_8cpp" startline="188" endline="194">WorldServer::ProcessTW_PlayerValidate</referencedby>
        <referencedby refid="class_world_server_1aaae57bfd4b92adfde74cdd6934cbd721" compoundref="_src_2_se_t_w_process_8cpp" startline="196" endline="224">WorldServer::ProcessTW_QueryName</referencedby>
        <referencedby refid="class_world_server_1a5061e544cb18be85386e3484201ad8b4" compoundref="_src_2_se_t_w_process_8cpp" startline="524" endline="535">WorldServer::ProcessTW_SearchUserArchivesDetailInfoReq</referencedby>
        <referencedby refid="class_world_server_1a472b4071bcd195bb834d45d3518bf075" compoundref="_src_2_se_t_w_process_8cpp" startline="497" endline="522">WorldServer::ProcessTW_SearchUserArchivesInfoReq</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_src_2_world_server_8h" kindref="compound">WorldServer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_world_server_2_src_2_town_server_mgr_8h" kindref="compound">TownServerMgr.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="_src_2_se_t_w_process_8cpp_1a24cd3c37a165a8c4626d9e78df4574ff" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SERVER<sp/>WorldServer</highlight></codeline>
<codeline lineno="5"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_t_w_process_8inc" kindref="compound">SeTWProcess.inc</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_se_w_b_send_8inl" kindref="compound">SeWBSend.inl</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>SERVER</highlight></codeline>
<codeline lineno="8"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>GET_CUR_CONN_AND_TOWN(pkConnect,<sp/>pkTS)<sp/>\</highlight></codeline>
<codeline lineno="10"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>SeConnect*<sp/>pkConnect<sp/>=<sp/>(SeConnect*)pkSender;\</highlight></codeline>
<codeline lineno="11"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if(!pkConnect)<sp/>return;\</highlight></codeline>
<codeline lineno="12"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>SeTown*<sp/>pkTS<sp/>=<sp/>GetTSBySock(pkConnect-&gt;kSock);\</highlight></codeline>
<codeline lineno="13"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>if(!pkTS)<sp/>return;</highlight></codeline>
<codeline lineno="14"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="class_world_server_1a1f8b19400a9343dd5ec54bb264d0f16b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a1f8b19400a9343dd5ec54bb264d0f16b" kindref="member">WorldServer::PreProcessTW</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="16"><highlight class="normal">{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="18"><highlight class="normal">}</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="class_world_server_1a45693227a5db854d18b639f6377a43b2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a45693227a5db854d18b639f6377a43b2" kindref="member">WorldServer::ProcessTW_Register</ref>(<ref refid="struct_se_t_w___register" kindref="compound">SeTW_Register</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkConnect-&gt;eIndex<sp/>!=<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ab38927b78f21d96dbef4e8121d7431cc" kindref="member">SSI_UNKNOWN</ref>)</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_t_w___register_1a4f2e4d3009512d89a188ed4a2be76115" kindref="member">dwTownMagic</ref><sp/>!=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa051b38374860159471f6a78f1167a7eb" kindref="member">SSD_MSANGO_MAGIC</ref><sp/>||<sp/>pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref><sp/>==<sp/>0<sp/>||<sp/><ref refid="class_world_server_1a21d86721536675ddebc85b0babe7f702" kindref="member">m_pkDBSConn</ref>-&gt;<ref refid="struct_se_virt_conn_1a498d90b78881f21f62000e5848c654e2" kindref="member">eState</ref><sp/>!=<sp/><ref refid="_se_virt_conn_mgr_8h_1ad6484f55baf154efe4f216e3d9c1f459a1e34c360626a791e16a13af7a6bd44fe" kindref="member">SVCS_REGISTERED</ref>)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1af5cb35a70c2b6c0e2fe1b3fcf178e877" kindref="member">m_kNetMgr</ref>.Disconnect(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TSWorldServer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_world_server_1a0710d23c99d6da6a738a6ddc00628c01" kindref="member">IsWSReady</ref>())</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1af5cb35a70c2b6c0e2fe1b3fcf178e877" kindref="member">m_kNetMgr</ref>.Disconnect(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a86c514c18920703183c91300b87d3f37" kindref="member">GetTSByID</ref>(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkTS)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//pkTS<sp/>=<sp/>GetTSByIndex(pkRegister-&gt;kInfo.iTownIndex);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTS)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a7ea3aacd1fc203bc8437dbd109e5e1dc" kindref="member">SendWT_RegisterRet</ref>(<ref refid="_se_server_define_8h_1a83f922065d39660cc6ff3ff3e193daa1ac80442ea100ef13c4582723562f3ea53" kindref="member">SRR_REPEAT</ref>,<sp/><ref refid="class_world_server_1a06efe58eed0734b5c8ae608249c71051" kindref="member">m_kConfig</ref>.<ref refid="struct_se_world_config_1a17bf105e68a701ec7d2a58ca42fc90bd" kindref="member">dwAreaID</ref>,<sp/>&amp;pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;TS<sp/>has<sp/>been<sp/>registered:[%s:%d]<sp/>id[%s]&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>));</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>IPTSTS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkOldTSConnect<sp/>=<sp/>pkTS-&gt;<ref refid="struct_se_town_1a94b4a15c52c24383c1f0cebbef4e0e5a" kindref="member">GetConnect</ref>();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkOldTSConnect<sp/>&amp;&amp;<sp/>strcmp(pkOldTSConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1af5cb35a70c2b6c0e2fe1b3fcf178e877" kindref="member">m_kNetMgr</ref>.Disconnect(pkOldTSConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkTS-&gt;<ref refid="struct_se_town_1a14413258832e26cad5f2709328f24668" kindref="member">IsClosed</ref>())</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;Disconnect<sp/>TS<sp/>id[%s]<sp/>idx[%d]<sp/>for<sp/>Same<sp/>IP<sp/>Register<sp/>&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkTS-&gt;<ref refid="struct_se_town_1a62085b84062f2ed37e6394def7966b8e" kindref="member">GetServerID</ref>()),<sp/>pkTS-&gt;<ref refid="struct_se_town_1ae6466fa6bb4cf28102053adf72ba9354" kindref="member">GetTownIndex</ref>());</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1a1d582a5dc2c36ab5ca6776cd9e84cc06" kindref="member">SetClosed</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_world_server_2_src_2_town_server_mgr_8cpp_1a68ebf9b66581ab4a9d41854bfe497d7b" kindref="member">g_kTownServerMgr</ref>.<ref refid="classmoba_1_1_server_session_mgr_1a39198f291e1e4c7b90da8fd2efbf1581" kindref="member">checkServer</ref>(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>))</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConnect-&gt;eIndex<sp/>=<sp/><ref refid="_se_ptl_define_8h_1aefb47f3959b8be9e164448819e4bb7f9ae139eef3db4728a79b263af09cecca79" kindref="member">SSI_TS</ref>;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a334966c0cdc9581fe698c4677ba3b15d" kindref="member">dwServerID</ref><sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS<sp/>=<sp/>SeTown::NEW(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1ab0c01305eb97dbf58254512354fe7f0a" kindref="member">SetConnect</ref>(pkConnect);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1a5ddaa8d1878f5e92e15feb88b53b1dd8" kindref="member">Initialize</ref>(pkData-&gt;<ref refid="struct_se_t_w___register_1a7521d108a73d8ce4be266b1906714251" kindref="member">kInfo</ref>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1ae1e995ee3834fa8efe2f0a44c28a0152" kindref="member">m_kAllTS</ref>[pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>]<sp/>=<sp/>pkTS;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MapServerID2Time::iterator<sp/>iMapDisconnectTSItr<sp/>=<sp/><ref refid="class_world_server_1ae892cd4808f5f3a6ed4121d7567d7202" kindref="member">m_kAllDisconnectTS</ref>.find(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>);</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iMapDisconnectTSItr<sp/>!=<sp/><ref refid="class_world_server_1ae892cd4808f5f3a6ed4121d7567d7202" kindref="member">m_kAllDisconnectTS</ref>.end())</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1ae892cd4808f5f3a6ed4121d7567d7202" kindref="member">m_kAllDisconnectTS</ref>.erase(iMapDisconnectTSItr++);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_world_server_2_src_2_town_server_mgr_8cpp_1a68ebf9b66581ab4a9d41854bfe497d7b" kindref="member">g_kTownServerMgr</ref>.<ref refid="classmoba_1_1_server_session_mgr_1aa4ad2a436182079b99c65b99f7fd08e9" kindref="member">createServer</ref>(*pkConnect);</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a7ea3aacd1fc203bc8437dbd109e5e1dc" kindref="member">SendWT_RegisterRet</ref>(<ref refid="_se_server_define_8h_1a83f922065d39660cc6ff3ff3e193daa1a9066cbcd85981ad03cd92ba399a18338" kindref="member">SRR_SUCCESS</ref>,<sp/><ref refid="class_world_server_1a06efe58eed0734b5c8ae608249c71051" kindref="member">m_kConfig</ref>.<ref refid="struct_se_world_config_1a17bf105e68a701ec7d2a58ca42fc90bd" kindref="member">dwAreaID</ref>,<sp/>&amp;pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;TS<sp/>register<sp/>successfully:[%s:%d]<sp/>id[%s]&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a23b51e87d8b7b2201a03833c9adde232" kindref="member">acIP</ref>,<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1a6be4df6ec540b10b76496b0d353df27c" kindref="member">kNetAddr</ref>.<ref refid="struct_se_net_addr_1a989fa5b025bc039122e8d2a29838fde9" kindref="member">iPort</ref>,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkData-&gt;<ref refid="struct_se_t_w___register_1a2026a704ba1d5503791b82c8e5ffe5b8" kindref="member">dwServerID</ref>));</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="class_world_server_1a16404e46df54a1d8c4d7196f53f5c5c4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a16404e46df54a1d8c4d7196f53f5c5c4" kindref="member">WorldServer::ProcessTW_HeartPackage</ref>(<ref refid="struct_se_t_w___heart_package" kindref="compound">SeTW_HeartPackage</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="99"><highlight class="normal">{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a9bc94c9fcfe2410dd0fa0ee5e35e22fe" kindref="member">SendWT_HeartPackageRet</ref>(&amp;pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a9cd38ce331e8c6b21890edcb859bb637" kindref="member">GetTSBySock</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTS)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1ae669c61aac1eb6f98fd654e118626010" kindref="member">SetLastRecvTime</ref>(<ref refid="class_world_server_1aaf23960f13ff4a978cf2a7206ce3222a" kindref="member">GetServerTime</ref>());</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal">}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111" refid="class_world_server_1a1f99e7860ba73eacc608fe74be60f638" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a1f99e7860ba73eacc608fe74be60f638" kindref="member">WorldServer::ProcessTW_LoadPlayerInfoAgain</ref>(<ref refid="struct_se_t_w___load_player_info_again" kindref="compound">SeTW_LoadPlayerInfoAgain</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="112"><highlight class="normal">{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a9cd38ce331e8c6b21890edcb859bb637" kindref="member">GetTSBySock</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkTS)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;SeLoadPlayerInfoAgain&gt;&amp;<sp/>rkLoadAgainPlayer<sp/>=<sp/>pkTS-&gt;<ref refid="struct_se_town_1a396359f4ae6b033749c3c1583994372e" kindref="member">GetLoadAgainPlayer</ref>();</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a42696d0d0ecc57a5f47d78e9866800cb" kindref="member">iBegin</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkLoadAgainPlayer.clear();</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a549d2dade226b4baac1207a81ad680c3" kindref="member">iNum</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_load_player_info_again" kindref="compound">SeLoadPlayerInfoAgain</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a67b86e5b79888383285031683ad3feb6" kindref="member">akPlayerInfo</ref>[i];</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rkLoadAgainPlayer.push_back(rkPlayerInfo);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a42696d0d0ecc57a5f47d78e9866800cb" kindref="member">iBegin</ref><sp/>+<sp/>pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a549d2dade226b4baac1207a81ad680c3" kindref="member">iNum</ref><sp/>&lt;<sp/>pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a4788996070892d0f188e02ac08269679" kindref="member">iTotalNum</ref>)</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Load<sp/>TS<sp/>player<sp/>again:TS[%s]<sp/>PlayerNum[%d]&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkTS-&gt;<ref refid="struct_se_town_1a62085b84062f2ed37e6394def7966b8e" kindref="member">GetServerID</ref>()),<sp/>pkData-&gt;<ref refid="struct_se_t_w___load_player_info_again_1a4788996070892d0f188e02ac08269679" kindref="member">iTotalNum</ref>);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>WSTS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_world_server_1a0710d23c99d6da6a738a6ddc00628c01" kindref="member">IsWSReady</ref>())</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a52d81ad1e0279a2da9a5a12f4a139b42" kindref="member">SendWT_IsReady</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>&amp;pkTS-&gt;<ref refid="struct_se_town_1a133392dc66f03dad54b5effabc235417" kindref="member">GetHSock</ref>());</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1a42756bd22d9b794a87bd84dacd9b2355" kindref="member">SetPlayerNum</ref>(0);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBlockServerNum<sp/>=<sp/><ref refid="class_world_server_1a06a8e758964ba14fe6e7bb7095692991" kindref="member">GetBlockServerNum</ref>();</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iBlockServerNum<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>std::map&lt;int,<sp/>VLoadAgainPlayer&gt;<sp/>kMID2LoadAgainPlayer;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>iBlockServerNum;<sp/>++i)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_world_server_def_8h_1a90e8675a74cdf8d6b25b39a3f571b86e" kindref="member">VLoadAgainPlayer</ref><sp/>akLoad;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kMID2LoadAgainPlayer[i]<sp/>=<sp/>akLoad;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkLoadAgainPlayer.empty())</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_src_2_world_server_8cpp_1a64c6aeb5282ea4d0f1dd5772c167b301" kindref="member">g_kWorldServer</ref>.<ref refid="class_world_server_1ac0e9ed3c635f92105ee6ddf2a2f35107" kindref="member">SendWT_LoadPlayerInfoAgainRet</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>&amp;pkTS-&gt;<ref refid="struct_se_town_1a133392dc66f03dad54b5effabc235417" kindref="member">GetHSock</ref>());</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>(int)rkLoadAgainPlayer.size();<sp/>++i)</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_load_player_info_again" kindref="compound">SeLoadPlayerInfoAgain</ref>&amp;<sp/>rkPlayerInfo<sp/>=<sp/>rkLoadAgainPlayer[i];</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iModelNum<sp/>=<sp/>rkPlayerInfo.<ref refid="struct_se_load_player_info_again_1af64f05f59f994c9500b90def6985a685" kindref="member">dwPlayerID</ref><sp/>%<sp/>iBlockServerNum;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kMID2LoadAgainPlayer[iModelNum].push_back(rkPlayerInfo);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;<ref refid="struct_se_town_1ad9ed09ffbda2db389c3fc223272478d7" kindref="member">PushLoadPlayerID</ref>(rkPlayerInfo.<ref refid="struct_se_load_player_info_again_1af64f05f59f994c9500b90def6985a685" kindref="member">dwPlayerID</ref>,<sp/><ref refid="_src_2_world_server_8cpp_1a64c6aeb5282ea4d0f1dd5772c167b301" kindref="member">g_kWorldServer</ref>.<ref refid="class_world_server_1aaf23960f13ff4a978cf2a7206ce3222a" kindref="member">GetServerTime</ref>());</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::map&lt;int,<sp/>VLoadAgainPlayer&gt;::iterator<sp/>itrM<sp/>=<sp/>kMID2LoadAgainPlayer.begin();<sp/>itrM<sp/>!=<sp/>kMID2LoadAgainPlayer.end();<sp/>++itrM)</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/>dwThreadNum<sp/>=<sp/>itrM-&gt;first;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a4400dc46e259bcfe76bf791c83529577" kindref="member">SendWBL_LoadPlayerInfoAgain</ref>(pkTS-&gt;<ref refid="struct_se_town_1ae6466fa6bb4cf28102053adf72ba9354" kindref="member">GetTownIndex</ref>(),<sp/>pkTS-&gt;<ref refid="struct_se_town_1a133392dc66f03dad54b5effabc235417" kindref="member">GetHSock</ref>(),<sp/>(int)itrM-&gt;second.size(),<sp/>itrM-&gt;second,<sp/>&amp;dwThreadNum);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="class_world_server_1a612a705611b018b2673301555ca65aa8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a612a705611b018b2673301555ca65aa8" kindref="member">WorldServer::ProcessTW_PlayerValidate</ref>(<ref refid="struct_se_t_w___player_validate" kindref="compound">SeTW_PlayerValidate</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" kindref="member">GET_CUR_CONN_AND_TOWN</ref>(pkConnect,<sp/>pkTS);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1ad5e7b66fd872f6c8a61f72bb5c7ce554" kindref="member">SendWBL_PlayerValidate</ref>(pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a09ea35d76d5bf40c78a3c88803654228" kindref="member">dwPlayerID</ref>,<sp/>pkTS-&gt;GetHSock(),<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a426a1ba95bb5721d607e4eb5385be778" kindref="member">dwClientID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a187950c9b209e12ce5426a2980e18b32" kindref="member">dwSessionID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a1ac11db195c3ca0686f56ba4d8de7c4c" kindref="member">dwPlayerIP</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_validate_1ad61cef79dad2fed13f2976c437686f3a" kindref="member">dwMaxMailID</ref>,</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pkTS-&gt;GetTownIndex(),<sp/>pkTS-&gt;GetServerID(),pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a9c6f499360cec150fbd69ada7b26db01" kindref="member">kMobileInfo</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___player_validate_1a09ea35d76d5bf40c78a3c88803654228" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="194"><highlight class="normal">}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="class_world_server_1aaae57bfd4b92adfde74cdd6934cbd721" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1aaae57bfd4b92adfde74cdd6934cbd721" kindref="member">WorldServer::ProcessTW_QueryName</ref>(<ref refid="struct_se_t_w___query_name" kindref="compound">SeTW_QueryName</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="197"><highlight class="normal">{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" kindref="member">GET_CUR_CONN_AND_TOWN</ref>(pkConnect,<sp/>pkTS);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acTemName[<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4697a1b0adee30e7c3810134c6cfe519" kindref="member">MemCpy</ref>(acTemName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName),<sp/>pkData-&gt;<ref refid="struct_se_t_w___query_name_1a66be899771e382303b1ef6a0c8c6efcb" kindref="member">acName</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pkData-&gt;<ref refid="struct_se_t_w___query_name_1a66be899771e382303b1ef6a0c8c6efcb" kindref="member">acName</ref>));</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>acTemName[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName)<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(acTemName)<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa5910d15f8f5c21834a975b7009e7de20" kindref="member">SSD_MIN_CHAR_NAME</ref><sp/>||<sp/>strlen(acTemName)<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acName[256]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!FilterSqlString(acTemName,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)strlen(acTemName),<sp/>acName))</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;[CharDB]<sp/>QueryName<sp/>name<sp/>error:<sp/>name[%s]&quot;</highlight><highlight class="normal">,<sp/>acTemName);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_d_b_stream" kindref="compound">SeDBStream</ref><sp/>kDBStream;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1acf123cf335ac68a48b98a0a1815f7ad4" kindref="member">InitData</ref>();</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkData-&gt;<ref refid="struct_se_t_w___query_name_1a50743f73043e258ba3095444b4a6cabd" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkTS-&gt;GetTownIndex());</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_world_server_1a724d3b457d787e2c0e48d7b72a372e9f" kindref="member">SendWB_IsPlayerExist</ref>(<ref refid="_se_d_b_define_8h_1ac842732764f87c3406da64dbb91acf17a930a7ef23bc63fe7870063ef7d005ed9" kindref="member">SPEQ_CHAR_QUERY_NAME_BY_NAME</ref>,<sp/>acName,<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad6e3e36c80032f3ae4b4311864e4936f" kindref="member">GetCurPos</ref>(),<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad7726eed21ab7e2812c74ab59e50fead" kindref="member">GetData</ref>()))</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a385290aed629493ee5d1bb7feb25842d" kindref="member">SendWT_QueryNameRet</ref>(pkData-&gt;<ref refid="struct_se_t_w___query_name_1a50743f73043e258ba3095444b4a6cabd" kindref="member">dwPlayerID</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>&amp;pkConnect-&gt;kSock);</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal">}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226" refid="class_world_server_1a830f01be1b083f2145dec9fcc561de4f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a830f01be1b083f2145dec9fcc561de4f" kindref="member">WorldServer::ProcessTW_CreateChar</ref>(<ref refid="struct_se_t_w___create_char" kindref="compound">SeTW_CreateChar</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="227"><highlight class="normal">{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acTemName[<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4697a1b0adee30e7c3810134c6cfe519" kindref="member">MemCpy</ref>(acTemName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName),<sp/>pkData-&gt;<ref refid="struct_se_t_w___create_char_1ab8d36103ce86b7c0cf36808c22b1dc60" kindref="member">acName</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pkData-&gt;<ref refid="struct_se_t_w___create_char_1ab8d36103ce86b7c0cf36808c22b1dc60" kindref="member">acName</ref>));</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>acTemName[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName)<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(acTemName)<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa5910d15f8f5c21834a975b7009e7de20" kindref="member">SSD_MIN_CHAR_NAME</ref><sp/>||<sp/>strlen(acTemName)<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_t_w___create_char_1ace2b71d281a2eaf419129bd1553e921a" kindref="member">iSex</ref><sp/>&lt;<sp/>0<sp/>||<sp/>pkData-&gt;<ref refid="struct_se_t_w___create_char_1ace2b71d281a2eaf419129bd1553e921a" kindref="member">iSex</ref><sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>const<sp/>ManualTable*<sp/>pkHeroRes<sp/>=<sp/>ManualTableMgr::Get()-&gt;GetManualTable(pkData-&gt;dwCardTypeID);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>if<sp/>(!pkHeroRes<sp/>||<sp/>pkHeroRes-&gt;uiType<sp/>!=<sp/>MANUAL_TYPE_HERO)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>SendWT_CreateCharRet(pkData-&gt;dwPlayerID,<sp/>CCR_HEROCARD_ERROR,<sp/>&amp;pkConnect-&gt;kSock);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;ProcessTW_CreateChar<sp/><sp/>player[%u]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_t_w___create_char_1a9170b2433734aa154bf53b371dd0cc3b" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1af3c87716ab28cf92fb25060c92b4e19b" kindref="member">SendWBL_CreateChar</ref>(pkData-&gt;<ref refid="struct_se_t_w___create_char_1a9170b2433734aa154bf53b371dd0cc3b" kindref="member">dwPlayerID</ref>,<sp/>acTemName,<sp/>pkData-&gt;<ref refid="struct_se_t_w___create_char_1ace2b71d281a2eaf419129bd1553e921a" kindref="member">iSex</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___create_char_1a9170b2433734aa154bf53b371dd0cc3b" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="class_world_server_1ae3c5d6a577048f639195eacbb4e1d855" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ae3c5d6a577048f639195eacbb4e1d855" kindref="member">WorldServer::ProcessTW_PlayerLeave</ref>(<ref refid="struct_se_t_w___player_leave" kindref="compound">SeTW_PlayerLeave</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a9cd38ce331e8c6b21890edcb859bb637" kindref="member">GetTSBySock</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkTS)</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a00d835a83e30a2073deab8b42f0d5d42" kindref="member">OnPlayerLeave</ref>(pkData-&gt;<ref refid="struct_se_t_w___player_leave_1a2c83f5c79d13f5115e005bf03678fec2" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_leave_1a07a689164a8d29a55cd4408d510a1925" kindref="member">bExitGame</ref>,<sp/>pkTS-&gt;<ref refid="struct_se_town_1ae6466fa6bb4cf28102053adf72ba9354" kindref="member">GetTownIndex</ref>());</highlight></codeline>
<codeline lineno="267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="class_world_server_1ad2fba09f4cc37149abd4f29c7ee67223" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ad2fba09f4cc37149abd4f29c7ee67223" kindref="member">WorldServer::ProcessTW_RaceEndRace</ref>(<ref refid="struct_se_t_w___race_end_race" kindref="compound">SeTW_RaceEndRace</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="270"><highlight class="normal">{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_map_info_table" kindref="compound">MapInfoTable</ref>*<sp/>pkMapRes<sp/>=<sp/><ref refid="class_map_info_table_mgr_1a9449f21c1cae1164722db1429849d982" kindref="member">MapInfoTableMgr::Get</ref>()-&gt;<ref refid="class_map_info_table_mgr_1a39952135dade4b97c37babb2956d299a" kindref="member">GetMapInfoTable</ref>(pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a835bf3ce04b14021c848a115e7018c37" kindref="member">dwMapID</ref>);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pkMapRes)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iTownIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a9cd38ce331e8c6b21890edcb859bb637" kindref="member">GetTSBySock</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTS)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iTownIndex<sp/>=<sp/>pkTS-&gt;<ref refid="struct_se_town_1ae6466fa6bb4cf28102053adf72ba9354" kindref="member">GetTownIndex</ref>();</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBlockServerNum<sp/>=<sp/><ref refid="class_world_server_1a06a8e758964ba14fe6e7bb7095692991" kindref="member">GetBlockServerNum</ref>();</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iBlockServerNum<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;recv<sp/>race<sp/>end<sp/>info:<sp/>map[%s]&quot;</highlight><highlight class="normal">,<sp/><ref refid="_se_tool_8h_1ada81d4ae5d39c42af0a02b45f4a6f715" kindref="member">GetID2Str</ref>(pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a835bf3ce04b14021c848a115e7018c37" kindref="member">dwMapID</ref>));</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>strAreaInfo<sp/>=<sp/><ref refid="class_world_server_1adad2046564ef012a0226b6b45f5221f1" kindref="member">GetRaceAreaInfo</ref>(pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a726242da4907d526cfbf7c7ea529876a" kindref="member">iNum</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1af59a091b9d17ccfd51e05f07ea2d4624" kindref="member">akInfo</ref>);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>std::map&lt;int,<sp/>VWSRaceSendInfo&gt;<sp/>kMapID2RaceInfo;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a726242da4907d526cfbf7c7ea529876a" kindref="member">iNum</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_w_s_race_send_info" kindref="compound">SeWSRaceSendInfo</ref>&amp;<sp/>rkInfo<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1af59a091b9d17ccfd51e05f07ea2d4624" kindref="member">akInfo</ref>[i];</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!rkInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref><sp/>||<sp/><ref refid="class_world_server_1a06efe58eed0734b5c8ae608249c71051" kindref="member">m_kConfig</ref>.<ref refid="struct_se_world_config_1a17bf105e68a701ec7d2a58ca42fc90bd" kindref="member">dwAreaID</ref><sp/>!=<sp/>rkInfo.<ref refid="struct_se_w_s_race_send_info_1add8fa78c25c6fcc351b949b0891a16ee" kindref="member">dwAreaID</ref>)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/>dwPlayerID<sp/>=<sp/>rkInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref>;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a445ac081df2f5e68d340b4c2e23ccfad" kindref="member">DelReconPlayer</ref>(rkInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(rkInfo.<ref refid="struct_se_w_s_race_send_info_1a393e27920982caff5fc17737f4c137e7" kindref="member">kInfo</ref>.<ref refid="struct_se_race_send_info_1ad178259fe6b18776ea0f8a860e1888ca" kindref="member">iRaceEndFlag</ref><sp/>&amp;<sp/><ref refid="_se_ptl_comm_define_8h_1a4c3ea18c5fe669acab4839925442c447a6be90052a576d4c23ba588ec83592018" kindref="member">SROT_RRESULT_INVILAD</ref>))</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a2c06a8104fc5a903378505d80cbb889f" kindref="member">OnHeroEndStat</ref>(rkInfo);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_server_define_8h_1a91f76a012c5ad3d98b66371cdec22306" kindref="member">VPlayerID</ref><sp/>akCampPlayer;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a726242da4907d526cfbf7c7ea529876a" kindref="member">iNum</ref>;<sp/>j++)</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_w_s_race_send_info" kindref="compound">SeWSRaceSendInfo</ref>&amp;<sp/>rkRaceInfo<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1af59a091b9d17ccfd51e05f07ea2d4624" kindref="member">akInfo</ref>[i];</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref><sp/>!=<sp/>rkRaceInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref><sp/>&amp;&amp;<sp/>rkInfo.<ref refid="struct_se_w_s_race_send_info_1a09078e536020fc41b102e0cf28b16f60" kindref="member">eCmp</ref><sp/>==<sp/>rkRaceInfo.<ref refid="struct_se_w_s_race_send_info_1a09078e536020fc41b102e0cf28b16f60" kindref="member">eCmp</ref>)</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>akCampPlayer.push_back(rkRaceInfo.<ref refid="struct_se_w_s_race_send_info_1a861389bacd76de6fcd52edba4345635d" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Town</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!akCampPlayer.empty())</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HSock<sp/>kTownSock<sp/>=<sp/><ref refid="class_world_server_1a628c37713562408ca4467000d48ef374" kindref="member">GetPlayerTownSock</ref>(dwPlayerID);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(kTownSock.IsInvalid())</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kTownSock<sp/>=<sp/>pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!kTownSock.IsInvalid())</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//SendWT_FriendUpdateIntimacy(dwPlayerID,<sp/>SSD_TEAMMATE_ADD_INTIMACY,<sp/>(int)akCampPlayer.size(),<sp/>akCampPlayer,<sp/>&amp;kTownSock);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iModelNum<sp/>=<sp/>dwPlayerID<sp/>%<sp/>iBlockServerNum;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kMapID2RaceInfo[iModelNum].push_back(rkInfo);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Push</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::map&lt;int,<sp/>VWSRaceSendInfo&gt;::iterator<sp/>iMapItr<sp/>=<sp/>kMapID2RaceInfo.begin();<sp/>iMapItr<sp/>!=<sp/>kMapID2RaceInfo.end();<sp/>++iMapItr)</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_ptl_define_8h_1a847e13511a0128386107c43755e3e6c5" kindref="member">VWSRaceSendInfo</ref>&amp;<sp/>rakSendInfo<sp/>=<sp/>iMapItr-&gt;second;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a8e261cd6c4480be7f2765a794ec09d7e" kindref="member">OnSendBSRaceEndRace</ref>(iMapItr-&gt;first,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a835bf3ce04b14021c848a115e7018c37" kindref="member">dwMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1ae6086571f61fe15cb8ec00150a85d060" kindref="member">dwRoomSession</ref>,<sp/>iTownIndex,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1ac3070f03a3645daca93c9cb28102c3fc" kindref="member">dwTime</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a726242da4907d526cfbf7c7ea529876a" kindref="member">iNum</ref>,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>rakSendInfo,<sp/>strAreaInfo.c_str(),<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_race_1a85cf97e590b4cdeb7213f23b35969ebc" kindref="member">eMatchType</ref>);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal">}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352" refid="class_world_server_1a618ed14205316c30bcc42e4ac85da05b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a618ed14205316c30bcc42e4ac85da05b" kindref="member">WorldServer::ProcessTW_RaceEndGuanka</ref>(<ref refid="struct_se_t_w___race_end_guanka" kindref="compound">SeTW_RaceEndGuanka</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="353"><highlight class="normal">{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBlockServerNum<sp/>=<sp/><ref refid="class_world_server_1a06a8e758964ba14fe6e7bb7095692991" kindref="member">GetBlockServerNum</ref>();</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iBlockServerNum<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>std::map&lt;int,<sp/>VWSGuanqiaSendInfo&gt;<sp/>kMapID2RaceInfo;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_guanka_1aaebde4d60529ccd9d3295b98d2c85167" kindref="member">iNum</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_se_w_s_guanqia_send_info" kindref="compound">SeWSGuanqiaSendInfo</ref>&amp;<sp/>rkInfo<sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_guanka_1a4143b91814a53ab7065c245bda48d265" kindref="member">akInfo</ref>[i];</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rkInfo.<ref refid="struct_se_w_s_guanqia_send_info_1ad0f934efda7c6dbf3d5d496a5f9de323" kindref="member">dwPlayerID</ref>)</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DWord<sp/>dwPlayerID<sp/>=<sp/>rkInfo.<ref refid="struct_se_w_s_guanqia_send_info_1ad0f934efda7c6dbf3d5d496a5f9de323" kindref="member">dwPlayerID</ref>;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a445ac081df2f5e68d340b4c2e23ccfad" kindref="member">DelReconPlayer</ref>(rkInfo.<ref refid="struct_se_w_s_guanqia_send_info_1ad0f934efda7c6dbf3d5d496a5f9de323" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iModelNum<sp/>=<sp/>dwPlayerID<sp/>%<sp/>iBlockServerNum;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kMapID2RaceInfo[iModelNum].push_back(rkInfo);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Push</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::map&lt;int,<sp/>VWSGuanqiaSendInfo&gt;::iterator<sp/>iMapItr<sp/>=<sp/>kMapID2RaceInfo.begin();<sp/>iMapItr<sp/>!=<sp/>kMapID2RaceInfo.end();<sp/>++iMapItr)</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_ptl_define_8h_1aaa10b69170ba8a280803599d416e101c" kindref="member">VWSGuanqiaSendInfo</ref>&amp;<sp/>rakSendInfo<sp/>=<sp/>iMapItr-&gt;second;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_world_server_1aae0a4f85ac118d8a1d8e82810e66a6a6" kindref="member">OnSendBSRaceEndGuanQia</ref>(iMapItr-&gt;first,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_guanka_1a34da4345e5296792404f1d8fb526b95b" kindref="member">dwMapID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_guanka_1a4dcbfe11bcd8d18ed354b43cfca94279" kindref="member">dwTime</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_end_guanka_1aaebde4d60529ccd9d3295b98d2c85167" kindref="member">iNum</ref>,<sp/>rakSendInfo,<sp/>0);</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="382"><highlight class="normal">}</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="class_world_server_1a77b0f205c5461fdeb94c128160fd1047" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a77b0f205c5461fdeb94c128160fd1047" kindref="member">WorldServer::ProcessTW_ItemExchange</ref>(<ref refid="struct_se_t_w___item_exchange" kindref="compound">SeTW_ItemExchange</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="385"><highlight class="normal">{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>const<sp/>TaskExchangeTable*<sp/>pkExchangeRes<sp/>=<sp/>TaskExchangeTableMgr::Get()-&gt;GetTaskExchangeTable(pkData-&gt;iTypeID);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>if<sp/>(!pkExchangeRes<sp/>||<sp/>pkExchangeRes-&gt;iOpen<sp/>==<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a2bfb33b2a979a9b3138bb9abdc865065" kindref="member">SendWBL_ItemExchange</ref>(pkData-&gt;<ref refid="struct_se_t_w___item_exchange_1a941568244acc77fec6c1ab64bfe7a6cd" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___item_exchange_1ac1ef74ee985be33bcf798d573bf847f2" kindref="member">iTypeID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___item_exchange_1a941568244acc77fec6c1ab64bfe7a6cd" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="393"><highlight class="normal">}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395" refid="class_world_server_1a8e1b4af942c6fb2753d43dc9b2a6d5e9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a8e1b4af942c6fb2753d43dc9b2a6d5e9" kindref="member">WorldServer::ProcessTW_SavePlayerReconInfo</ref>(<ref refid="struct_se_t_w___save_player_recon_info" kindref="compound">SeTW_SavePlayerReconInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="396"><highlight class="normal">{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1a4802486b9e3440ebdf17a70c48e4e6de" kindref="member">dwRoomID</ref><sp/>&lt;=<sp/>0<sp/>||<sp/>pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1a9b7723bab1f3c724718b7131ec6fe366" kindref="member">iSeatIndex</ref><sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_player_recon_info" kindref="compound">SePlayerReconInfo</ref><sp/>kReconInfo;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>kReconInfo.<ref refid="struct_se_player_recon_info_1a111e602185cb99bcc4b05ab509b838ca" kindref="member">dwRoomID</ref><sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1a4802486b9e3440ebdf17a70c48e4e6de" kindref="member">dwRoomID</ref>;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>kReconInfo.<ref refid="struct_se_player_recon_info_1a598f9772a3b4b8624368538fdb41d91c" kindref="member">iSeatIndex</ref><sp/>=<sp/>pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1a9b7723bab1f3c724718b7131ec6fe366" kindref="member">iSeatIndex</ref>;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>kReconInfo.<ref refid="struct_se_player_recon_info_1a217235f8e83fe39841d0ac2759876fdc" kindref="member">dwDisconTime</ref><sp/>=<sp/><ref refid="_src_2_world_server_8cpp_1a64c6aeb5282ea4d0f1dd5772c167b301" kindref="member">g_kWorldServer</ref>.<ref refid="class_world_server_1aaf23960f13ff4a978cf2a7206ce3222a" kindref="member">GetServerTime</ref>();</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1aab438740bcab2ceaf0a36fe17074d118" kindref="member">m_kMID2ReconInfo</ref>[pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1aeffd13c36374d8afd38ca4adc824f8cc" kindref="member">dwPlayerID</ref>]<sp/>=<sp/>kReconInfo;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a83f3fe470b91cb8eed8762cc8e5e26c3" kindref="member">SeLogInfo</ref>(</highlight><highlight class="stringliteral">&quot;Save<sp/>recon<sp/>info<sp/>suc:player[%u]<sp/>room[%u]<sp/>seat[%d]&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_t_w___save_player_recon_info_1aeffd13c36374d8afd38ca4adc824f8cc" kindref="member">dwPlayerID</ref>,<sp/>kReconInfo.<ref refid="struct_se_player_recon_info_1a111e602185cb99bcc4b05ab509b838ca" kindref="member">dwRoomID</ref>,<sp/>kReconInfo.<ref refid="struct_se_player_recon_info_1a598f9772a3b4b8624368538fdb41d91c" kindref="member">iSeatIndex</ref>);</highlight></codeline>
<codeline lineno="410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412" refid="class_world_server_1a8d586325905a02ad56d8d0875747d33c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a8d586325905a02ad56d8d0875747d33c" kindref="member">WorldServer::ProcessTW_TaskQueryList</ref>(<ref refid="struct_se_t_w___task_query_list" kindref="compound">SeTW_TaskQueryList</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="413"><highlight class="normal">{</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a3c03680dca9ed19e22487f783520bb7b" kindref="member">SendWBL_TaskQueryList</ref>(pkData-&gt;<ref refid="struct_se_t_w___task_query_list_1a6b00d5ab4c86a1567b17e016625c8fbb" kindref="member">dwPlayerID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___task_query_list_1a6b00d5ab4c86a1567b17e016625c8fbb" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="415"><highlight class="normal">}</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417" refid="class_world_server_1a52a1db0cdede47c8486c221382de296d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a52a1db0cdede47c8486c221382de296d" kindref="member">WorldServer::ProcessTW_TaskResel</ref>(<ref refid="struct_se_t_w___task_resel" kindref="compound">SeTW_TaskResel</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="418"><highlight class="normal">{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a91f97759781ae522c18257a37f99358b" kindref="member">SendWBL_TaskResel</ref>(pkData-&gt;<ref refid="struct_se_t_w___task_resel_1a9fbe2c3114c6f21e48bed8c5c6ffec5f" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___task_resel_1ae842623b0762fe9ad794a32e4ffd8aae" kindref="member">dwTaskID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___task_resel_1a9fbe2c3114c6f21e48bed8c5c6ffec5f" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="420"><highlight class="normal">}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422" refid="class_world_server_1ab446ffd4bc2a879a5290455aa6102ef3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ab446ffd4bc2a879a5290455aa6102ef3" kindref="member">WorldServer::ProcessTW_GetTaskReward</ref>(<ref refid="struct_se_t_w___get_task_reward" kindref="compound">SeTW_GetTaskReward</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="423"><highlight class="normal">{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a8ba35203b9729af2c8cf29769b466521" kindref="member">SendWBL_TaskGetAward</ref>(pkData-&gt;<ref refid="struct_se_t_w___get_task_reward_1afc95a6cf63b2d70bdd3e925bf0599ea5" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___get_task_reward_1abdd72e25a4599f677506ed945a80a8b3" kindref="member">dwTaskID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___get_task_reward_1afc95a6cf63b2d70bdd3e925bf0599ea5" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="425"><highlight class="normal">}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427" refid="class_world_server_1aa253fbb5c041e069bc312d88fb7323c2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1aa253fbb5c041e069bc312d88fb7323c2" kindref="member">WorldServer::ProcessTW_MatchRaceLoad</ref>(<ref refid="struct_se_t_w___match_race_load" kindref="compound">SeTW_MatchRaceLoad</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="428"><highlight class="normal">{</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a108082de144e6c5cd32de1fd597f895f" kindref="member">SendWBL_MatchRaceLoad</ref>(pkData-&gt;<ref refid="struct_se_t_w___match_race_load_1ace6b01660f0c375180fab88ba795361f" kindref="member">dwRoomSession</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___match_race_load_1a7fa1dfe7bb464e5c2f25d034de3716f2" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___match_race_load_1a1566a1e10be2eaf0a660e59c4b42c432" kindref="member">dwMapID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___match_race_load_1a7fa1dfe7bb464e5c2f25d034de3716f2" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="430"><highlight class="normal">}</highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight></codeline>
<codeline lineno="432" refid="class_world_server_1a609b97f4f3710cb17413b168b0f4d3dd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a609b97f4f3710cb17413b168b0f4d3dd" kindref="member">WorldServer::ProcessTW_DelReconInfo</ref>(<ref refid="struct_se_t_w___del_recon_info" kindref="compound">SeTW_DelReconInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="433"><highlight class="normal">{</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a445ac081df2f5e68d340b4c2e23ccfad" kindref="member">DelReconPlayer</ref>(pkData-&gt;<ref refid="struct_se_t_w___del_recon_info_1a3c41217fa43dae3096d44d240bdb5dde" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="435"><highlight class="normal">}</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437" refid="class_world_server_1a409206052e544c3117c4ff1d830d7e2a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a409206052e544c3117c4ff1d830d7e2a" kindref="member">WorldServer::ProcessTW_PlayerRename</ref>(<ref refid="struct_se_t_w___player_rename" kindref="compound">SeTW_PlayerRename</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="438"><highlight class="normal">{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a8c337e3b9def0a4def41ddcf50c24219" kindref="member">SendWBL_PlayerRenameBegin</ref>(pkData-&gt;<ref refid="struct_se_t_w___player_rename_1a812c89c2a7ca64a7a6f7fc8fd87a819c" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_rename_1a8babe8837861b4d1c04725183a0dbad5" kindref="member">acName</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___player_rename_1a812c89c2a7ca64a7a6f7fc8fd87a819c" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="440"><highlight class="normal">}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442" refid="class_world_server_1a63ef803e81b49748a0495830f6d2122d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a63ef803e81b49748a0495830f6d2122d" kindref="member">WorldServer::ProcessTW_RaceBuy</ref>(<ref refid="struct_se_t_w___race_buy" kindref="compound">SeTW_RaceBuy</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="443"><highlight class="normal">{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1adf3b23c070a68ff0cac119ade4c63c42" kindref="member">SendWBL_RaceBuy</ref>(pkData-&gt;<ref refid="struct_se_t_w___race_buy_1a1712b2eb880871f9facb5bcdb9e4cd8b" kindref="member">dwSession</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_buy_1ae54c5cb06f69196b9c00e7b85f6d0d77" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_buy_1abf70fdc7b524defc1d08791757b48445" kindref="member">iType</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_buy_1af547f4acc5e59167d278dd549c2de5a9" kindref="member">dwParam1</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___race_buy_1adee114a8bdeb3113b31a8f953a33d416" kindref="member">dwParam2</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___race_buy_1ae54c5cb06f69196b9c00e7b85f6d0d77" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="445"><highlight class="normal">}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447" refid="class_world_server_1a01a1ce59399e7fc016e74fabaca80a28" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a01a1ce59399e7fc016e74fabaca80a28" kindref="member">WorldServer::ProcessTW_MapTaskOpr</ref>(<ref refid="struct_se_t_w___map_task_opr" kindref="compound">SeTW_MapTaskOpr</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="448"><highlight class="normal">{</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1ad66aca229ff865658c1788045a09a4bb" kindref="member">SendWBL_MapTaskOpr</ref>(pkData-&gt;<ref refid="struct_se_t_w___map_task_opr_1a782eb44db78cbf5aa061ee7150dcd2bc" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___map_task_opr_1a43ca1e74eaa5b3569845059a5aae969f" kindref="member">iOprType</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___map_task_opr_1a92771769f56a0703a5429f429d7e2c83" kindref="member">dwParam</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___map_task_opr_1a782eb44db78cbf5aa061ee7150dcd2bc" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="450"><highlight class="normal">}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452" refid="class_world_server_1a9965f6d29aaf02c952e6a48589fa1a5e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a9965f6d29aaf02c952e6a48589fa1a5e" kindref="member">WorldServer::ProcessTW_QueryNearestRaceInfo</ref>(<ref refid="struct_se_t_w___query_nearest_race_info" kindref="compound">SeTW_QueryNearestRaceInfo</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="453"><highlight class="normal">{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a16c44cfbf0309e2d45bd22e4e0d20450" kindref="member">SendHS_QueryNearestRaceInfo</ref>(pkData-&gt;<ref refid="struct_se_t_w___query_nearest_race_info_1aa4b65e983d234ff4faaa0465a807bb7b" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___query_nearest_race_info_1a65ff3698450a23cdc40c7f3f50b7f71e" kindref="member">dwQueriedID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___query_nearest_race_info_1a55e566f6e85156870b904f585f135a7d" kindref="member">dwMapID</ref>);</highlight></codeline>
<codeline lineno="455"><highlight class="normal">}</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457" refid="class_world_server_1ae1a981ccdf48647396f43b497efbcf8a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ae1a981ccdf48647396f43b497efbcf8a" kindref="member">WorldServer::ProcessTW_PlayerLeaveRace</ref>(<ref refid="struct_se_t_w___player_leave_race" kindref="compound">SeTW_PlayerLeaveRace</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="458"><highlight class="normal">{</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*<sp/>pkConnect<sp/>=<sp/>(<ref refid="struct_se_connect" kindref="compound">SeConnect</ref>*)pkSender;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iTownIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_se_town" kindref="compound">SeTown</ref>*<sp/>pkTS<sp/>=<sp/><ref refid="class_world_server_1a9cd38ce331e8c6b21890edcb859bb637" kindref="member">GetTSBySock</ref>(pkConnect-&gt;<ref refid="struct_se_connect_1afaa6333d607da1a42b52df55799eab7b" kindref="member">kSock</ref>);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pkTS)</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iTownIndex<sp/>=<sp/>pkTS-&gt;<ref refid="struct_se_town_1ae6466fa6bb4cf28102053adf72ba9354" kindref="member">GetTownIndex</ref>();</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iBlockServerNum<sp/>=<sp/><ref refid="class_world_server_1a06a8e758964ba14fe6e7bb7095692991" kindref="member">GetBlockServerNum</ref>();</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iBlockServerNum<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1ab19c516672348b15ddabafb0bfb9d0a7" kindref="member">SeLogDebug</ref>(</highlight><highlight class="stringliteral">&quot;ProcessTW_PlayerLeaveRace<sp/>:<sp/>PlayerID[%d].<sp/>DelReconPlayer&quot;</highlight><highlight class="normal">,<sp/>pkData-&gt;<ref refid="struct_se_t_w___player_leave_race_1a026f0f4cd01736cc98e40bef11050460" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a445ac081df2f5e68d340b4c2e23ccfad" kindref="member">DelReconPlayer</ref>(pkData-&gt;<ref refid="struct_se_t_w___player_leave_race_1a026f0f4cd01736cc98e40bef11050460" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="477"><highlight class="normal">}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479" refid="class_world_server_1aaa25c8953e35b16110982c8ae2a94ce9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1aaa25c8953e35b16110982c8ae2a94ce9" kindref="member">WorldServer::ProcessTW_BuyShopItem</ref>(<ref refid="struct_se_t_w___buy_shop_item" kindref="compound">SeTW_BuyShopItem</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="480"><highlight class="normal">{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>pkData)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1afccb81c41b50fd7e833eb0c4adc1fa9b" kindref="member">SendWBL_BuyShopItem</ref>(pkData-&gt;<ref refid="struct_se_t_w___buy_shop_item_1a9d36d6d19a32663e1e4bc8841d170329" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___buy_shop_item_1a4f6b3e968009b4163fca4582144e96c8" kindref="member">types</ref>,pkData-&gt;<ref refid="struct_se_t_w___buy_shop_item_1a345d012973724ab1d7b3e6c451ca2080" kindref="member">ShopID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___buy_shop_item_1aea42395253ffeee57a6ceaf4cc8420c7" kindref="member">Num</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___buy_shop_item_1a9d36d6d19a32663e1e4bc8841d170329" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="483"><highlight class="normal">}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="class_world_server_1ab95abfe3926e4ec27f9e891d1869fbe1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ab95abfe3926e4ec27f9e891d1869fbe1" kindref="member">WorldServer::ProcessTW_ShopItemGM</ref>(<ref refid="struct_se_t_w___shop_item_g_m" kindref="compound">SeTW_ShopItemGM</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="486"><highlight class="normal">{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>pkData)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1af6922b52ea94ab48d8450c9f2cc1164c" kindref="member">SendWBL_ShopItemGM</ref>(pkData-&gt;<ref refid="struct_se_t_w___shop_item_g_m_1a54bf78afeb1c47fb026b18da5790e1be" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___shop_item_g_m_1af0cb5efc1c5640296aaaa7fcf825ff5c" kindref="member">iNum</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___shop_item_g_m_1afacffacd5d3b895f88fcfd17b2d6eca0" kindref="member">GmItems</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___shop_item_g_m_1a54bf78afeb1c47fb026b18da5790e1be" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="489"><highlight class="normal">}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491" refid="class_world_server_1ae204a5a5093e3323ac4c640e7b7f2333" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1ae204a5a5093e3323ac4c640e7b7f2333" kindref="member">WorldServer::ProcessTW_GetItemGM</ref>(<ref refid="struct_se_t_w___get_item_g_m" kindref="compound">SeTW_GetItemGM</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="492"><highlight class="normal">{</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(NULL<sp/>==<sp/>pkData)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1ae0a2f65e61fc2d55a24a9e073b10b5f3" kindref="member">SendWBL_GetItemGM</ref>(pkData-&gt;<ref refid="struct_se_t_w___get_item_g_m_1ab7ad859ed1ea3e3f74209f8d300768f3" kindref="member">dwPlayerID</ref>,<sp/>pkData-&gt;<ref refid="struct_se_t_w___get_item_g_m_1a800f85669d0e3c38a4fb8ba668e41482" kindref="member">ShopID</ref>,<sp/>&amp;pkData-&gt;<ref refid="struct_se_t_w___get_item_g_m_1ab7ad859ed1ea3e3f74209f8d300768f3" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="495"><highlight class="normal">}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497" refid="class_world_server_1a472b4071bcd195bb834d45d3518bf075" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a472b4071bcd195bb834d45d3518bf075" kindref="member">WorldServer::ProcessTW_SearchUserArchivesInfoReq</ref>(<ref refid="struct_se_t_w___search_user_archives_info_req" kindref="compound">SeTW_SearchUserArchivesInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="498"><highlight class="normal">{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" kindref="member">GET_CUR_CONN_AND_TOWN</ref>(pkConnect,<sp/>pkTS);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acTemName[<ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_se_tool_8cpp_1a4697a1b0adee30e7c3810134c6cfe519" kindref="member">MemCpy</ref>(acTemName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName),<sp/>pkData-&gt;<ref refid="struct_se_t_w___search_user_archives_info_req_1a68c1c7cf72236b549866ad494128acf7" kindref="member">username</ref>.<ref refid="struct_se_user_archives_name_info_1a6e154c8220293eea00e30a39c829a6d2" kindref="member">acName</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(pkData-&gt;<ref refid="struct_se_t_w___search_user_archives_info_req_1a68c1c7cf72236b549866ad494128acf7" kindref="member">username</ref>.<ref refid="struct_se_user_archives_name_info_1a6e154c8220293eea00e30a39c829a6d2" kindref="member">acName</ref>));</highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/>acTemName[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(acTemName)<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strlen(acTemName)<sp/>&lt;<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa5910d15f8f5c21834a975b7009e7de20" kindref="member">SSD_MIN_CHAR_NAME</ref><sp/>||<sp/>strlen(acTemName)<sp/>&gt;=<sp/><ref refid="_se_ptl_comm_define_8h_1af62c3a00672953c86a2586d53c60663aa60c2838bb5fe85c968e32da4f9958655" kindref="member">SSD_MAX_CHAR_NAME</ref>)</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>acName[256]<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!FilterSqlString(acTemName,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)strlen(acTemName),<sp/>acName))</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_se_file_log_8h_1a59fe2018c00666084724bec1365b41f5" kindref="member">SeLogError</ref>(</highlight><highlight class="stringliteral">&quot;[CharDB]<sp/>QueryName<sp/>name<sp/>error:<sp/>name[%s]&quot;</highlight><highlight class="normal">,<sp/>acTemName);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_d_b_stream" kindref="compound">SeDBStream</ref><sp/>kDBStream;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1acf123cf335ac68a48b98a0a1815f7ad4" kindref="member">InitData</ref>();</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkData-&gt;<ref refid="struct_se_t_w___search_user_archives_info_req_1a9a44fd536a5e343a420916a6378c404c" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkTS-&gt;GetTownIndex());</highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a724d3b457d787e2c0e48d7b72a372e9f" kindref="member">SendWB_IsPlayerExist</ref>(<ref refid="_se_d_b_define_8h_1ac842732764f87c3406da64dbb91acf17a930a7ef23bc63fe7870063ef7d005ed9" kindref="member">SPEQ_CHAR_QUERY_NAME_BY_NAME</ref>,<sp/>acName,<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad6e3e36c80032f3ae4b4311864e4936f" kindref="member">GetCurPos</ref>(),<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad7726eed21ab7e2812c74ab59e50fead" kindref="member">GetData</ref>());</highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524" refid="class_world_server_1a5061e544cb18be85386e3484201ad8b4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_world_server_1a5061e544cb18be85386e3484201ad8b4" kindref="member">WorldServer::ProcessTW_SearchUserArchivesDetailInfoReq</ref>(<ref refid="struct_se_t_w___search_user_archives_detail_info_req" kindref="compound">SeTW_SearchUserArchivesDetailInfoReq</ref>*<sp/>pkData,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iSize,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pkSender)</highlight></codeline>
<codeline lineno="525"><highlight class="normal">{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_src_2_se_t_w_process_8cpp_1a009a143f9ff532f2813d5ed81ed2a9b4" kindref="member">GET_CUR_CONN_AND_TOWN</ref>(pkConnect,<sp/>pkTS);</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_se_d_b_stream" kindref="compound">SeDBStream</ref><sp/>kDBStream;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1acf123cf335ac68a48b98a0a1815f7ad4" kindref="member">InitData</ref>();</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkData-&gt;<ref refid="struct_se_t_w___search_user_archives_detail_info_req_1ae041fbabb8630545c2dd4261ca9b2c9f" kindref="member">dwPlayerID</ref>);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkTS-&gt;GetTownIndex());</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>kDBStream.<ref refid="class_se_d_b_stream_1aecba2fc0ccfbcdc8a714347fce9d2efc" kindref="member">WriteDword</ref>(pkData-&gt;<ref refid="struct_se_t_w___search_user_archives_detail_info_req_1a48e559f89e9184adca79b2a3dd09229d" kindref="member">userid</ref>);</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_world_server_1a724d3b457d787e2c0e48d7b72a372e9f" kindref="member">SendWB_IsPlayerExist</ref>(<ref refid="_se_d_b_define_8h_1ac842732764f87c3406da64dbb91acf17a3a8b3b0619db4c858bb759b12e76dcc5" kindref="member">SPEQ_CHAR_QUERY_NAME_BY_USERID</ref>,<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad6e3e36c80032f3ae4b4311864e4936f" kindref="member">GetCurPos</ref>(),<sp/>kDBStream.<ref refid="class_se_d_b_stream_1ad7726eed21ab7e2812c74ab59e50fead" kindref="member">GetData</ref>());</highlight></codeline>
<codeline lineno="535"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="F:/TeamWork/ServerVersion/projects/server/Server/Server/WorldServer/Src/SeTWProcess.cpp"/>
  </compounddef>
</doxygen>
